var App = (function (exports) {
'use strict';

function __$styleInject(css, returnValue) {
  if (typeof document === 'undefined') {
    return returnValue;
  }
  css = css || '';
  var head = document.head || document.getElementsByTagName('head')[0];
  var style = document.createElement('style');
  style.type = 'text/css';
  head.appendChild(style);
  
  if (style.styleSheet){
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
  return returnValue;
}

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};





function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var tingle_min = createCommonjsModule(function (module, exports) {
!function(t,o){"function"==typeof undefined&&undefined.amd?undefined(o):module.exports=o();}(commonjsGlobal,function(){function t(t){var o={onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]};this.opts=r({},o,t), this.init();}function o(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px", this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px");}function e(){this.modal=document.createElement("div"), this.modal.classList.add("tingle-modal"), 0!==this.opts.closeMethods.length&&this.opts.closeMethods.indexOf("overlay")!==-1||this.modal.classList.add("tingle-modal--noOverlayClose"), this.modal.style.display="none", this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t);},this), this.opts.closeMethods.indexOf("button")!==-1&&(this.modalCloseBtn=document.createElement("button"), this.modalCloseBtn.classList.add("tingle-modal__close"), this.modalCloseBtnIcon=document.createElement("span"), this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"), this.modalCloseBtnIcon.innerHTML="Ã—", this.modalCloseBtnLabel=document.createElement("span"), this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"), this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel, this.modalCloseBtn.appendChild(this.modalCloseBtnIcon), this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)), this.modalBox=document.createElement("div"), this.modalBox.classList.add("tingle-modal-box"), this.modalBoxContent=document.createElement("div"), this.modalBoxContent.classList.add("tingle-modal-box__content"), this.modalBox.appendChild(this.modalBoxContent), this.opts.closeMethods.indexOf("button")!==-1&&this.modal.appendChild(this.modalCloseBtn), this.modal.appendChild(this.modalBox);}function s(){this.modalBoxFooter=document.createElement("div"), this.modalBoxFooter.classList.add("tingle-modal-box__footer"), this.modalBox.appendChild(this.modalBoxFooter);}function i(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:l.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:n.bind(this)}, this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn), this.modal.addEventListener("mousedown",this._events.clickOverlay), window.addEventListener("resize",this._events.resize), document.addEventListener("keydown",this._events.keyboardNav);}function n(t){this.opts.closeMethods.indexOf("escape")!==-1&&27===t.which&&this.isOpen()&&this.close();}function l(t){this.opts.closeMethods.indexOf("overlay")!==-1&&!d(t.target,"tingle-modal")&&t.clientX<this.modal.clientWidth&&this.close();}function d(t,o){for(;(t=t.parentElement)&&!t.classList.contains(o););return t}function a(){this.opts.closeMethods.indexOf("button")!==-1&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn), this.modal.removeEventListener("mousedown",this._events.clickOverlay), window.removeEventListener("resize",this._events.resize), document.removeEventListener("keydown",this._events.keyboardNav);}function r(){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(arguments[0][o]=arguments[t][o]);return arguments[0]}function h(){var t,o=document.createElement("tingle-test-transition"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==o.style[t])return e[t]}var c=h();return t.prototype.init=function(){this.modal||(e.call(this), i.call(this), document.body.insertBefore(this.modal,document.body.firstChild), this.opts.footer&&this.addFooter());}, t.prototype.destroy=function(){null!==this.modal&&(a.call(this), this.modal.parentNode.removeChild(this.modal), this.modal=null);}, t.prototype.open=function(){var t=this;"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(), this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"), document.body.classList.add("tingle-enabled"), this.setStickyFooter(this.opts.stickyFooter), this.modal.classList.add("tingle-modal--visible"), c?this.modal.addEventListener(c,function o(){"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t), t.modal.removeEventListener(c,o,!1);},!1):"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t), this.checkOverflow();}, t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")}, t.prototype.close=function(){if("function"==typeof this.opts.beforeClose){var t=this.opts.beforeClose.call(this);if(!t)return}document.body.classList.remove("tingle-enabled"), this.modal.classList.remove("tingle-modal--visible");var o=this;c?this.modal.addEventListener(c,function t(){o.modal.removeEventListener(c,t,!1), o.modal.style.display="none", "function"==typeof o.opts.onClose&&o.opts.onClose.call(this);},!1):(o.modal.style.display="none", "function"==typeof o.opts.onClose&&o.opts.onClose.call(this));}, t.prototype.setContent=function(t){"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="", this.modalBoxContent.appendChild(t));}, t.prototype.getContent=function(){return this.modalBoxContent}, t.prototype.addFooter=function(){s.call(this);}, t.prototype.setFooterContent=function(t){this.modalBoxFooter.innerHTML=t;}, t.prototype.getFooterContent=function(){return this.modalBoxFooter}, t.prototype.setStickyFooter=function(t){this.isOverflow()||(t=!1), t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter), this.modal.appendChild(this.modalBoxFooter), this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"), o.call(this), this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter), this.modalBox.appendChild(this.modalBoxFooter), this.modalBoxFooter.style.width="auto", this.modalBoxFooter.style.left="", this.modalBoxContent.style["padding-bottom"]="", this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky")));}, t.prototype.addFooterBtn=function(t,o,e){var s=document.createElement("button");return s.innerHTML=t, s.addEventListener("click",e), "string"==typeof o&&o.length&&o.split(" ").forEach(function(t){s.classList.add(t);}), this.modalBoxFooter.appendChild(s), s}, t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0");}, t.prototype.isOverflow=function(){var t=window.innerHeight,o=this.modalBox.clientHeight;return o>=t}, t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"), !this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(o.call(this), this.setStickyFooter(!0)));}, {modal:t}});
});

var alertify = createCommonjsModule(function (module) {
/**
 * alertifyjs 1.11.0 http://alertifyjs.com
 * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.
 * Copyright 2017 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) 
 * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/
( function ( window ) {
    var keys = {
        ENTER: 13,
        ESC: 27,
        F1: 112,
        F12: 123,
        LEFT: 37,
        RIGHT: 39
    };
    /**
     * Default options 
     * @type {Object}
     */
    var defaults = {
        autoReset:true,
        basic:false,
        closable:true,
        closableByDimmer:true,
        frameless:false,
        maintainFocus:true, //global default not per instance, applies to all dialogs
        maximizable:true,
        modal:true,
        movable:true,
        moveBounded:false,
        overflow:true,
        padding: true,
        pinnable:true,
        pinned:true,
        preventBodyShift:false, //global default not per instance, applies to all dialogs
        resizable:true,
        startMaximized:false,
        transition:'pulse',
        notifier:{
            delay:5,
            position:'bottom-right',
            closeButton:false
        },
        glossary:{
            title:'AlertifyJS',
            ok: 'OK',
            cancel: 'Cancel',
            acccpt: 'Accept',
            deny: 'Deny',
            confirm: 'Confirm',
            decline: 'Decline',
            close: 'Close',
            maximize: 'Maximize',
            restore: 'Restore',
        },
        theme:{
            input:'ajs-input',
            ok:'ajs-ok',
            cancel:'ajs-cancel',
        }
    };
    
    //holds open dialogs instances
    var openDialogs = [];

    /**
     * [Helper]  Adds the specified class(es) to the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be added to the class attribute of the element.
     * 
     * @return {undefined}
     */
    function addClass(element,classNames){
        element.className += ' ' + classNames;
    }
    
    /**
     * [Helper]  Removes the specified class(es) from the element.
     *
     * @element {node}      The element
     * @className {string}  One or more space-separated classes to be removed from the class attribute of the element.
     * 
     * @return {undefined}
     */
    function removeClass(element, classNames) {
        var original = element.className.split(' ');
        var toBeRemoved = classNames.split(' ');
        for (var x = 0; x < toBeRemoved.length; x += 1) {
            var index = original.indexOf(toBeRemoved[x]);
            if (index > -1){
                original.splice(index,1);
            }
        }
        element.className = original.join(' ');
    }

    /**
     * [Helper]  Checks if the document is RTL
     *
     * @return {Boolean} True if the document is RTL, false otherwise.
     */
    function isRightToLeft(){
        return window.getComputedStyle(document.body).direction === 'rtl';
    }
    /**
     * [Helper]  Get the document current scrollTop
     *
     * @return {Number} current document scrollTop value
     */
    function getScrollTop(){
        return ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);
    }

    /**
     * [Helper]  Get the document current scrollLeft
     *
     * @return {Number} current document scrollLeft value
     */
    function getScrollLeft(){
        return ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);
    }

    /**
    * Helper: clear contents
    *
    */
    function clearContents(element){
        while (element.lastChild) {
            element.removeChild(element.lastChild);
        }
    }
    /**
     * Extends a given prototype by merging properties from base into sub.
     *
     * @sub {Object} sub The prototype being overwritten.
     * @base {Object} base The prototype being written.
     *
     * @return {Object} The extended prototype.
     */
    function copy(src) {
        if(null === src){
            return src;
        }
        var cpy;
        if(Array.isArray(src)){
            cpy = [];
            for(var x=0;x<src.length;x+=1){
                cpy.push(copy(src[x]));
            }
            return cpy;
        }
      
        if(src instanceof Date){
            return new Date(src.getTime());
        }
      
        if(src instanceof RegExp){
            cpy = new RegExp(src.source);
            cpy.global = src.global;
            cpy.ignoreCase = src.ignoreCase;
            cpy.multiline = src.multiline;
            cpy.lastIndex = src.lastIndex;
            return cpy;
        }
        
        if(typeof src === 'object'){
            cpy = {};
            // copy dialog pototype over definition.
            for (var prop in src) {
                if (src.hasOwnProperty(prop)) {
                    cpy[prop] = copy(src[prop]);
                }
            }
            return cpy;
        }
        return src;
    }
    /**
      * Helper: destruct the dialog
      *
      */
    function destruct(instance, initialize){
        //delete the dom and it's references.
        var root = instance.elements.root;
        root.parentNode.removeChild(root);
        delete instance.elements;
        //copy back initial settings.
        instance.settings = copy(instance.__settings);
        //re-reference init function.
        instance.__init = initialize;
        //delete __internal variable to allow re-initialization.
        delete instance.__internal;
    }

    /**
     * Use a closure to return proper event listener method. Try to use
     * `addEventListener` by default but fallback to `attachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var on = (function () {
        if (document.addEventListener) {
            return function (el, event, fn, useCapture) {
                el.addEventListener(event, fn, useCapture === true);
            };
        } else if (document.attachEvent) {
            return function (el, event, fn) {
                el.attachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Use a closure to return proper event listener method. Try to use
     * `removeEventListener` by default but fallback to `detachEvent` for
     * unsupported browser. The closure simply ensures that the test doesn't
     * happen every time the method is called.
     *
     * @param    {Node}     el    Node element
     * @param    {String}   event Event type
     * @param    {Function} fn    Callback of event
     * @return   {Function}
     */
    var off = (function () {
        if (document.removeEventListener) {
            return function (el, event, fn, useCapture) {
                el.removeEventListener(event, fn, useCapture === true);
            };
        } else if (document.detachEvent) {
            return function (el, event, fn) {
                el.detachEvent('on' + event, fn);
            };
        }
    }());

    /**
     * Prevent default event from firing
     *
     * @param  {Event} event Event object
     * @return {undefined}

    function prevent ( event ) {
        if ( event ) {
            if ( event.preventDefault ) {
                event.preventDefault();
            } else {
                event.returnValue = false;
            }
        }
    }
    */
    var transition = (function () {
        var t, type;
        var supported = false;
        var transitions = {
            'animation'        : 'animationend',
            'OAnimation'       : 'oAnimationEnd oanimationend',
            'msAnimation'      : 'MSAnimationEnd',
            'MozAnimation'     : 'animationend',
            'WebkitAnimation'  : 'webkitAnimationEnd'
        };

        for (t in transitions) {
            if (document.documentElement.style[t] !== undefined) {
                type = transitions[t];
                supported = true;
                break;
            }
        }

        return {
            type: type,
            supported: supported
        };
    }());

    /**
    * Creates event handler delegate that sends the instance as last argument.
    * 
    * @return {Function}    a function wrapper which sends the instance as last argument.
    */
    function delegate(context, method) {
        return function () {
            if (arguments.length > 0) {
                var args = [];
                for (var x = 0; x < arguments.length; x += 1) {
                    args.push(arguments[x]);
                }
                args.push(context);
                return method.apply(context, args);
            }
            return method.apply(context, [null, context]);
        };
    }
    /**
    * Helper for creating a dialog close event.
    * 
    * @return {object}
    */
    function createCloseEvent(index, button) {
        return {
            index: index,
            button: button,
            cancel: false
        };
    }
    /**
    * Helper for dispatching events.
    *
    * @param  {string} evenType The type of the event to disptach.
    * @param  {object} instance The dialog instance disptaching the event.
    *
    * @return   {any}   The result of the invoked function.
    */
    function dispatchEvent(eventType, instance) {
        if ( typeof instance.get(eventType) === 'function' ) {
            return instance.get(eventType).call(instance);
        }
    }


    /**
     * Super class for all dialogs
     *
     * @return {Object}		base dialog prototype
     */
    var dialog = (function () {
        var //holds the list of used keys.
            usedKeys = [],
            //dummy variable, used to trigger dom reflow.
            reflow = null,
            //condition for detecting safari
            isSafari = window.navigator.userAgent.indexOf('Safari') > -1 && window.navigator.userAgent.indexOf('Chrome') < 0,
            //dialog building blocks
            templates = {
                dimmer:'<div class="ajs-dimmer"></div>',
                /*tab index required to fire click event before body focus*/
                modal: '<div class="ajs-modal" tabindex="0"></div>',
                dialog: '<div class="ajs-dialog" tabindex="0"></div>',
                reset: '<button class="ajs-reset"></button>',
                commands: '<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',
                header: '<div class="ajs-header"></div>',
                body: '<div class="ajs-body"></div>',
                content: '<div class="ajs-content"></div>',
                footer: '<div class="ajs-footer"></div>',
                buttons: { primary: '<div class="ajs-primary ajs-buttons"></div>', auxiliary: '<div class="ajs-auxiliary ajs-buttons"></div>' },
                button: '<button class="ajs-button"></button>',
                resizeHandle: '<div class="ajs-handle"></div>',
            },
            //common class names
            classes = {
                animationIn: 'ajs-in',
                animationOut: 'ajs-out',
                base: 'alertify',
                basic:'ajs-basic',
                capture: 'ajs-capture',
                closable:'ajs-closable',
                fixed: 'ajs-fixed',
                frameless:'ajs-frameless',
                hidden: 'ajs-hidden',
                maximize: 'ajs-maximize',
                maximized: 'ajs-maximized',
                maximizable:'ajs-maximizable',
                modeless: 'ajs-modeless',
                movable: 'ajs-movable',
                noSelection: 'ajs-no-selection',
                noOverflow: 'ajs-no-overflow',
                noPadding:'ajs-no-padding',
                pin:'ajs-pin',
                pinnable:'ajs-pinnable',
                prefix: 'ajs-',
                resizable: 'ajs-resizable',
                restore: 'ajs-restore',
                shake:'ajs-shake',
                unpinned:'ajs-unpinned',
            };

        /**
         * Helper: initializes the dialog instance
         * 
         * @return	{Number}	The total count of currently open modals.
         */
        function initialize(instance){
            
            if(!instance.__internal){

                //no need to expose init after this.
                delete instance.__init;
              
                //keep a copy of initial dialog settings
                if(!instance.__settings){
                    instance.__settings = copy(instance.settings);
                }
                //in case the script was included before body.
                //after first dialog gets initialized, it won't be null anymore!
                if(null === reflow){
                    // set tabindex attribute on body element this allows script to give it
                    // focus after the dialog is closed
                    document.body.setAttribute( 'tabindex', '0' );
                }

                //get dialog buttons/focus setup
                var setup;
                if(typeof instance.setup === 'function'){
                    setup = instance.setup();
                    setup.options = setup.options  || {};
                    setup.focus = setup.focus  || {};
                }else{
                    setup = {
                        buttons:[],
                        focus:{
                            element:null,
                            select:false
                        },
                        options:{
                        }
                    };
                }
                
                //initialize hooks object.
                if(typeof instance.hooks !== 'object'){
                    instance.hooks = {};
                }

                //copy buttons defintion
                var buttonsDefinition = [];
                if(Array.isArray(setup.buttons)){
                    for(var b=0;b<setup.buttons.length;b+=1){
                        var ref  = setup.buttons[b],
                            cpy = {};
                        for (var i in ref) {
                            if (ref.hasOwnProperty(i)) {
                                cpy[i] = ref[i];
                            }
                        }
                        buttonsDefinition.push(cpy);
                    }
                }

                var internal = instance.__internal = {
                    /**
                     * Flag holding the open state of the dialog
                     * 
                     * @type {Boolean}
                     */
                    isOpen:false,
                    /**
                     * Active element is the element that will receive focus after
                     * closing the dialog. It defaults as the body tag, but gets updated
                     * to the last focused element before the dialog was opened.
                     *
                     * @type {Node}
                     */
                    activeElement:document.body,
                    timerIn:undefined,
                    timerOut:undefined,
                    buttons: buttonsDefinition,
                    focus: setup.focus,
                    options: {
                        title: undefined,
                        modal: undefined,
                        basic:undefined,
                        frameless:undefined,
                        pinned: undefined,
                        movable: undefined,
                        moveBounded:undefined,
                        resizable: undefined,
                        autoReset: undefined,
                        closable: undefined,
                        closableByDimmer: undefined,
                        maximizable: undefined,
                        startMaximized: undefined,
                        pinnable: undefined,
                        transition: undefined,
                        padding:undefined,
                        overflow:undefined,
                        onshow:undefined,
                        onclosing:undefined,
                        onclose:undefined,
                        onfocus:undefined,
                        onmove:undefined,
                        onmoved:undefined,
                        onresize:undefined,
                        onresized:undefined,
                        onmaximize:undefined,
                        onmaximized:undefined,
                        onrestore:undefined,
                        onrestored:undefined
                    },
                    resetHandler:undefined,
                    beginMoveHandler:undefined,
                    beginResizeHandler:undefined,
                    bringToFrontHandler:undefined,
                    modalClickHandler:undefined,
                    buttonsClickHandler:undefined,
                    commandsClickHandler:undefined,
                    transitionInHandler:undefined,
                    transitionOutHandler:undefined,
                    destroy:undefined
                };

                var elements = {};
                //root node
                elements.root = document.createElement('div');
                
                elements.root.className = classes.base + ' ' + classes.hidden + ' ';

                elements.root.innerHTML = templates.dimmer + templates.modal;
                
                //dimmer
                elements.dimmer = elements.root.firstChild;

                //dialog
                elements.modal = elements.root.lastChild;
                elements.modal.innerHTML = templates.dialog;
                elements.dialog = elements.modal.firstChild;
                elements.dialog.innerHTML = templates.reset + templates.commands + templates.header + templates.body + templates.footer + templates.resizeHandle + templates.reset;

                //reset links
                elements.reset = [];
                elements.reset.push(elements.dialog.firstChild);
                elements.reset.push(elements.dialog.lastChild);
                
                //commands
                elements.commands = {};
                elements.commands.container = elements.reset[0].nextSibling;
                elements.commands.pin = elements.commands.container.firstChild;
                elements.commands.maximize = elements.commands.pin.nextSibling;
                elements.commands.close = elements.commands.maximize.nextSibling;
                
                //header
                elements.header = elements.commands.container.nextSibling;

                //body
                elements.body = elements.header.nextSibling;
                elements.body.innerHTML = templates.content;
                elements.content = elements.body.firstChild;

                //footer
                elements.footer = elements.body.nextSibling;
                elements.footer.innerHTML = templates.buttons.auxiliary + templates.buttons.primary;
                
                //resize handle
                elements.resizeHandle = elements.footer.nextSibling;

                //buttons
                elements.buttons = {};
                elements.buttons.auxiliary = elements.footer.firstChild;
                elements.buttons.primary = elements.buttons.auxiliary.nextSibling;
                elements.buttons.primary.innerHTML = templates.button;
                elements.buttonTemplate = elements.buttons.primary.firstChild;
                //remove button template
                elements.buttons.primary.removeChild(elements.buttonTemplate);
                               
                for(var x=0; x < instance.__internal.buttons.length; x+=1) {
                    var button = instance.__internal.buttons[x];
                    
                    // add to the list of used keys.
                    if(usedKeys.indexOf(button.key) < 0){
                        usedKeys.push(button.key);
                    }

                    button.element = elements.buttonTemplate.cloneNode();
                    button.element.innerHTML = button.text;
                    if(typeof button.className === 'string' &&  button.className !== ''){
                        addClass(button.element, button.className);
                    }
                    for(var key in button.attrs){
                        if(key !== 'className' && button.attrs.hasOwnProperty(key)){
                            button.element.setAttribute(key, button.attrs[key]);
                        }
                    }
                    if(button.scope === 'auxiliary'){
                        elements.buttons.auxiliary.appendChild(button.element);
                    }else{
                        elements.buttons.primary.appendChild(button.element);
                    }
                }
                //make elements pubic
                instance.elements = elements;
                
                //save event handlers delegates
                internal.resetHandler = delegate(instance, onReset);
                internal.beginMoveHandler = delegate(instance, beginMove);
                internal.beginResizeHandler = delegate(instance, beginResize);
                internal.bringToFrontHandler = delegate(instance, bringToFront);
                internal.modalClickHandler = delegate(instance, modalClickHandler);
                internal.buttonsClickHandler = delegate(instance, buttonsClickHandler);
                internal.commandsClickHandler = delegate(instance, commandsClickHandler);
                internal.transitionInHandler = delegate(instance, handleTransitionInEvent);
                internal.transitionOutHandler = delegate(instance, handleTransitionOutEvent);

                //settings
                for(var opKey in internal.options){
                    if(setup.options[opKey] !== undefined){
                        // if found in user options
                        instance.set(opKey, setup.options[opKey]);
                    }else if(alertify.defaults.hasOwnProperty(opKey)) {
                        // else if found in defaults options
                        instance.set(opKey, alertify.defaults[opKey]);
                    }else if(opKey === 'title' ) {
                        // else if title key, use alertify.defaults.glossary
                        instance.set(opKey, alertify.defaults.glossary[opKey]);
                    }
                }

                // allow dom customization
                if(typeof instance.build === 'function'){
                    instance.build();
                }
            }
            
            //add to the end of the DOM tree.
            document.body.appendChild(instance.elements.root);
        }

        /**
         * Helper: maintains scroll position
         *
         */
        var scrollX, scrollY;
        function saveScrollPosition(){
            scrollX = getScrollLeft();
            scrollY = getScrollTop();
        }
        function restoreScrollPosition(){
            window.scrollTo(scrollX, scrollY);
        }

        /**
         * Helper: adds/removes no-overflow class from body
         *
         */
        function ensureNoOverflow(){
            var requiresNoOverflow = 0;
            for(var x=0;x<openDialogs.length;x+=1){
                var instance = openDialogs[x];
                if(instance.isModal() || instance.isMaximized()){
                    requiresNoOverflow+=1;
                }
            }
            if(requiresNoOverflow === 0 && document.body.className.indexOf(classes.noOverflow) >= 0){
                //last open modal or last maximized one
                removeClass(document.body, classes.noOverflow);
                preventBodyShift(false);
            }else if(requiresNoOverflow > 0 && document.body.className.indexOf(classes.noOverflow) < 0){
                //first open modal or first maximized one
                preventBodyShift(true);
                addClass(document.body, classes.noOverflow);
            }
        }
        var top = '', topScroll = 0;
        /**
         * Helper: prevents body shift.
         *
         */
        function preventBodyShift(add){
            if(alertify.defaults.preventBodyShift && document.documentElement.scrollHeight > document.documentElement.clientHeight){
                if(add ){//&& openDialogs[openDialogs.length-1].elements.dialog.clientHeight <= document.documentElement.clientHeight){
                    topScroll = scrollY;
                    top = window.getComputedStyle(document.body).top;
                    addClass(document.body, classes.fixed);
                    document.body.style.top = -scrollY + 'px';
                } else {
                    scrollY = topScroll;
                    document.body.style.top = top;
                    removeClass(document.body, classes.fixed);
                    restoreScrollPosition();
                }
            }
        }
		
        /**
         * Sets the name of the transition used to show/hide the dialog
         * 
         * @param {Object} instance The dilog instance.
         *
         */
        function updateTransition(instance, value, oldValue){
            if(typeof oldValue === 'string'){
                removeClass(instance.elements.root,classes.prefix +  oldValue);
            }
            addClass(instance.elements.root, classes.prefix + value);
            reflow = instance.elements.root.offsetWidth;
        }
		
        /**
         * Toggles the dialog display mode
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateDisplayMode(instance){
            if(instance.get('modal')){

                //make modal
                removeClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    unbindModelessEvents(instance);

                    //in case a pinned modless dialog was made modal while open.
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }else{
                //make modelss
                addClass(instance.elements.root, classes.modeless);

                //only if open
                if(instance.isOpen()){
                    bindModelessEvents(instance);

                    //in case pin/unpin was called while a modal is open
                    updateAbsPositionFix(instance);

                    ensureNoOverflow();
                }
            }
        }

        /**
         * Toggles the dialog basic view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateBasicMode(instance){
            if (instance.get('basic')) {
                // add class
                addClass(instance.elements.root, classes.basic);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.basic);
            }
        }

        /**
         * Toggles the dialog frameless view mode 
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function updateFramelessMode(instance){
            if (instance.get('frameless')) {
                // add class
                addClass(instance.elements.root, classes.frameless);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.frameless);
            }
        }
		
        /**
         * Helper: Brings the modeless dialog to front, attached to modeless dialogs.
         *
         * @param {Event} event Focus event
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bringToFront(event, instance){
            
            // Do not bring to front if preceeded by an open modal
            var index = openDialogs.indexOf(instance);
            for(var x=index+1;x<openDialogs.length;x+=1){
                if(openDialogs[x].isModal()){
                    return;
                }
            }
			
            // Bring to front by making it the last child.
            if(document.body.lastChild !== instance.elements.root){
                document.body.appendChild(instance.elements.root);
                //also make sure its at the end of the list
                openDialogs.splice(openDialogs.indexOf(instance),1);
                openDialogs.push(instance);
                setFocus(instance);
            }
			
            return false;
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {String} option The updated option name.
         *
         * @return	{undefined}	
         */
        function optionUpdated(instance, option, oldValue, newValue){
            switch(option){
            case 'title':
                instance.setHeader(newValue);
                break;
            case 'modal':
                updateDisplayMode(instance);
                break;
            case 'basic':
                updateBasicMode(instance);
                break;
            case 'frameless':
                updateFramelessMode(instance);
                break;
            case 'pinned':
                updatePinned(instance);
                break;
            case 'closable':
                updateClosable(instance);
                break;
            case 'maximizable':
                updateMaximizable(instance);
                break;
            case 'pinnable':
                updatePinnable(instance);
                break;
            case 'movable':
                updateMovable(instance);
                break;
            case 'resizable':
                updateResizable(instance);
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            case 'padding':
                if(newValue){
                    removeClass(instance.elements.root, classes.noPadding);
                }else if(instance.elements.root.className.indexOf(classes.noPadding) < 0){
                    addClass(instance.elements.root, classes.noPadding);
                }
                break;
            case 'overflow':
                if(newValue){
                    removeClass(instance.elements.root, classes.noOverflow);
                }else if(instance.elements.root.className.indexOf(classes.noOverflow) < 0){
                    addClass(instance.elements.root, classes.noOverflow);
                }
                break;
            case 'transition':
                updateTransition(instance,newValue, oldValue);
                break;
            }

            // internal on option updated event
            if(typeof instance.hooks.onupdate === 'function'){
                instance.hooks.onupdate.call(instance, option, oldValue, newValue);
            }
        }
		
        /**
         * Helper: reflects dialogs options updates
         *
         * @param {Object} instance The dilog instance.
         * @param {Object} obj The object to set/get a value on/from.
         * @param {Function} callback The callback function to call if the key was found.
         * @param {String|Object} key A string specifying a propery name or a collection of key value pairs.
         * @param {Object} value Optional, the value associated with the key (in case it was a string).
         * @param {String} option The updated option name.
         *
         * @return	{Object} result object 
         *	The result objects has an 'op' property, indicating of this is a SET or GET operation.
         *		GET: 
         *		- found: a flag indicating if the key was found or not.
         *		- value: the property value.
         *		SET:
         *		- items: a list of key value pairs of the properties being set.
         *				each contains:
         *					- found: a flag indicating if the key was found or not.
         *					- key: the property key.
         *					- value: the property value.
         */
        function update(instance, obj, callback, key, value){
            var result = {op:undefined, items: [] };
            if(typeof value === 'undefined' && typeof key === 'string') {
                //get
                result.op = 'get';
                if(obj.hasOwnProperty(key)){
                    result.found = true;
                    result.value = obj[key];
                }else{
                    result.found = false;
                    result.value = undefined;
                }
            }
            else
            {
                var old;
                //set
                result.op = 'set';
                if(typeof key === 'object'){
                    //set multiple
                    var args = key;
                    for (var prop in args) {
                        if (obj.hasOwnProperty(prop)) {
                            if(obj[prop] !== args[prop]){
                                old = obj[prop];
                                obj[prop] = args[prop];
                                callback.call(instance,prop, old, args[prop]);
                            }
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':true});
                        }else{
                            result.items.push({ 'key': prop, 'value': args[prop], 'found':false});
                        }
                    }
                } else if (typeof key === 'string'){
                    //set single
                    if (obj.hasOwnProperty(key)) {
                        if(obj[key] !== value){
                            old  = obj[key];
                            obj[key] = value;
                            callback.call(instance,key, old, value);
                        }
                        result.items.push({'key': key, 'value': value , 'found':true});

                    }else{
                        result.items.push({'key': key, 'value': value , 'found':false});
                    }
                } else {
                    //invalid params
                    throw new Error('args must be a string or object');
                }
            }
            return result;
        }


        /**
         * Triggers a close event.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function triggerClose(instance) {
            var found;
            triggerCallback(instance, function (button) {
                return found = (button.invokeOnClose === true);
            });
            //none of the buttons registered as onclose callback
            //close the dialog
            if (!found && instance.isOpen()) {
                instance.close();
            }
        }

        /**
         * Dialogs commands event handler, attached to the dialog commands element.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function commandsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            switch (target) {
            case instance.elements.commands.pin:
                if (!instance.isPinned()) {
                    pin(instance);
                } else {
                    unpin(instance);
                }
                break;
            case instance.elements.commands.maximize:
                if (!instance.isMaximized()) {
                    maximize(instance);
                } else {
                    restore(instance);
                }
                break;
            case instance.elements.commands.close:
                triggerClose(instance);
                break;
            }
            return false;
        }

        /**
         * Helper: pins the modeless dialog.
         *
         * @param {Object} instance	The dialog instance.
         * 
         * @return {undefined}
         */
        function pin(instance) {
            //pin the dialog
            instance.set('pinned', true);
        }

        /**
         * Helper: unpins the modeless dialog.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function unpin(instance) {
            //unpin the dialog 
            instance.set('pinned', false);
        }


        /**
         * Helper: enlarges the dialog to fill the entire screen.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function maximize(instance) {
            // allow custom `onmaximize` method
            dispatchEvent('onmaximize', instance);
            //maximize the dialog 
            addClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onmaximized` method
            dispatchEvent('onmaximized', instance);
        }

        /**
         * Helper: returns the dialog to its former size.
         *
         * @param {Object} instance	The dilog instance.
         * 
         * @return {undefined}
         */
        function restore(instance) {
            // allow custom `onrestore` method
            dispatchEvent('onrestore', instance);
            //maximize the dialog 
            removeClass(instance.elements.root, classes.maximized);
            if (instance.isOpen()) {
                ensureNoOverflow();
            }
            // allow custom `onrestored` method
            dispatchEvent('onrestored', instance);
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updatePinnable(instance) {
            if (instance.get('pinnable')) {
                // add class
                addClass(instance.elements.root, classes.pinnable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.pinnable);
            }
        }

        /**
         * Helper: Fixes the absolutly positioned modal div position.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function addAbsPositionFix(instance) {
            var scrollLeft = getScrollLeft();
            instance.elements.modal.style.marginTop = getScrollTop() + 'px';
            instance.elements.modal.style.marginLeft = scrollLeft + 'px';
            instance.elements.modal.style.marginRight = (-scrollLeft) + 'px';
        }

        /**
         * Helper: Removes the absolutly positioned modal div position fix.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function removeAbsPositionFix(instance) {
            var marginTop = parseInt(instance.elements.modal.style.marginTop, 10);
            var marginLeft = parseInt(instance.elements.modal.style.marginLeft, 10);
            instance.elements.modal.style.marginTop = '';
            instance.elements.modal.style.marginLeft = '';
            instance.elements.modal.style.marginRight = '';

            if (instance.isOpen()) {
                var top = 0,
                    left = 0;
                if (instance.elements.dialog.style.top !== '') {
                    top = parseInt(instance.elements.dialog.style.top, 10);
                }
                instance.elements.dialog.style.top = (top + (marginTop - getScrollTop())) + 'px';

                if (instance.elements.dialog.style.left !== '') {
                    left = parseInt(instance.elements.dialog.style.left, 10);
                }
                instance.elements.dialog.style.left = (left + (marginLeft - getScrollLeft())) + 'px';
            }
        }
        /**
         * Helper: Adds/Removes the absolutly positioned modal div position fix based on its pinned setting.
         *
         * @param {Object} instance The dialog instance.
         *
         * @return {undefined}
         */
        function updateAbsPositionFix(instance) {
            // if modeless and unpinned add fix
            if (!instance.get('modal') && !instance.get('pinned')) {
                addAbsPositionFix(instance);
            } else {
                removeAbsPositionFix(instance);
            }
        }
        /**
         * Toggles the dialog position lock | modeless only.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to make it modal, false otherwise.
         *
         * @return {undefined}
         */
        function updatePinned(instance) {
            if (instance.get('pinned')) {
                removeClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen()) {
                    removeAbsPositionFix(instance);
                }
            } else {
                addClass(instance.elements.root, classes.unpinned);
                if (instance.isOpen() && !instance.isModal()) {
                    addAbsPositionFix(instance);
                }
            }
        }

        /**
         * Show or hide the maximize box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMaximizable(instance) {
            if (instance.get('maximizable')) {
                // add class
                addClass(instance.elements.root, classes.maximizable);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.maximizable);
            }
        }

        /**
         * Show or hide the close box.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateClosable(instance) {
            if (instance.get('closable')) {
                // add class
                addClass(instance.elements.root, classes.closable);
                bindClosableEvents(instance);
            } else {
                // remove class
                removeClass(instance.elements.root, classes.closable);
                unbindClosableEvents(instance);
            }
        }

        // flag to cancel click event if already handled by end resize event (the mousedown, mousemove, mouseup sequence fires a click event.).
        var cancelClick = false;

        /**
         * Helper: closes the modal dialog when clicking the modal
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function modalClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            if (!cancelClick && target === instance.elements.modal && instance.get('closableByDimmer') === true) {
                triggerClose(instance);
            }
            cancelClick = false;
            return false;
        }

        // flag to cancel keyup event if already handled by click event (pressing Enter on a focusted button).
        var cancelKeyup = false;
        /** 
         * Helper: triggers a button callback
         *
         * @param {Object}		The dilog instance.
         * @param {Function}	Callback to check which button triggered the event.
         *
         * @return {undefined}
         */
        function triggerCallback(instance, check) {
            for (var idx = 0; idx < instance.__internal.buttons.length; idx += 1) {
                var button = instance.__internal.buttons[idx];
                if (!button.element.disabled && check(button)) {
                    var closeEvent = createCloseEvent(idx, button);
                    if (typeof instance.callback === 'function') {
                        instance.callback.apply(instance, [closeEvent]);
                    }
                    //close the dialog only if not canceled.
                    if (closeEvent.cancel === false) {
                        instance.close();
                    }
                    break;
                }
            }
        }

        /**
         * Clicks event handler, attached to the dialog footer.
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function buttonsClickHandler(event, instance) {
            var target = event.srcElement || event.target;
            triggerCallback(instance, function (button) {
                // if this button caused the click, cancel keyup event
                return button.element === target && (cancelKeyup = true);
            });
        }

        /**
         * Keyup event handler, attached to the document.body
         *
         * @param {Event}		DOM event object.
         * @param {Object}		The dilog instance.
         * 
         * @return {undefined}
         */
        function keyupHandler(event) {
            //hitting enter while button has focus will trigger keyup too.
            //ignore if handled by clickHandler
            if (cancelKeyup) {
                cancelKeyup = false;
                return;
            }
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (instance.__internal.buttons.length === 0 && keyCode === keys.ESC && instance.get('closable') === true) {
                triggerClose(instance);
                return false;
            }else if (usedKeys.indexOf(keyCode) > -1) {
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }
        /**
        * Keydown event handler, attached to the document.body
        *
        * @param {Event}		DOM event object.
        * @param {Object}		The dilog instance.
        * 
        * @return {undefined}
        */
        function keydownHandler(event) {
            var instance = openDialogs[openDialogs.length - 1];
            var keyCode = event.keyCode;
            if (keyCode === keys.LEFT || keyCode === keys.RIGHT) {
                var buttons = instance.__internal.buttons;
                for (var x = 0; x < buttons.length; x += 1) {
                    if (document.activeElement === buttons[x].element) {
                        switch (keyCode) {
                        case keys.LEFT:
                            buttons[(x || buttons.length) - 1].element.focus();
                            return;
                        case keys.RIGHT:
                            buttons[(x + 1) % buttons.length].element.focus();
                            return;
                        }
                    }
                }
            }else if (keyCode < keys.F12 + 1 && keyCode > keys.F1 - 1 && usedKeys.indexOf(keyCode) > -1) {
                event.preventDefault();
                event.stopPropagation();
                triggerCallback(instance, function (button) {
                    return button.key === keyCode;
                });
                return false;
            }
        }


        /**
         * Sets focus to proper dialog element
         *
         * @param {Object} instance The dilog instance.
         * @param {Node} [resetTarget=undefined] DOM element to reset focus to.
         *
         * @return {undefined}
         */
        function setFocus(instance, resetTarget) {
            // reset target has already been determined.
            if (resetTarget) {
                resetTarget.focus();
            } else {
                // current instance focus settings
                var focus = instance.__internal.focus;
                // the focus element.
                var element = focus.element;

                switch (typeof focus.element) {
                // a number means a button index
                case 'number':
                    if (instance.__internal.buttons.length > focus.element) {
                        //in basic view, skip focusing the buttons.
                        if (instance.get('basic') === true) {
                            element = instance.elements.reset[0];
                        } else {
                            element = instance.__internal.buttons[focus.element].element;
                        }
                    }
                    break;
                // a string means querySelector to select from dialog body contents.
                case 'string':
                    element = instance.elements.body.querySelector(focus.element);
                    break;
                // a function should return the focus element.
                case 'function':
                    element = focus.element.call(instance);
                    break;
                }
                
                // if no focus element, default to first reset element.
                if ((typeof element === 'undefined' || element === null) && instance.__internal.buttons.length === 0) {
                    element = instance.elements.reset[0];
                }
                // focus
                if (element && element.focus) {
                    element.focus();
                    // if selectable
                    if (focus.select && element.select) {
                        element.select();
                    }
                }
            }
        }

        /**
         * Focus event handler, attached to document.body and dialogs own reset links.
         * handles the focus for modal dialogs only.
         *
         * @param {Event} event DOM focus event object.
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function onReset(event, instance) {

            // should work on last modal if triggered from document.body 
            if (!instance) {
                for (var x = openDialogs.length - 1; x > -1; x -= 1) {
                    if (openDialogs[x].isModal()) {
                        instance = openDialogs[x];
                        break;
                    }
                }
            }
            // if modal
            if (instance && instance.isModal()) {
                // determine reset target to enable forward/backward tab cycle.
                var resetTarget, target = event.srcElement || event.target;
                var lastResetElement = target === instance.elements.reset[1] || (instance.__internal.buttons.length === 0 && target === document.body);

                // if last reset link, then go to maximize or close
                if (lastResetElement) {
                    if (instance.get('maximizable')) {
                        resetTarget = instance.elements.commands.maximize;
                    } else if (instance.get('closable')) {
                        resetTarget = instance.elements.commands.close;
                    }
                }
                // if no reset target found, try finding the best button
                if (resetTarget === undefined) {
                    if (typeof instance.__internal.focus.element === 'number') {
                        // button focus element, go to first available button
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.auxiliary.firstChild || instance.elements.buttons.primary.firstChild;
                        } else if (lastResetElement) {
                            //restart the cycle by going to first reset link
                            resetTarget = instance.elements.reset[0];
                        }
                    } else {
                        // will reach here when tapping backwards, so go to last child
                        // The focus element SHOULD NOT be a button (logically!).
                        if (target === instance.elements.reset[0]) {
                            resetTarget = instance.elements.buttons.primary.lastChild || instance.elements.buttons.auxiliary.lastChild;
                        }
                    }
                }
                // focus
                setFocus(instance, resetTarget);
            }
        }
        /**
         * Transition in transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionInEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerIn);

            // once transition is complete, set focus
            setFocus(instance);

            //restore scroll to prevent document jump
            restoreScrollPosition();

            // allow handling key up after transition ended.
            cancelKeyup = false;

            // allow custom `onfocus` method
            dispatchEvent('onfocus', instance);

            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            removeClass(instance.elements.root, classes.animationIn);
        }

        /**
         * Transition out transitionend event handler. 
         *
         * @param {Event}		TransitionEnd event object.
         * @param {Object}		The dilog instance.
         *
         * @return {undefined}
         */
        function handleTransitionOutEvent(event, instance) {
            // clear the timer
            clearTimeout(instance.__internal.timerOut);
            // unbind the event
            off(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // reset move updates
            resetMove(instance);
            // reset resize updates
            resetResize(instance);

            // restore if maximized
            if (instance.isMaximized() && !instance.get('startMaximized')) {
                restore(instance);
            }

            // return focus to the last active element
            if (alertify.defaults.maintainFocus && instance.__internal.activeElement) {
                instance.__internal.activeElement.focus();
                instance.__internal.activeElement = null;
            }
            
            //destory the instance
            if (typeof instance.__internal.destroy === 'function') {
                instance.__internal.destroy.apply(instance);
            }
        }
        /* Controls moving a dialog around */
        //holde the current moving instance
        var movable = null,
            //holds the current X offset when move starts
            offsetX = 0,
            //holds the current Y offset when move starts
            offsetY = 0,
            xProp = 'pageX',
            yProp = 'pageY',
            bounds = null,
            refreshTop = false,
            moveDelegate = null;

        /**
         * Helper: sets the element top/left coordinates
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElement(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
           
            element.style.left = left + 'px';
            element.style.top = top + 'px';
           
        }
        /**
         * Helper: sets the element top/left coordinates within screen bounds
         *
         * @param {Event} event	DOM event object.
         * @param {Node} element The element being moved.
         * 
         * @return {undefined}
         */
        function moveElementBounded(event, element) {
            var left = (event[xProp] - offsetX),
                top  = (event[yProp] - offsetY);

            if(refreshTop){
                top -= document.body.scrollTop;
            }
            
            element.style.left = Math.min(bounds.maxLeft, Math.max(bounds.minLeft, left)) + 'px';
            if(refreshTop){
                element.style.top = Math.min(bounds.maxTop, Math.max(bounds.minTop, top)) + 'px';
            }else{
                element.style.top = Math.max(bounds.minTop, top) + 'px';
            }
        }
            

        /**
         * Triggers the start of a move event, attached to the header element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginMove(event, instance) {
            if (resizable === null && !instance.isMaximized() && instance.get('movable')) {
                var eventSrc, left=0, top=0;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                    xProp = 'clientX';
                    yProp = 'clientY';
                } else if (event.button === 0) {
                    eventSrc = event;
                }

                if (eventSrc) {

                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);

                    if (element.style.left) {
                        left = parseInt(element.style.left, 10);
                    }

                    if (element.style.top) {
                        top = parseInt(element.style.top, 10);
                    }
                    
                    offsetX = eventSrc[xProp] - left;
                    offsetY = eventSrc[yProp] - top;

                    if(instance.isModal()){
                        offsetY += instance.elements.modal.scrollTop;
                    }else if(instance.isPinned()){
                        offsetY -= document.body.scrollTop;
                    }
                    
                    if(instance.get('moveBounded')){
                        var current = element,
                            offsetLeft = -left,
                            offsetTop = -top;
                        
                        //calc offset
                        do {
                            offsetLeft += current.offsetLeft;
                            offsetTop += current.offsetTop;
                        } while (current = current.offsetParent);
                        
                        bounds = {
                            maxLeft : offsetLeft,
                            minLeft : -offsetLeft,
                            maxTop  : document.documentElement.clientHeight - element.clientHeight - offsetTop,
                            minTop  : -offsetTop
                        };
                        moveDelegate = moveElementBounded;
                    }else{
                        bounds = null;
                        moveDelegate = moveElement;
                    }
                    
                    // allow custom `onmove` method
                    dispatchEvent('onmove', instance);

                    refreshTop = !instance.isModal() && instance.isPinned();
                    movable = instance;
                    moveDelegate(eventSrc, element);
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual move handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function move(event) {
            if (movable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    moveDelegate(eventSrc, movable.elements.dialog);
                }
            }
        }

        /**
         * Triggers the end of a move event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endMove() {
            if (movable) {
                var instance = movable;
                movable = bounds = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                // allow custom `onmoved` method
                dispatchEvent('onmoved', instance);
            }
        }

        /**
         * Resets any changes made by moving the element to its original state,
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetMove(instance) {
            movable = null;
            var element = instance.elements.dialog;
            element.style.left = element.style.top = '';
        }

        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateMovable(instance) {
            if (instance.get('movable')) {
                // add class
                addClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    bindMovableEvents(instance);
                }
            } else {

                //reset
                resetMove(instance);
                // remove class
                removeClass(instance.elements.root, classes.movable);
                if (instance.isOpen()) {
                    unbindMovableEvents(instance);
                }
            }
        }

        /* Controls moving a dialog around */
        //holde the current instance being resized		
        var resizable = null,
            //holds the staring left offset when resize starts.
            startingLeft = Number.Nan,
            //holds the staring width when resize starts.
            startingWidth = 0,
            //holds the initial width when resized for the first time.
            minWidth = 0,
            //holds the offset of the resize handle.
            handleOffset = 0;

        /**
         * Helper: sets the element width/height and updates left coordinate if neccessary.
         *
         * @param {Event} event	DOM mousemove event object.
         * @param {Node} element The element being moved.
         * @param {Boolean} pinned A flag indicating if the element being resized is pinned to the screen.
         * 
         * @return {undefined}
         */
        function resizeElement(event, element, pageRelative) {

            //calculate offsets from 0,0
            var current = element;
            var offsetLeft = 0;
            var offsetTop = 0;
            do {
                offsetLeft += current.offsetLeft;
                offsetTop += current.offsetTop;
            } while (current = current.offsetParent);

            // determine X,Y coordinates.
            var X, Y;
            if (pageRelative === true) {
                X = event.pageX;
                Y = event.pageY;
            } else {
                X = event.clientX;
                Y = event.clientY;
            }
            // rtl handling
            var isRTL = isRightToLeft();
            if (isRTL) {
                // reverse X 
                X = document.body.offsetWidth - X;
                // if has a starting left, calculate offsetRight
                if (!isNaN(startingLeft)) {
                    offsetLeft = document.body.offsetWidth - offsetLeft - element.offsetWidth;
                }
            }

            // set width/height
            element.style.height = (Y - offsetTop + handleOffset) + 'px';
            element.style.width = (X - offsetLeft + handleOffset) + 'px';

            // if the element being resized has a starting left, maintain it.
            // the dialog is centered, divide by half the offset to maintain the margins.
            if (!isNaN(startingLeft)) {
                var diff = Math.abs(element.offsetWidth - startingWidth) * 0.5;
                if (isRTL) {
                    //negate the diff, why?
                    //when growing it should decrease left
                    //when shrinking it should increase left
                    diff *= -1;
                }
                if (element.offsetWidth > startingWidth) {
                    //growing
                    element.style.left = (startingLeft + diff) + 'px';
                } else if (element.offsetWidth >= minWidth) {
                    //shrinking
                    element.style.left = (startingLeft - diff) + 'px';
                }
            }
        }

        /**
         * Triggers the start of a resize event, attached to the resize handle element mouse down event.
         * Adds no-selection class to the body, disabling selection while moving.
         *
         * @param {Event} event	DOM event object.
         * @param {Object} instance The dilog instance.
         * 
         * @return {Boolean} false
         */
        function beginResize(event, instance) {
            if (!instance.isMaximized()) {
                var eventSrc;
                if (event.type === 'touchstart') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    // allow custom `onresize` method
                    dispatchEvent('onresize', instance);
                    
                    resizable = instance;
                    handleOffset = instance.elements.resizeHandle.offsetHeight / 2;
                    var element = instance.elements.dialog;
                    addClass(element, classes.capture);
                    startingLeft = parseInt(element.style.left, 10);
                    element.style.height = element.offsetHeight + 'px';
                    element.style.minHeight = instance.elements.header.offsetHeight + instance.elements.footer.offsetHeight + 'px';
                    element.style.width = (startingWidth = element.offsetWidth) + 'px';

                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    addClass(document.body, classes.noSelection);
                    return false;
                }
            }
        }

        /**
         * The actual resize handler,  attached to document.body mousemove event.
         *
         * @param {Event} event	DOM event object.
         * 
         * @return {undefined}
         */
        function resize(event) {
            if (resizable) {
                var eventSrc;
                if (event.type === 'touchmove') {
                    event.preventDefault();
                    eventSrc = event.targetTouches[0];
                } else if (event.button === 0) {
                    eventSrc = event;
                }
                if (eventSrc) {
                    resizeElement(eventSrc, resizable.elements.dialog, !resizable.get('modal') && !resizable.get('pinned'));
                }
            }
        }

        /**
         * Triggers the end of a resize event,  attached to document.body mouseup event.
         * Removes no-selection class from document.body, allowing selection.
         *
         * @return {undefined}
         */
        function endResize() {
            if (resizable) {
                var instance = resizable;
                resizable = null;
                removeClass(document.body, classes.noSelection);
                removeClass(instance.elements.dialog, classes.capture);
                cancelClick = true;
                // allow custom `onresized` method
                dispatchEvent('onresized', instance);
            }
        }

        /**
         * Resets any changes made by resizing the element to its original state.
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function resetResize(instance) {
            resizable = null;
            var element = instance.elements.dialog;
            if (element.style.maxWidth === 'none') {
                //clear inline styles.
                element.style.maxWidth = element.style.minWidth = element.style.width = element.style.height = element.style.minHeight = element.style.left = '';
                //reset variables.
                startingLeft = Number.Nan;
                startingWidth = minWidth = handleOffset = 0;
            }
        }


        /**
         * Updates the dialog move behavior.
         *
         * @param {Object} instance The dilog instance.
         * @param {Boolean} on True to add the behavior, removes it otherwise.
         *
         * @return {undefined}
         */
        function updateResizable(instance) {
            if (instance.get('resizable')) {
                // add class
                addClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    bindResizableEvents(instance);
                }
            } else {
                //reset
                resetResize(instance);
                // remove class
                removeClass(instance.elements.root, classes.resizable);
                if (instance.isOpen()) {
                    unbindResizableEvents(instance);
                }
            }
        }

        /**
         * Reset move/resize on window resize.
         *
         * @param {Event} event	window resize event object.
         *
         * @return {undefined}
         */
        function windowResize(/*event*/) {
            for (var x = 0; x < openDialogs.length; x += 1) {
                var instance = openDialogs[x];
                if (instance.get('autoReset')) {
                    resetMove(instance);
                    resetResize(instance);
                }
            }
        }
        /**
         * Bind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindEvents(instance) {
            // if first dialog, hook global handlers
            if (openDialogs.length === 1) {
                //global
                on(window, 'resize', windowResize);
                on(document.body, 'keyup', keyupHandler);
                on(document.body, 'keydown', keydownHandler);
                on(document.body, 'focus', onReset);

                //move
                on(document.documentElement, 'mousemove', move);
                on(document.documentElement, 'touchmove', move);
                on(document.documentElement, 'mouseup', endMove);
                on(document.documentElement, 'touchend', endMove);
                //resize
                on(document.documentElement, 'mousemove', resize);
                on(document.documentElement, 'touchmove', resize);
                on(document.documentElement, 'mouseup', endResize);
                on(document.documentElement, 'touchend', endResize);
            }

            // common events
            on(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            on(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            on(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            on(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            //prevent handling key up when dialog is being opened by a key stroke.
            cancelKeyup = true;
            // hook in transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);

            // modelss only events
            if (!instance.get('modal')) {
                bindModelessEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                bindResizableEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                bindMovableEvents(instance);
            }
        }

        /**
         * Unbind dialogs events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindEvents(instance) {
            // if last dialog, remove global handlers
            if (openDialogs.length === 1) {
                //global
                off(window, 'resize', windowResize);
                off(document.body, 'keyup', keyupHandler);
                off(document.body, 'keydown', keydownHandler);
                off(document.body, 'focus', onReset);
                //move
                off(document.documentElement, 'mousemove', move);
                off(document.documentElement, 'mouseup', endMove);
                //resize
                off(document.documentElement, 'mousemove', resize);
                off(document.documentElement, 'mouseup', endResize);
            }

            // common events
            off(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);
            off(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);
            off(instance.elements.reset[0], 'focus', instance.__internal.resetHandler);
            off(instance.elements.reset[1], 'focus', instance.__internal.resetHandler);

            // hook out transition handler
            on(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);

            // modelss only events
            if (!instance.get('modal')) {
                unbindModelessEvents(instance);
            }

            // movable
            if (instance.get('movable')) {
                unbindMovableEvents(instance);
            }

            // resizable
            if (instance.get('resizable')) {
                unbindResizableEvents(instance);
            }

        }

        /**
         * Bind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindModelessEvents(instance) {
            on(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }

        /**
         * Unbind modeless specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindModelessEvents(instance) {
            off(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);
        }



        /**
         * Bind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindMovableEvents(instance) {
            on(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            on(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }

        /**
         * Unbind movable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindMovableEvents(instance) {
            off(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);
            off(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler);
        }



        /**
         * Bind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindResizableEvents(instance) {
            on(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            on(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Unbind resizable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindResizableEvents(instance) {
            off(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);
            off(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler);
        }

        /**
         * Bind closable events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function bindClosableEvents(instance) {
            on(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }

        /**
         * Unbind closable specific events
         *
         * @param {Object} instance The dilog instance.
         *
         * @return {undefined}
         */
        function unbindClosableEvents(instance) {
            off(instance.elements.modal, 'click', instance.__internal.modalClickHandler);
        }
        // dialog API
        return {
            __init:initialize,
            /**
             * Check if dialog is currently open
             *
             * @return {Boolean}
             */
            isOpen: function () {
                return this.__internal.isOpen;
            },
            isModal: function (){
                return this.elements.root.className.indexOf(classes.modeless) < 0;
            },
            isMaximized:function(){
                return this.elements.root.className.indexOf(classes.maximized) > -1;
            },
            isPinned:function(){
                return this.elements.root.className.indexOf(classes.unpinned) < 0;
            },
            maximize:function(){
                if(!this.isMaximized()){
                    maximize(this);
                }
                return this;
            },
            restore:function(){
                if(this.isMaximized()){
                    restore(this);
                }
                return this;
            },
            pin:function(){
                if(!this.isPinned()){
                    pin(this);
                }
                return this;
            },
            unpin:function(){
                if(this.isPinned()){
                    unpin(this);
                }
                return this;
            },
            bringToFront:function(){
                bringToFront(null, this);
                return this;
            },
            /**
             * Move the dialog to a specific x/y coordinates
             *
             * @param {Number} x    The new dialog x coordinate in pixels.
             * @param {Number} y    The new dialog y coordinate in pixels.
             *
             * @return {Object} The dialog instance.
             */
            moveTo:function(x,y){
                if(!isNaN(x) && !isNaN(y)){
                    // allow custom `onmove` method
                    dispatchEvent('onmove', this);
                    
                    var element = this.elements.dialog,
                        current = element,
                        offsetLeft = 0,
                        offsetTop = 0;
                    
                    //subtract existing left,top
                    if (element.style.left) {
                        offsetLeft -= parseInt(element.style.left, 10);
                    }
                    if (element.style.top) {
                        offsetTop -= parseInt(element.style.top, 10);
                    }
                    //calc offset
                    do {
                        offsetLeft += current.offsetLeft;
                        offsetTop += current.offsetTop;
                    } while (current = current.offsetParent);

                    //calc left, top
                    var left = (x - offsetLeft);
                    var top  = (y - offsetTop);

                    //// rtl handling
                    if (isRightToLeft()) {
                        left *= -1;
                    }

                    element.style.left = left + 'px';
                    element.style.top = top + 'px';
                    
                    // allow custom `onmoved` method
                    dispatchEvent('onmoved', this);
                }
                return this;
            },
            /**
             * Resize the dialog to a specific width/height (the dialog must be 'resizable').
             * The dialog can be resized to:
             *  A minimum width equal to the initial display width
             *  A minimum height equal to the sum of header/footer heights.
             *
             *
             * @param {Number or String} width    The new dialog width in pixels or in percent.
             * @param {Number or String} height   The new dialog height in pixels or in percent.
             *
             * @return {Object} The dialog instance.
             */
            resizeTo:function(width,height){
                var w = parseFloat(width),
                    h = parseFloat(height),
                    regex = /(\d*\.\d+|\d+)%/;

                if(!isNaN(w) && !isNaN(h) && this.get('resizable') === true){
                    
                    // allow custom `onresize` method
                    dispatchEvent('onresize', this);
                    
                    if(('' + width).match(regex)){
                        w = w / 100 * document.documentElement.clientWidth ;
                    }

                    if(('' + height).match(regex)){
                        h = h / 100 * document.documentElement.clientHeight;
                    }

                    var element = this.elements.dialog;
                    if (element.style.maxWidth !== 'none') {
                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';
                    }
                    element.style.maxWidth = 'none';
                    element.style.minHeight = this.elements.header.offsetHeight + this.elements.footer.offsetHeight + 'px';
                    element.style.width = w + 'px';
                    element.style.height = h + 'px';
                    
                    // allow custom `onresized` method
                    dispatchEvent('onresized', this);
                }
                return this;
            },
            /**
             * Gets or Sets dialog settings/options 
             *
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Object} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting : function (key, value) {
                var self = this;
                var result = update(this, this.__internal.options, function(k,o,n){ optionUpdated(self,k,o,n); }, key, value);
                if(result.op === 'get'){
                    if(result.found){
                        return result.value;
                    }else if(typeof this.settings !== 'undefined'){
                        return update(this, this.settings, this.settingUpdated || function(){}, key, value).value;
                    }else{
                        return undefined;
                    }
                }else if(result.op === 'set'){
                    if(result.items.length > 0){
                        var callback = this.settingUpdated || function(){};
                        for(var x=0;x<result.items.length;x+=1){
                            var item = result.items[x];
                            if(!item.found && typeof this.settings !== 'undefined'){
                                update(this, this.settings, callback, item.key, item.value);
                            }
                        }
                    }
                    return this;
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set:function(key, value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get:function(key){
                return this.setting(key);
            },
            /**
            * Sets dialog header
            * @content {string or element}
            *
            * @return {undefined}
            */
            setHeader:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.header);
                    this.elements.header.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.header.firstChild !== content){
                    clearContents(this.elements.header);
                    this.elements.header.appendChild(content);
                }
                return this;
            },
            /**
            * Sets dialog contents
            * @content {string or element}
            *
            * @return {undefined}
            */
            setContent:function(content){
                if(typeof content === 'string'){
                    clearContents(this.elements.content);
                    this.elements.content.innerHTML = content;
                }else if (content instanceof window.HTMLElement && this.elements.content.firstChild !== content){
                    clearContents(this.elements.content);
                    this.elements.content.appendChild(content);
                }
                return this;
            },
            /**
             * Show the dialog as modal
             *
             * @return {Object} the dialog instance.
             */
            showModal: function(className){
                return this.show(true, className);
            },
            /**
             * Show the dialog
             *
             * @return {Object} the dialog instance.
             */
            show: function (modal, className) {
                
                // ensure initialization
                initialize(this);

                if ( !this.__internal.isOpen ) {

                    // add to open dialogs
                    this.__internal.isOpen = true;
                    openDialogs.push(this);

                    // save last focused element
                    if(alertify.defaults.maintainFocus){
                        this.__internal.activeElement = document.activeElement;
                    }

                    //allow custom dom manipulation updates before showing the dialog.
                    if(typeof this.prepare === 'function'){
                        this.prepare();
                    }

                    bindEvents(this);

                    if(modal !== undefined){
                        this.set('modal', modal);
                    }

                    //save scroll to prevent document jump
                    saveScrollPosition();

                    ensureNoOverflow();

                    // allow custom dialog class on show
                    if(typeof className === 'string' && className !== ''){
                        this.__internal.className = className;
                        addClass(this.elements.root, className);
                    }

                    // maximize if start maximized
                    if ( this.get('startMaximized')) {
                        this.maximize();
                    }else if(this.isMaximized()){
                        restore(this);
                    }

                    updateAbsPositionFix(this);

                    removeClass(this.elements.root, classes.animationOut);
                    addClass(this.elements.root, classes.animationIn);

                    // set 1s fallback in case transition event doesn't fire
                    clearTimeout( this.__internal.timerIn);
                    this.__internal.timerIn = setTimeout( this.__internal.transitionInHandler, transition.supported ? 1000 : 100 );

                    if(isSafari){
                        // force desktop safari reflow
                        var root = this.elements.root;
                        root.style.display  = 'none';
                        setTimeout(function(){root.style.display  = 'block';}, 0);
                    }

                    //reflow
                    reflow = this.elements.root.offsetWidth;
                  
                    // show dialog
                    removeClass(this.elements.root, classes.hidden);

                    // internal on show event
                    if(typeof this.hooks.onshow === 'function'){
                        this.hooks.onshow.call(this);
                    }

                    // allow custom `onshow` method
                    dispatchEvent('onshow', this);

                }else{
                    // reset move updates
                    resetMove(this);
                    // reset resize updates
                    resetResize(this);
                    // shake the dialog to indicate its already open
                    addClass(this.elements.dialog, classes.shake);
                    var self = this;
                    setTimeout(function(){
                        removeClass(self.elements.dialog, classes.shake);
                    },200);
                }
                return this;
            },
            /**
             * Close the dialog
             *
             * @return {Object} The dialog instance
             */
            close: function () {
                if (this.__internal.isOpen ) {
                    // custom `onclosing` event
                    if(dispatchEvent('onclosing', this) !== false){

                        unbindEvents(this);

                        removeClass(this.elements.root, classes.animationIn);
                        addClass(this.elements.root, classes.animationOut);

                        // set 1s fallback in case transition event doesn't fire
                        clearTimeout( this.__internal.timerOut );
                        this.__internal.timerOut = setTimeout( this.__internal.transitionOutHandler, transition.supported ? 1000 : 100 );
                        // hide dialog
                        addClass(this.elements.root, classes.hidden);
                        //reflow
                        reflow = this.elements.modal.offsetWidth;

                        // remove custom dialog class on hide
                        if (typeof this.__internal.className !== 'undefined' && this.__internal.className !== '') {
                            removeClass(this.elements.root, this.__internal.className);
                        }

                        // internal on close event
                        if(typeof this.hooks.onclose === 'function'){
                            this.hooks.onclose.call(this);
                        }

                        // allow custom `onclose` method
                        dispatchEvent('onclose', this);

                        //remove from open dialogs
                        openDialogs.splice(openDialogs.indexOf(this),1);
                        this.__internal.isOpen = false;

                        ensureNoOverflow();
                    }

                }
                return this;
            },
            /**
             * Close all open dialogs except this.
             *
             * @return {undefined}
             */
            closeOthers:function(){
                alertify.closeAll(this);
                return this;
            },
            /**
             * Destroys this dialog instance
             *
             * @return {undefined}
             */
            destroy:function(){
                if (this.__internal.isOpen ) {
                    //mark dialog for destruction, this will be called on tranistionOut event.
                    this.__internal.destroy = function(){
                        destruct(this, initialize);
                    };
                    //close the dialog to unbind all events.
                    this.close();
                }else{
                    destruct(this, initialize);
                }
                return this;
            },
        };
	} () );
    var notifier = (function () {
        var reflow,
            element,
            openInstances = [],
            classes = {
                base: 'alertify-notifier',
                message: 'ajs-message',
                top: 'ajs-top',
                right: 'ajs-right',
                bottom: 'ajs-bottom',
                left: 'ajs-left',
                center: 'ajs-center',
                visible: 'ajs-visible',
                hidden: 'ajs-hidden',
                close: 'ajs-close'
            };
        /**
         * Helper: initializes the notifier instance
         *
         */
        function initialize(instance) {

            if (!instance.__internal) {
                instance.__internal = {
                    position: alertify.defaults.notifier.position,
                    delay: alertify.defaults.notifier.delay,
                };

                element = document.createElement('DIV');

                updatePosition(instance);
            }

            //add to DOM tree.
            if (element.parentNode !== document.body) {
                document.body.appendChild(element);
            }
        }

        function pushInstance(instance) {
            instance.__internal.pushed = true;
            openInstances.push(instance);
        }
        function popInstance(instance) {
            openInstances.splice(openInstances.indexOf(instance), 1);
            instance.__internal.pushed = false;
        }
        /**
         * Helper: update the notifier instance position
         *
         */
        function updatePosition(instance) {
            element.className = classes.base;
            switch (instance.__internal.position) {
            case 'top-right':
                addClass(element, classes.top + ' ' + classes.right);
                break;
            case 'top-left':
                addClass(element, classes.top + ' ' + classes.left);
                break;
            case 'top-center':
                addClass(element, classes.top + ' ' + classes.center);
                break;
            case 'bottom-left':
                addClass(element, classes.bottom + ' ' + classes.left);
                break;
            case 'bottom-center':
                addClass(element, classes.bottom + ' ' + classes.center);
                break;

            default:
            case 'bottom-right':
                addClass(element, classes.bottom + ' ' + classes.right);
                break;
            }
        }

        /**
        * creates a new notification message
        *
        * @param  {DOMElement} message	The notifier message element
        * @param  {Number} wait   Time (in ms) to wait before the message is dismissed, a value of 0 means keep open till clicked.
        * @param  {Function} callback A callback function to be invoked when the message is dismissed.
        *
        * @return {undefined}
        */
        function create(div, callback) {

            function clickDelegate(event, instance) {
                if(!instance.__internal.closeButton || event.target.getAttribute('data-close') === 'true'){
                    instance.dismiss(true);
                }
            }

            function transitionDone(event, instance) {
                // unbind event
                off(instance.element, transition.type, transitionDone);
                // remove the message
                element.removeChild(instance.element);
            }

            function initialize(instance) {
                if (!instance.__internal) {
                    instance.__internal = {
                        pushed: false,
                        delay : undefined,
                        timer: undefined,
                        clickHandler: undefined,
                        transitionEndHandler: undefined,
                        transitionTimeout: undefined
                    };
                    instance.__internal.clickHandler = delegate(instance, clickDelegate);
                    instance.__internal.transitionEndHandler = delegate(instance, transitionDone);
                }
                return instance;
            }
            function clearTimers(instance) {
                clearTimeout(instance.__internal.timer);
                clearTimeout(instance.__internal.transitionTimeout);
            }
            return initialize({
                /* notification DOM element*/
                element: div,
                /*
                 * Pushes a notification message
                 * @param {string or DOMElement} content The notification message content
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                push: function (_content, _wait) {
                    if (!this.__internal.pushed) {

                        pushInstance(this);
                        clearTimers(this);

                        var content, wait;
                        switch (arguments.length) {
                        case 0:
                            wait = this.__internal.delay;
                            break;
                        case 1:
                            if (typeof (_content) === 'number') {
                                wait = _content;
                            } else {
                                content = _content;
                                wait = this.__internal.delay;
                            }
                            break;
                        case 2:
                            content = _content;
                            wait = _wait;
                            break;
                        }
                        this.__internal.closeButton = alertify.defaults.notifier.closeButton;
                        // set contents
                        if (typeof content !== 'undefined') {
                            this.setContent(content);
                        }
                        // append or insert
                        if (notifier.__internal.position.indexOf('top') < 0) {
                            element.appendChild(this.element);
                        } else {
                            element.insertBefore(this.element, element.firstChild);
                        }
                        reflow = this.element.offsetWidth;
                        addClass(this.element, classes.visible);
                        // attach click event
                        on(this.element, 'click', this.__internal.clickHandler);
                        return this.delay(wait);
                    }
                    return this;
                },
                /*
                 * {Function} callback function to be invoked before dismissing the notification message.
                 * Remarks: A return value === 'false' will cancel the dismissal
                 *
                 */
                ondismiss: function () { },
                /*
                 * {Function} callback function to be invoked when the message is dismissed.
                 *
                 */
                callback: callback,
                /*
                 * Dismisses the notification message
                 * @param {Boolean} clicked A flag indicating if the dismissal was caused by a click.
                 *
                 */
                dismiss: function (clicked) {
                    if (this.__internal.pushed) {
                        clearTimers(this);
                        if (!(typeof this.ondismiss === 'function' && this.ondismiss.call(this) === false)) {
                            //detach click event
                            off(this.element, 'click', this.__internal.clickHandler);
                            // ensure element exists
                            if (typeof this.element !== 'undefined' && this.element.parentNode === element) {
                                //transition end or fallback
                                this.__internal.transitionTimeout = setTimeout(this.__internal.transitionEndHandler, transition.supported ? 1000 : 100);
                                removeClass(this.element, classes.visible);

                                // custom callback on dismiss
                                if (typeof this.callback === 'function') {
                                    this.callback.call(this, clicked);
                                }
                            }
                            popInstance(this);
                        }
                    }
                    return this;
                },
                /*
                 * Delays the notification message dismissal
                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.
                 *
                 */
                delay: function (wait) {
                    clearTimers(this);
                    this.__internal.delay = typeof wait !== 'undefined' && !isNaN(+wait) ? +wait : notifier.__internal.delay;
                    if (this.__internal.delay > 0) {
                        var  self = this;
                        this.__internal.timer = setTimeout(function () { self.dismiss(); }, this.__internal.delay * 1000);
                    }
                    return this;
                },
                /*
                 * Sets the notification message contents
                 * @param {string or DOMElement} content The notification message content
                 *
                 */
                setContent: function (content) {
                    if (typeof content === 'string') {
                        clearContents(this.element);
                        this.element.innerHTML = content;
                    } else if (content instanceof window.HTMLElement && this.element.firstChild !== content) {
                        clearContents(this.element);
                        this.element.appendChild(content);
                    }
                    if(this.__internal.closeButton){
                        var close = document.createElement('span');
                        addClass(close, classes.close);
                        close.setAttribute('data-close', true);
                        this.element.appendChild(close);
                    }
                    return this;
                },
                /*
                 * Dismisses all open notifications except this.
                 *
                 */
                dismissOthers: function () {
                    notifier.dismissAll(this);
                    return this;
                }
            });
        }

        //notifier api
        return {
            /**
             * Gets or Sets notifier settings.
             *
             * @param {string} key The setting name
             * @param {Variant} value The setting value.
             *
             * @return {Object}	if the called as a setter, return the notifier instance.
             */
            setting: function (key, value) {
                //ensure init
                initialize(this);

                if (typeof value === 'undefined') {
                    //get
                    return this.__internal[key];
                } else {
                    //set
                    switch (key) {
                    case 'position':
                        this.__internal.position = value;
                        updatePosition(this);
                        break;
                    case 'delay':
                        this.__internal.delay = value;
                        break;
                    }
                }
                return this;
            },
            /**
             * [Alias] Sets dialog settings/options
             */
            set:function(key,value){
                this.setting(key,value);
                return this;
            },
            /**
             * [Alias] Gets dialog settings/options
             */
            get:function(key){
                return this.setting(key);
            },
            /**
             * Creates a new notification message
             *
             * @param {string} type The type of notification message (simply a CSS class name 'ajs-{type}' to be added).
             * @param {Function} callback  A callback function to be invoked when the message is dismissed.
             *
             * @return {undefined}
             */
            create: function (type, callback) {
                //ensure notifier init
                initialize(this);
                //create new notification message
                var div = document.createElement('div');
                div.className = classes.message + ((typeof type === 'string' && type !== '') ? ' ajs-' + type : '');
                return create(div, callback);
            },
            /**
             * Dismisses all open notifications.
             *
             * @param {Object} excpet [optional] The notification object to exclude from dismissal.
             *
             */
            dismissAll: function (except) {
                var clone = openInstances.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var  instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.dismiss();
                    }
                }
            }
        };
    })();

    /**
     * Alertify public API
     * This contains everything that is exposed through the alertify object.
     *
     * @return {Object}
     */
    function Alertify() {

        // holds a references of created dialogs
        var dialogs = {};

        /**
         * Extends a given prototype by merging properties from base into sub.
         *
         * @sub {Object} sub The prototype being overwritten.
         * @base {Object} base The prototype being written.
         *
         * @return {Object} The extended prototype.
         */
        function extend(sub, base) {
            // copy dialog pototype over definition.
            for (var prop in base) {
                if (base.hasOwnProperty(prop)) {
                    sub[prop] = base[prop];
                }
            }
            return sub;
        }


        /**
        * Helper: returns a dialog instance from saved dialogs.
        * and initializes the dialog if its not already initialized.
        *
        * @name {String} name The dialog name.
        *
        * @return {Object} The dialog instance.
        */
        function get_dialog(name) {
            var dialog = dialogs[name].dialog;
            //initialize the dialog if its not already initialized.
            if (dialog && typeof dialog.__init === 'function') {
                dialog.__init(dialog);
            }
            return dialog;
        }

        /**
         * Helper:  registers a new dialog definition.
         *
         * @name {String} name The dialog name.
         * @Factory {Function} Factory a function resposible for creating dialog prototype.
         * @transient {Boolean} transient True to create a new dialog instance each time the dialog is invoked, false otherwise.
         * @base {String} base the name of another dialog to inherit from.
         *
         * @return {Object} The dialog definition.
         */
        function register(name, Factory, transient, base) {
            var definition = {
                dialog: null,
                factory: Factory
            };

            //if this is based on an existing dialog, create a new definition
            //by applying the new protoype over the existing one.
            if (base !== undefined) {
                definition.factory = function () {
                    return extend(new dialogs[base].factory(), new Factory());
                };
            }

            if (!transient) {
                //create a new definition based on dialog
                definition.dialog = extend(new definition.factory(), dialog);
            }
            return dialogs[name] = definition;
        }

        return {
            /**
             * Alertify defaults
             * 
             * @type {Object}
             */
            defaults: defaults,
            /**
             * Dialogs factory 
             *
             * @param {string}      Dialog name.
             * @param {Function}    A Dialog factory function.
             * @param {Boolean}     Indicates whether to create a singleton or transient dialog.
             * @param {String}      The name of the base type to inherit from.
             */
            dialog: function (name, Factory, transient, base) {

                // get request, create a new instance and return it.
                if (typeof Factory !== 'function') {
                    return get_dialog(name);
                }

                if (this.hasOwnProperty(name)) {
                    throw new Error('alertify.dialog: name already exists');
                }

                // register the dialog
                var definition = register(name, Factory, transient, base);

                if (transient) {

                    // make it public
                    this[name] = function () {
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var instance = extend(new definition.factory(), dialog);
                            //ensure init
                            if (instance && typeof instance.__init === 'function') {
                                instance.__init(instance);
                            }
                            instance['main'].apply(instance, arguments);
                            return instance['show'].apply(instance);
                        }
                    };
                } else {
                    // make it public
                    this[name] = function () {
                        //ensure init
                        if (definition.dialog && typeof definition.dialog.__init === 'function') {
                            definition.dialog.__init(definition.dialog);
                        }
                        //if passed with no params, consider it a get request
                        if (arguments.length === 0) {
                            return definition.dialog;
                        } else {
                            var dialog = definition.dialog;
                            dialog['main'].apply(definition.dialog, arguments);
                            return dialog['show'].apply(definition.dialog);
                        }
                    };
                }
            },
            /**
             * Close all open dialogs.
             *
             * @param {Object} excpet [optional] The dialog object to exclude from closing.
             *
             * @return {undefined}
             */
            closeAll: function (except) {
                var clone = openDialogs.slice(0);
                for (var x = 0; x < clone.length; x += 1) {
                    var instance = clone[x];
                    if (except === undefined || except !== instance) {
                        instance.close();
                    }
                }
            },
            /**
             * Gets or Sets dialog settings/options. if the dialog is transient, this call does nothing.
             *
             * @param {string} name The dialog name.
             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.
             * @param {Variant} value Optional, the value associated with the key (in case it was a string).
             *
             * @return {undefined}
             */
            setting: function (name, key, value) {

                if (name === 'notifier') {
                    return notifier.setting(key, value);
                }

                var dialog = get_dialog(name);
                if (dialog) {
                    return dialog.setting(key, value);
                }
            },
            /**
             * [Alias] Sets dialog settings/options 
             */
            set: function(name,key,value){
                return this.setting(name, key,value);
            },
            /**
             * [Alias] Gets dialog settings/options 
             */
            get: function(name, key){
                return this.setting(name, key);
            },
            /**
             * Creates a new notification message.
             * If a type is passed, a class name "ajs-{type}" will be added.
             * This allows for custom look and feel for various types of notifications.
             *
             * @param  {String | DOMElement}    [message=undefined]		Message text
             * @param  {String}                 [type='']				Type of log message
             * @param  {String}                 [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}               [callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            notify: function (message, type, wait, callback) {
                return notifier.create(type, callback).push(message, wait);
            },
            /**
             * Creates a new notification message.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            message: function (message, wait, callback) {
                return notifier.create(null, callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'success'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            success: function (message, wait, callback) {
                return notifier.create('success', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'error'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            error: function (message, wait, callback) {
                return notifier.create('error', callback).push(message, wait);
            },
            /**
             * Creates a new notification message of type 'warning'.
             *
             * @param  {String}		[message=undefined]		Message text
             * @param  {String}     [wait='']				Time (in seconds) to wait before auto-close
             * @param  {Function}	[callback=undefined]	A callback function to be invoked when the log is closed.
             *
             * @return {Object} Notification object.
             */
            warning: function (message, wait, callback) {
                return notifier.create('warning', callback).push(message, wait);
            },
            /**
             * Dismisses all open notifications
             *
             * @return {undefined}
             */
            dismissAll: function () {
                notifier.dismissAll();
            }
        };
    }
    var alertify = new Alertify();

    /**
    * Alert dialog definition
    *
    * invoked by:
    *	alertify.alert(message);
    *	alertify.alert(title, message);
    *	alertify.alert(message, onok);
    *	alertify.alert(title, message, onok);
     */
    alertify.dialog('alert', function () {
        return {
            main: function (_title, _message, _onok) {
                var title, message, onok;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    if (typeof _message === 'function') {
                        message = _title;
                        onok = _message;
                    } else {
                        title = _title;
                        message = _message;
                    }
                    break;
                case 3:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.ok,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                // nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: undefined,
                onok: undefined,
                label: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'label':
                    if (this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue;
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                if (typeof this.get('onok') === 'function') {
                    var returnValue = this.get('onok').call(this, closeEvent);
                    if (typeof returnValue !== 'undefined') {
                        closeEvent.cancel = !returnValue;
                    }
                }
            }
        };
    });
    /**
     * Confirm dialog object
     *
     *	alertify.confirm(message);
     *	alertify.confirm(message, onok);
     *	alertify.confirm(message, onok, oncancel);
     *	alertify.confirm(title, message, onok, oncancel);
     */
    alertify.dialog('confirm', function () {

        var autoConfirm = {
            timer: null,
            index: null,
            text: null,
            duration: null,
            task: function (event, self) {
                if (self.isOpen()) {
                    self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text + ' (&#8207;' + autoConfirm.duration + '&#8207;) ';
                    autoConfirm.duration -= 1;
                    if (autoConfirm.duration === -1) {
                        clearAutoConfirm(self);
                        var button = self.__internal.buttons[autoConfirm.index];
                        var closeEvent = createCloseEvent(autoConfirm.index, button);

                        if (typeof self.callback === 'function') {
                            self.callback.apply(self, [closeEvent]);
                        }
                        //close the dialog.
                        if (closeEvent.close !== false) {
                            self.close();
                        }
                    }
                } else {
                    clearAutoConfirm(self);
                }
            }
        };

        function clearAutoConfirm(self) {
            if (autoConfirm.timer !== null) {
                clearInterval(autoConfirm.timer);
                autoConfirm.timer = null;
                self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text;
            }
        }

        function startAutoConfirm(self, index, duration) {
            clearAutoConfirm(self);
            autoConfirm.duration = duration;
            autoConfirm.index = index;
            autoConfirm.text = self.__internal.buttons[index].element.innerHTML;
            autoConfirm.timer = setInterval(delegate(self, autoConfirm.task), 1000);
            autoConfirm.task(null, self);
        }


        return {
            main: function (_title, _message, _onok, _oncancel) {
                var title, message, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    onok = _message;
                    break;
                case 3:
                    message = _title;
                    onok = _message;
                    oncancel = _onok;
                    break;
                case 4:
                    title = _title;
                    message = _message;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: 0,
                        select: false
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                //nothing
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                this.setContent(message);
            },
            settings: {
                message: null,
                labels: null,
                onok: null,
                oncancel: null,
                defaultFocus: null,
                reverseButtons: null,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'labels':
                    if ('ok' in newValue && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].text = newValue.ok;
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if ('cancel' in newValue && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].text = newValue.cancel;
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                case 'defaultFocus':
                    this.__internal.focus.element = newValue === 'ok' ? 0 : 1;
                    break;
                }
            },
            callback: function (closeEvent) {
                clearAutoConfirm(this);
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                }
            },
            autoOk: function (duration) {
                startAutoConfirm(this, 0, duration);
                return this;
            },
            autoCancel: function (duration) {
                startAutoConfirm(this, 1, duration);
                return this;
            }
        };
    });
    /**
     * Prompt dialog object
     *
     * invoked by:
     *	alertify.prompt(message);
     *	alertify.prompt(message, value);
     *	alertify.prompt(message, value, onok);
     *	alertify.prompt(message, value, onok, oncancel);
     *	alertify.prompt(title, message, value, onok, oncancel);
     */
    alertify.dialog('prompt', function () {
        var input = document.createElement('INPUT');
        var p = document.createElement('P');
        return {
            main: function (_title, _message, _value, _onok, _oncancel) {
                var title, message, value, onok, oncancel;
                switch (arguments.length) {
                case 1:
                    message = _title;
                    break;
                case 2:
                    message = _title;
                    value = _message;
                    break;
                case 3:
                    message = _title;
                    value = _message;
                    onok = _value;
                    break;
                case 4:
                    message = _title;
                    value = _message;
                    onok = _value;
                    oncancel = _onok;
                    break;
                case 5:
                    title = _title;
                    message = _message;
                    value = _value;
                    onok = _onok;
                    oncancel = _oncancel;
                    break;
                }
                this.set('title', title);
                this.set('message', message);
                this.set('value', value);
                this.set('onok', onok);
                this.set('oncancel', oncancel);
                return this;
            },
            setup: function () {
                return {
                    buttons: [
                        {
                            text: alertify.defaults.glossary.ok,
                            key: keys.ENTER,
                            className: alertify.defaults.theme.ok,
                        },
                        {
                            text: alertify.defaults.glossary.cancel,
                            key: keys.ESC,
                            invokeOnClose: true,
                            className: alertify.defaults.theme.cancel,
                        }
                    ],
                    focus: {
                        element: input,
                        select: true
                    },
                    options: {
                        maximizable: false,
                        resizable: false
                    }
                };
            },
            build: function () {
                input.className = alertify.defaults.theme.input;
                input.setAttribute('type', 'text');
                input.value = this.get('value');
                this.elements.content.appendChild(p);
                this.elements.content.appendChild(input);
            },
            prepare: function () {
                //nothing
            },
            setMessage: function (message) {
                if (typeof message === 'string') {
                    clearContents(p);
                    p.innerHTML = message;
                } else if (message instanceof window.HTMLElement && p.firstChild !== message) {
                    clearContents(p);
                    p.appendChild(message);
                }
            },
            settings: {
                message: undefined,
                labels: undefined,
                onok: undefined,
                oncancel: undefined,
                value: '',
                type:'text',
                reverseButtons: undefined,
            },
            settingUpdated: function (key, oldValue, newValue) {
                switch (key) {
                case 'message':
                    this.setMessage(newValue);
                    break;
                case 'value':
                    input.value = newValue;
                    break;
                case 'type':
                    switch (newValue) {
                    case 'text':
                    case 'color':
                    case 'date':
                    case 'datetime-local':
                    case 'email':
                    case 'month':
                    case 'number':
                    case 'password':
                    case 'search':
                    case 'tel':
                    case 'time':
                    case 'week':
                        input.type = newValue;
                        break;
                    default:
                        input.type = 'text';
                        break;
                    }
                    break;
                case 'labels':
                    if (newValue.ok && this.__internal.buttons[0].element) {
                        this.__internal.buttons[0].element.innerHTML = newValue.ok;
                    }
                    if (newValue.cancel && this.__internal.buttons[1].element) {
                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;
                    }
                    break;
                case 'reverseButtons':
                    if (newValue === true) {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);
                    } else {
                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);
                    }
                    break;
                }
            },
            callback: function (closeEvent) {
                var returnValue;
                switch (closeEvent.index) {
                case 0:
                    this.settings.value = input.value;
                    if (typeof this.get('onok') === 'function') {
                        returnValue = this.get('onok').call(this, closeEvent, this.settings.value);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    break;
                case 1:
                    if (typeof this.get('oncancel') === 'function') {
                        returnValue = this.get('oncancel').call(this, closeEvent);
                        if (typeof returnValue !== 'undefined') {
                            closeEvent.cancel = !returnValue;
                        }
                    }
                    if(!closeEvent.cancel){
                        input.value = this.settings.value;
                    }
                    break;
                }
            }
        };
    });

    // CommonJS
    {
        module.exports = alertify;
    // AMD
    }

} ( typeof window !== 'undefined' ? window : commonjsGlobal ) );
});

__$styleInject("@import url('https://fonts.googleapis.com/css?family=Signika|Courgette|Ubuntu|Poppins');\n\nhtml, body {\n  margin:0;height: 100%;\n}\n\n@media only screen and (max-width: 959px) {\n  body {\n    font-size: 11px;\n  }\n  #menutop {\n    width: 540px;\n  }\n  #mainframe {\n    width: 540px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 5.5em;\n  }\n  .img_scale {\n    -webkit-transform: scale(0.6);\n            transform: scale(0.6);\n  }\n  .cont_btn {\n    margin: 0.4em 3em !important;\n  }\n}\n\n@media only screen and (min-width: 960px) and (max-width: 1160px) {\n  body {\n    font-size: 15px;\n  }\n  #menutop {\n    width: 960px;\n  }\n  #mainframe {\n    width: 960px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 6em;\n  }\n  .img_scale {\n    -webkit-transform: scale(0.75);\n            transform: scale(0.75);\n  }\n  .cont_btn {\n    margin: 0.4em 3em !important;\n  }\n}\n\n@media only screen and (min-width: 1161px) and (max-width: 1360px) {\n  body {\n    font-size: 16px;\n  }\n  #menutop {\n    width: 1160px;\n  }\n  #mainframe {\n    width: 1160px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 7em;\n  }\n  .img_scale {\n    -webkit-transform: scale(0.75);\n            transform: scale(0.75);\n  }\n  .cont_btn {\n    margin: 0.4em 3em !important;\n  }\n}\n\n@media only screen and (min-width: 1361px) and (max-width: 1560px) {\n  body {\n    font-size: 17px;\n  }\n  #menutop {\n    width: 1350px;\n  }\n  #mainframe {\n    width: 1350px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 8em;\n  }\n  .cont_btn {\n    margin: 0.4em 3.5em !important;\n  }\n}\n\n@media only screen and (min-width: 1561px) and (max-width: 2000px) {\n  body {\n    font-size: 18px;\n  }\n  #menutop {\n    width: 1550px;\n  }\n  #mainframe {\n    width: 1550px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 8em;\n  }\n}\n\n@media only screen and (min-width: 2001px) {\n  body {\n    font-size: 18px;\n  }\n  #menutop {\n    width: 1750px;\n  }\n  #mainframe {\n    width: 1750px;\n    height: 100%;\n  }\n  .img_scale_logo {\n    width: 8em;\n  }\n}\n\n/* Styles for svg elements and svg container elements */\nsvg {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.cont_svg {\n  clear: both;\n  width: 98%;\n  height: 0;\n  padding-top: 48%;\n  position: relative;\n}\n/* End of styles for svg elements and svg container elements */\n\nbody.loading {\n  background-color: #e5edf8;\n}\n\nbody {\n  -webkit-transition:background-color 100ms linear;\n  transition: background-color 100ms linear;\n}\n\n#mainframe {\n  margin: auto;\n  clear: both;\n}\n\n#menutop {\n  margin: auto;\n  padding-top: 10px;\n}\n\n.noselect {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n/* Styles for the spinner displayed while the data is loading: */\n.spinner {\n  margin: 100px auto !important;\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.cube1, .cube2 {\n  background-color: #333;\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-animation: sk-cubemove 1.8s infinite ease-in-out;\n          animation: sk-cubemove 1.8s infinite ease-in-out;\n}\n\n.cube2 {\n  -webkit-animation-delay: -0.9s;\n          animation-delay: -0.9s;\n}\n\n@-webkit-keyframes sk-cubemove {\n  25% {\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n            transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } 50% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n            transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } 50.1% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n            transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } 75% {\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n            transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } 100% {\n    -webkit-transform: rotate(-360deg);\n            transform: rotate(-360deg);\n  }\n}\n\n@keyframes sk-cubemove {\n  25% {\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n            transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } 50% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n            transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } 50.1% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n            transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } 75% {\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n            transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } 100% {\n    -webkit-transform: rotate(-360deg);\n            transform: rotate(-360deg);\n  }\n}\n/* End of style for spinner */\n\n/* Style for the notification zone: */\n.alertify-notifier .ajs-message.ajs-warning {\n    background: rgb(228, 144, 83) !important;\n}\n\n.alertify-notifier .ajs-message {\n    font-size: 0.8em !important;\n    padding: 12px !important;\n}\n/* End of style for the notification zone */\n\n/* Styles for svg elements */\n.area {\n  fill: steelblue;\n  -webkit-clip-path: url(#clip);\n          clip-path: url(#clip);\n}\n\n.zoom {\n  cursor: move;\n  fill: none;\n  pointer-events: all;\n}\n\n.axis--y > .domain, .axis--x > .domain{\n  stroke: #BEBEBE;\n}\n\n.axis--y > g.tick > line, .axis--x > g.tick > line{\n  stroke: #BEBEBE;\n}\n\n.tick > text {\n  font-size: 11px;\n}\n/* End of styles for svg elements */\n\n/* Styles for information (i) icon and information dialogs */\nspan.i_info {\n  font-family: Courgette;\n  color: #4f81bd;\n  padding-left: 5px;\n  padding-right: 4px;\n  font-weight: bold;\n  cursor: help;\n}\n\ndiv.tingle-modal-box__content {\n  padding: 1rem 2rem 2rem 2rem !important;\n}\n/* End of styles for information icons and information dialog */\n\n/* Styles for the left menu */\n.title_menu {\n  background: #4f81bd;\n  color: white;\n  padding: 2px !important;\n  margin: 0;\n}\n\n#menu {\n  font-family: 'Signika', sans-serif;\n  color: #4f81bd;\n  height: 100%;\n}\n\n#menu > div.box > p, #menu > div.box > div > p {\n  font-size: 0.8em;\n  padding: 1px 1px 1px 8px;\n  margin: 0;\n}\n\n#menu > div.box > p.small, #menu > div.box > div > p.small {\n  font-size: 0.75em;\n  margin-left: 0.7em;\n  color: rgba(0, 0, 0, 0.8);\n}\n\n.box {\n  border: solid 1px #4f81bd;\n  margin-bottom: 0.8em;\n}\n\nspan.down_arrow {\n  float: right;\n  padding-right: 1px;\n  margin: 4px;\n  cursor: pointer;\n}\n\nspan.square {\n    height: 6px;\n    border: 1px solid #4f81bd;\n    content: \" \";\n    padding-left: 10px;\n    margin-right: 5px;\n    font-size: 0.8em;\n    cursor: pointer;\n}\n\nspan.small_square {\n  height: 5px;\n  border: 1px solid #4f81bd;\n  content: \" \";\n  padding-left: 8px;\n  margin-right: 4px;\n  font-size: 0.6em;\n  cursor: pointer;\n}\n\nspan.small_square.disabled {\n  height: 5px;\n  border: 1px solid lightgray;\n  content: \" \";\n  padding-left: 8px;\n  margin-right: 4px;\n  font-size: 0.6em;\n  cursor: not-allowed;\n}\n\nspan.square.checked, span.small_square.checked {\n  background: #4f81bd;\n  cursor: pointer;\n}\n\nspan.label_chk {\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\nspan.label_chk.disabled {\n  color: lightgray;\n  cursor: not-allowed;\n}\n\nspan.link {\n  cursor: pointer;\n  color:blue;\n  text-decoration:underline;\n}\n\nspan.link:hover {\n     text-decoration:none;\n     text-shadow: 1px 1px 1px #555;\n}\n/* End on styles for left menu */\n\n/* Styles for top menu */\n.title_section {\n  color: #4f81bd;\n  font-size: 1.3em;\n  text-align: center;\n}\n\n.type_comparaison {\n  border: solid 1px #4f81bd;\n  margin-bottom: 15px;\n  float: left;\n  margin: auto;\n  cursor: pointer;\n  width: 41%;\n}\n\n.title_type_comp {\n  color: #4f81bd;\n  font-size: 1.3em;\n  margin: 0;\n}\n\n.type_chart {\n  margin: 0 5px;\n  cursor: pointer;\n  color: #4f81bd;\n}\n\n.type_chart.disabled {\n  color: lightgray;\n  cursor: not-allowed;\n}\n\n.type_chart.selected {\n  font-weight: 800;\n}\n/* End of styles for top menu */\n\n/* Styles for the completness section */\n.completude_section, .filter_info {\n  font-family: \"Signika\", sans-serif;\n  font-size: 0.8em;\n  text-align: center;\n  width: 100%;\n  margin: auto;\n  height: 1.2em;\n}\n\n.completude_section > p {\n  display: none;\n  cursor: pointer;\n  margin: auto;\n}\n\n.completude_section > p.active {\n  display: inherit;\n}\n/* End of styles for completness section */\n.cont_btn {\n  margin: 0.4em 5em;\n  display: inline-block;\n}\n\n.button_blue {\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    padding: 0.4em 0.8em;\n    border: 1px solid #3f6797;\n    border-radius: 8px;\n    background: #67a8f6;\n    background: -webkit-gradient(linear, left top, left bottom, from(#67a8f6), to(#3f6797));\n    background: linear-gradient(to bottom, #67a8f6, #3f6797);\n    font: normal normal normal 0.8em 'Signika', sans-serif;\n    color: #ffffff;\n    text-decoration: none;\n}\n.button_blue:hover,\n.button_blue:focus {\n    border: 1px solid #4f81bd;\n    background: #7ccaff;\n    background: -webkit-gradient(linear, left top, left bottom, from(#7ccaff), to(#4c7cb5));\n    background: linear-gradient(to bottom, #7ccaff, #4c7cb5);\n    color: #ffffff;\n    text-decoration: none;\n}\n.button_blue:active, .button_blue.pressed {\n    background: #3f6797;\n    background: -webkit-gradient(linear, left top, left bottom, from(#3f6797), to(#3f6797));\n    background: linear-gradient(to bottom, #3f6797, #3f6797);\n}\n\n/*#menu_selection > .button_blue {\n  margin: 0.4em 5em;\n}*/\n/* End of styles for buttons */\n\n#menu_selection {\n  font-size: 0.8em;\n  font-family: \"Signika\",sans-serif;\n  padding: 0em 1em 0.5em;\n}\n\n/* Styles for buttons on the top of the map */\n.map_button {\n  margin: -0.2em 0.3em 0 0.3em;\n  float: left;\n  -webkit-filter: opacity(25%);\n          filter: opacity(25%);\n  cursor: pointer;\n}\n\n.map_button.active {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.map_button.disabled {\n  display: none;\n}\n/* End of styles of buttons on the top of the map */\n\n/* Styles for context-menu */\n.context-menu {\n\tfont-family: Arial, sans;\n\tposition: absolute;\n\tbackground: white;\n\tborder: 1px solid #c3c3c3;\n\tborder-radius: 5px;\n\t-webkit-box-shadow: 0 5px 5px #c3c3c3;\n\t        box-shadow: 0 5px 5px #c3c3c3;\n\tpadding-top: 5px;\n\tpadding-bottom: 5px;\n\tmin-width: 200px;\n\tfont-size: 0.8em;\n}\n\n.context-menu ul {\n\tlist-style: none;\n\tpadding-left: 0;\n\tmargin: 0;\n}\n\n.context-menu li {\n\tposition: relative;\n\tpadding-left: 20px;\n\tpadding-right: 30px;\n\tcursor: default;\n}\n\n.context-menu li:hover {\n  background: rgba(145, 209, 230, 0.52);\n  color: rgb(0,0,0);\n}\n\n.context-menu li span.arrow {\n\tposition: absolute;\n\tfont-size: 0.8em;\n\tright: 10px;\n}\n\n.context-menu li div.context-menu {\n\tleft: 100%;\n\ttop: -5px;\n}\n/* End of styles for context-menu */\n\n/* Styles for Similarity chart / BubbleChart */\ninput.nb_select {\n  width: 30px;\n  -moz-appearance: textfield;\n  text-align: right;\n  border: none;\n  border-bottom-style: dashed;\n  border-bottom-width: 0.5px;\n  margin-left: 3px;\n  margin-right: 4px;\n  font-size: 1em;\n}\n\ninput.nb_select::-webkit-inner-spin-button,\ninput.nb_select::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0; /* Removes leftover margin */\n}\n\n.arrow-shadow {\n    -webkit-filter: drop-shadow(1px 1px 0.2px #000);\n            filter: drop-shadow(1px 1px 0.2px #000);\n}\n/* End of styles for Similarity chart / BubbleChart */\n\n/* Styles for minitable (displaying statistical summary) */\n.minitable_container {\n  text-align: center;\n  font-family: \"Signika\", sans-serif;\n}\n\n.minitable {\n  margin: auto;\n}\n\n.minitable > tbody > tr > td, .minitable > thead > tr > th  {\n  padding: 0.4em 1em;\n  font-size: 0.8em;\n  font-weight: 400;\n}\n\nthead > tr {\n  background: #4f81bd;\n  color: white;\n}\n\ntr td:nth-child(1){\n  background: #4f81bd;\n  color: white;\n}\n\ntr {\n  color: #4f81bd;\n}\n/* End of style for minitable */\n\n/* Style for menu / buttons under some charts */\n.choice_ind {\n  color: #4f81bd;\n  opacity: 0.5;\n  font-weight: 800;\n  cursor: pointer;\n  margin: 0 9px;\n}\n\n.choice_ind.active {\n  opacity: 1;\n}\n\n/* End of styles for menu / buttons under charts */\n\n/* Style for map */\n#layers > g > path:focus {\n  outline: 0;\n}\n\n.rotate {\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n}\n\n/* End of styles for map */\n\n/* Styles for map header */\n#header_map {\n  width: 99%;\n  margin-bottom: 5%;\n}\n/* End of styles for map header */\n\n/* Style for half circle buttons on the top of the map */\n.top_half_circle {\n  background: #4f81bd;\n  display: inline-block;\n  margin: 0 0.3em 0 0;\n  height: 1.4em;\n  width: 1.8em;\n  border-top-left-radius: 1.6em;\n  border-top-right-radius: 1.6em;\n  font-weight: bold;\n  float: right;\n  cursor: pointer;\n  text-align: center;\n  position: relative;\n  color: white;\n}\n/* End of styles for half circle buttons */\n\n/* Styles for slider checkbox */\n.slider-checkbox {\n  position: relative;\n  margin-top: 12px;\n  margin-bottom: 12px;\n}\n.slider-checkbox input {\n  margin: 0px;\n  margin-top: 1px;\n  cursor: pointer;\n  opacity: 0;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\n  filter: alpha(opacity=0);\n  -moz-opacity: 0;\n  -khtml-opacity: 0;\n  opacity: 0;\n  position: absolute;\n  z-index: 1;\n  top: 0px;\n  left: 0px;\n  background: red;\n  width: 40px;\n  height: 20px;\n}\n.slider-checkbox input:checked + .label:before {\n  background-color: #1877c1;\n  content: \"\";\n  padding-left: 0.2em;\n}\n.slider-checkbox input:checked + .label:after {\n  left: 21px;\n}\n.slider-checkbox .label {\n  position: relative;\n  padding-left: 46px;\n  text-align: justify;\n  cursor: pointer;\n}\n.slider-checkbox .label:before, .slider-checkbox .label:after {\n  position: absolute;\n  border-radius: 10px;\n  -webkit-transition:background-color 0.3s, left 0.3s;\n  transition: background-color 0.3s, left 0.3s;\n}\n.slider-checkbox .label:before {\n  content: \"\";\n  color: #667078;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding-left: 1.3em;\n  font-size: 0.9em;\n  line-height: 1em;\n  background-color: #888;\n  left: 0px;\n  top: 0px;\n  height: 20px;\n  width: 40px;\n  /*-webkit-border-radius: 10px;\n  -moz-border-radius: 10px;*/\n  border-radius: 10px;\n}\n.slider-checkbox .label:after {\n  content: \"\";\n  letter-spacing: 20px;\n  background: #fff;\n  left: 1px;\n  top: 1px;\n  height: 18px;\n  width: 18px;\n}\n.slider-checkbox input:not(:checked) + .label:before {\n  background-color: #667078;\n}\n.label.not_selected {\n  color: #667078;\n}\n\n/* End of styles for slider checkbox */\n\n/* Style for the 3 main containers */\n.t1 {\n  width:25%;\n  float: left;\n}\n.t2 {\n  width:39%;\n  float:left;\n  height:100%;\n  padding-left: 1% !important;\n }\n\n.t3 {\n  width:31%;\n  float:right;\n  height:100%;\n}\n\n.t1, .t2, .t3 {\n  padding-left: 0.5%;\n  padding-right: 0.5%;\n}\n/* End of style for the 3 main containers */\n\n/* Styles for tooltips */\n.tooltip {\n  pointer-events: none;\n  position: fixed;\n  background-color: rgba(245, 245, 220, 0.85);\n  padding: 0px 0px 5px 0px;\n  margin: auto;\n  min-width: 260px;\n  font-family: \"Signika\", sans-serif;\n  font-size: 0.85em;\n  border-radius: 4px;\n  color: #353d44;\n  z-index: 13;\n}\n\n.tooltip > .title {\n  margin: auto;\n  background-color: #4f81bd;\n  padding: 2px 8px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  color: white;\n  font-weight: 800;\n  font-size: 1.1em;\n}\n\n.tooltip > .title.red {\n  margin: auto;\n  background-color: red;\n  padding: 2px 8px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  color: white;\n  font-weight: 800;\n}\n\n.tooltip > .title.myRegion {\n  margin: auto;\n  background-color: yellow;\n  padding: 2px 8px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  color: black;\n  font-weight: 800;\n}\n\n.tooltip > .content {\n  margin: auto;\n  padding: 1px 8px;\n  font-size: 1em;\n}\n/* End of styles for tooltips */\n\n/* Styles for map tooltips */\n.tooltip_map, .tooltip-black {\n  pointer-events: none;\n  position: fixed;\n  background-color: black;\n  padding: 5px 8px;\n  margin: auto;\n  font-family: \"Signika\", sans-serif;\n  font-size: 0.9em;\n  border-radius: 4px;\n  color: white;\n}\n.tooltip_map > .title, .tooltip-black > .content {\n  margin: auto;\n}\n.tooltip_map > .content {\n  display: none;\n  height: 0;\n}\n/* End of styles for map tooltips */\n\nspan.arrow_down:before {\n  content: '\\025BA';\n  margin-right: 4px;\n}\n\nspan.arrow_right:before {\n  content: '\\025BE';\n  margin-right: 5px;\n  margin-left: 2px;\n  font-weight: 800;\n}\n\n.title-axis {\n  font-family: sans-serif;\n  font-size: 13px;\n  text-anchor: middle;\n  fill: black;\n  cursor: pointer;\n}\n\n.axis {\n  cursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  pointer-events: none;\n}\n\n.axis > text.legend {\n  cursor: initial;\n  -webkit-user-select: initial;\n     -moz-user-select: initial;\n      -ms-user-select: initial;\n          user-select: initial;\n  pointer-events: initial;\n}\n\n/* Styles for rapport dialog */\n#prep_rapport {\n  text-align: center;\n  min-height: 390px;\n}\n#prep_rapport > .spinner > .cube1, #prep_rapport > .spinner > .cube2 {\n  background-color: #4f81bd;\n}\n#prep_rapport > p {\n  margin: auto;\n  text-align: center;\n  padding-top: 20%;\n}\n.buttonDownload {\n\tdisplay: inline-block;\n\tposition: relative;\n\tpadding: 10px 25px;\n\n\tbackground-color: #4f81bd;\n\tcolor: white;\n\n\tfont-family: sans-serif;\n\ttext-decoration: none;\n\tfont-size: 0.9em;\n\ttext-align: center;\n\ttext-indent: 15px;\n}\n\n.buttonDownload:hover {\n\tbackground-color: #002565;\n\tcolor: white;\n}\n\n.buttonDownload:before, .buttonDownload:after {\n\tcontent: ' ';\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 15px;\n\ttop: 52%;\n}\n\n/* Download box shape  */\n.buttonDownload:before {\n\twidth: 10px;\n\theight: 2px;\n\tborder-style: solid;\n\tborder-width: 0 2px 2px;\n}\n\n/* Download arrow shape */\n.buttonDownload:after {\n\twidth: 0;\n\theight: 0;\n\tmargin-left: 3px;\n\tmargin-top: -7px;\n\n\tborder-style: solid;\n\tborder-width: 4px 4px 0 4px;\n\tborder-color: transparent;\n\tborder-top-color: inherit;\n\n\t-webkit-animation: downloadArrow 2s linear infinite;\n\n\t        animation: downloadArrow 2s linear infinite;\n\t-webkit-animation-play-state: paused;\n\t        animation-play-state: paused;\n}\n\n.buttonDownload:hover:before {\n\tborder-color: #4f81bd;\n}\n\n.buttonDownload:hover:after {\n\tborder-top-color: #4f81bd;\n\t-webkit-animation-play-state: running;\n\t        animation-play-state: running;\n}\n\n.buttonDownload.large {\n  width: 200px;\n}\n/* keyframes for the download icon anim */\n@-webkit-keyframes downloadArrow {\n\t/* 0% and 0.001% keyframes used as a hackish way of having the button frozen on a nice looking frame by default */\n\t0% {\n\t\tmargin-top: -7px;\n\t\topacity: 1;\n\t}\n\n\t0.001% {\n\t\tmargin-top: -15px;\n\t\topacity: 0;\n\t}\n\n\t50% {\n\t\topacity: 1;\n\t}\n\n\t100% {\n\t\tmargin-top: 0;\n\t\topacity: 0;\n\t}\n}\n@keyframes downloadArrow {\n\t/* 0% and 0.001% keyframes used as a hackish way of having the button frozen on a nice looking frame by default */\n\t0% {\n\t\tmargin-top: -7px;\n\t\topacity: 1;\n\t}\n\n\t0.001% {\n\t\tmargin-top: -15px;\n\t\topacity: 0;\n\t}\n\n\t50% {\n\t\topacity: 1;\n\t}\n\n\t100% {\n\t\tmargin-top: 0;\n\t\topacity: 0;\n\t}\n}\n/* End of styles for download button */\n\n/* Style for radar chart legend */\n.mini-legend-item {\n  display: inline-block;\n}\n.mini-legend-item > p.color_square {\n  width: 1.1em;\n  height: 1.1em;\n  margin: auto;\n  display: inline-block;\n  vertical-align: text-top;\n  border-radius: 10%;\n}\n.mini-legend-item > span {\n  padding: 0 5px;\n}\n.btn_delete_mini {\n  margin-left: 5px;\n}\n/* End of styles for radar chart legend */\n\n/* Styles for input with autocompletion (left menu) */\n.regio_name {\n  width: 100%;\n  position: relative;\n  display: inline-block;\n  padding-top: 4px;\n}\n\n.regio_name > p {\n  margin: auto;\n  display: inline-block;\n  padding: 6px;\n}\n\n.regio_name > input {\n  border: 2px solid #64889c;\n  -webkit-box-shadow: inset 0 0 6px  rgba(0,0,0,0.1), 0 0 12px rgba(0,0,0,0.1);\n          box-shadow: inset 0 0 6px  rgba(0,0,0,0.1), 0 0 12px rgba(0,0,0,0.1);\n  padding: 0.4em;\n  margin: 0 0 10px 0;\n  height: 45%;\n  font-weight: 800;\n  font-size: 0.8em;\n}\n\n#search {\n  position: absolute;\n  z-index: 11;\n  width: calc(90% - 7em);\n  background: rgba(255,255,255,0.4);\n  color: white;\n}\n\n#autocomplete {\n  position: absolute;\n  z-index: 10;\n  width: calc(90% - 7em);\n  background: rgb(79, 129, 189);\n  color: black;\n}\n\n#list_regio {\n  height: 15%;\n  -webkit-transition:all 400ms ease-in-out;\n  transition: all 400ms ease-in-out;\n}\n\n#list_regio.hidden {\n  height: 0;\n}\n/* End of styles for input with autocompletion (left menu) */\n\n\nh3 {\n  color: #4f81bd;\n}\n\n.title_variable {\n  margin-left: 1.5em;\n  font-size: 0.9em;\n  font-family: \"Signika\", sans-serif;\n  padding: 3px;\n  cursor: pointer;\n  display: inline-block;\n}\n\n.title_variable.inversed {\n  color: red;\n}\n\n\n.tingle-modal-box__content {\n  font-size: 0.8em;\n  font-family: 'Poppins', sans-serif;\n}\n", undefined);

__$styleInject(".tingle-modal *{-webkit-box-sizing:border-box;box-sizing:border-box}.tingle-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;display:-webkit-box;display:-ms-flexbox;display:flex;visibility:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;background:rgba(0, 0, 0, 0.4);opacity:0;cursor:pointer;-webkit-transition:-webkit-transform .1s ease;transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease, -webkit-transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.tingle-modal--noClose .tingle-modal__close,.tingle-modal__closeLabel{display:none}.tingle-modal--confirm .tingle-modal-box{text-align:center}.tingle-modal--noOverlayClose{cursor:default}.tingle-modal__close{position:fixed;top:10px;right:28px;z-index:1000;padding:0;width:5rem;height:5rem;border:none;background-color:transparent;color:#f0f0f0;font-size:6rem;font-family:monospace;line-height:1;cursor:pointer;-webkit-transition:color 150ms ease;transition:color 150ms ease}.tingle-modal__close:hover{color:#fff}.tingle-modal-box{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:auto;margin-bottom:auto;width:60%;border-radius:4px;background:#fff;opacity:1;cursor:auto;-webkit-transition:-webkit-transform 150ms cubic-bezier(.175,.885,.32,1.275);transition:-webkit-transform 150ms cubic-bezier(.175,.885,.32,1.275);transition:transform 150ms cubic-bezier(.175,.885,.32,1.275);transition:transform 150ms cubic-bezier(.175,.885,.32,1.275), -webkit-transform 150ms cubic-bezier(.175,.885,.32,1.275);transition:transform 150ms cubic-bezier(.175,.885,.32,1.275),-webkit-transform 150ms cubic-bezier(.175,.885,.32,1.275);-webkit-transform:scale(.8);transform:scale(.8)}.tingle-modal-box__content{padding:3rem}.tingle-modal-box__footer{padding:1.5rem 2rem;width:auto;border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#f5f5f5;cursor:auto}.tingle-modal-box__footer::after{display:table;clear:both;content:\"\"}.tingle-modal-box__footer--sticky{position:fixed;bottom:-200px;z-index:10001;opacity:1;-webkit-transition:bottom 150ms ease-in-out 150ms;transition:bottom 150ms ease-in-out 150ms}.tingle-enabled{overflow:hidden;height:100%}.tingle-modal--visible .tingle-modal-box__footer{bottom:0}.tingle-enabled .tingle-content-wrapper{-webkit-filter:blur(15px);filter:blur(15px)}.tingle-modal--visible{visibility:visible;opacity:1}.tingle-modal--visible .tingle-modal-box{-webkit-transform:scale(1);transform:scale(1)}.tingle-modal--overflow{overflow-y:scroll;padding-top:8vh}.tingle-btn{display:inline-block;margin:0 .5rem;padding:1rem 2rem;border:none;background-color:grey;-webkit-box-shadow:none;box-shadow:none;color:#fff;vertical-align:middle;text-decoration:none;font-size:inherit;font-family:inherit;line-height:normal;cursor:pointer;-webkit-transition:background-color .4s ease;transition:background-color .4s ease}.tingle-btn--primary{background-color:#3498db}.tingle-btn--danger{background-color:#e74c3c}.tingle-btn--default{background-color:#34495e}.tingle-btn--pull-left{float:left}.tingle-btn--pull-right{float:right}@media (max-width :540px){.tingle-modal{top:0;display:block;padding-top:60px;width:100%}.tingle-modal-box{width:auto;border-radius:0}.tingle-modal-box__content{overflow-y:scroll}.tingle-modal--noClose{top:0}.tingle-modal--noOverlayClose{padding-top:0}.tingle-modal-box__footer .tingle-btn{display:block;float:none;margin-bottom:1rem;width:100%}.tingle-modal__close{top:0;right:0;left:0;display:block;width:100%;height:60px;border:none;background-color:#2c3e50;-webkit-box-shadow:none;box-shadow:none;color:#fff;line-height:55px}.tingle-modal__closeLabel{display:inline-block;vertical-align:middle;font-size:1.5rem;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.tingle-modal__closeIcon{display:inline-block;margin-right:.5rem;vertical-align:middle;font-size:4rem}}\n", undefined);

__$styleInject(".tippy-touch{cursor:pointer!important}.tippy-notransition{-webkit-transition:none!important;transition:none!important}.tippy-popper{max-width:400px;-webkit-perspective:800px;perspective:800px;z-index:9999;outline:0;-webkit-transition-timing-function:cubic-bezier(.165,.84,.44,1);transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none}.tippy-popper.html-template{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] [x-arrow]{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 9px}.tippy-popper[x-placement^=top] [x-arrow].arrow-small{border-top:5px solid #333;border-right:5px solid transparent;border-left:5px solid transparent;bottom:-5px}.tippy-popper[x-placement^=top] [x-arrow].arrow-big{border-top:10px solid #333;border-right:10px solid transparent;border-left:10px solid transparent;bottom:-10px}.tippy-popper[x-placement^=top] [x-circle]{-webkit-transform-origin:0 33%;transform-origin:0 33%}.tippy-popper[x-placement^=top] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%);opacity:1}.tippy-popper[x-placement^=top] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow]{border-top:7px solid #fff;border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-top:5px solid #fff;border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-top:10px solid #fff;border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow]{border-top:7px solid rgba(0,0,0,.7);border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-top:5px solid rgba(0,0,0,.7);border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-top:10px solid rgba(0,0,0,.7);border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade].enter{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade].leave{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift].enter{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift].leave{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale].enter{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale].leave{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] [x-arrow]{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 9px}.tippy-popper[x-placement^=bottom] [x-arrow].arrow-small{border-bottom:5px solid #333;border-right:5px solid transparent;border-left:5px solid transparent;top:-5px}.tippy-popper[x-placement^=bottom] [x-arrow].arrow-big{border-bottom:10px solid #333;border-right:10px solid transparent;border-left:10px solid transparent;top:-10px}.tippy-popper[x-placement^=bottom] [x-circle]{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%);opacity:1}.tippy-popper[x-placement^=bottom] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-5%);transform:scale(.15) translate(-50%,-5%);opacity:0}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow]{border-bottom:7px solid #fff;border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-bottom:5px solid #fff;border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-bottom:10px solid #fff;border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow]{border-bottom:7px solid rgba(0,0,0,.7);border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-bottom:5px solid rgba(0,0,0,.7);border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-bottom:10px solid rgba(0,0,0,.7);border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade].enter{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade].leave{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift].enter{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift].leave{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale].enter{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale].leave{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] [x-arrow]{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:6px 0}.tippy-popper[x-placement^=left] [x-arrow].arrow-small{border-left:5px solid #333;border-top:5px solid transparent;border-bottom:5px solid transparent;right:-5px}.tippy-popper[x-placement^=left] [x-arrow].arrow-big{border-left:10px solid #333;border-top:10px solid transparent;border-bottom:10px solid transparent;right:-10px}.tippy-popper[x-placement^=left] [x-circle]{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);opacity:1}.tippy-popper[x-placement^=left] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow]{border-left:7px solid #fff;border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-left:5px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-left:10px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow]{border-left:7px solid rgba(0,0,0,.7);border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-left:5px solid rgba(0,0,0,.7);border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-left:10px solid rgba(0,0,0,.7);border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade].enter{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade].leave{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift].enter{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift].leave{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale].enter{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale].leave{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] [x-arrow]{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:6px 0}.tippy-popper[x-placement^=right] [x-arrow].arrow-small{border-right:5px solid #333;border-top:5px solid transparent;border-bottom:5px solid transparent;left:-5px}.tippy-popper[x-placement^=right] [x-arrow].arrow-big{border-right:10px solid #333;border-top:10px solid transparent;border-bottom:10px solid transparent;left:-10px}.tippy-popper[x-placement^=right] [x-circle]{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);opacity:1}.tippy-popper[x-placement^=right] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow]{border-right:7px solid #fff;border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-right:5px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-right:10px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow]{border-right:7px solid rgba(0,0,0,.7);border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-right:5px solid rgba(0,0,0,.7);border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-right:10px solid rgba(0,0,0,.7);border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade].enter{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade].leave{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift].enter{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift].leave{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale].enter{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale].leave{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper .tippy-tooltip.transparent-theme{background-color:rgba(0,0,0,.7)}.tippy-popper .tippy-tooltip.transparent-theme[data-animatefill]{background-color:transparent}.tippy-popper .tippy-tooltip.light-theme{color:#26323d;-webkit-box-shadow:0 4px 20px 4px rgba(0,20,60,.1),0 4px 80px -8px rgba(0,20,60,.2);box-shadow:0 4px 20px 4px rgba(0,20,60,.1),0 4px 80px -8px rgba(0,20,60,.2);background-color:#fff}.tippy-popper .tippy-tooltip.light-theme[data-animatefill]{background-color:transparent}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.95rem;padding:.4rem .8rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip--small{padding:.25rem .5rem;font-size:.8rem}.tippy-tooltip--big{padding:.6rem 1.2rem;font-size:1.2rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive]{pointer-events:auto}.tippy-tooltip[data-inertia]{-webkit-transition-timing-function:cubic-bezier(.53,1,.36,.85);transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip [x-arrow]{position:absolute;width:0;height:0}.tippy-tooltip [x-circle]{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:130%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;overflow:hidden;-webkit-transition:all ease;transition:all ease}.tippy-tooltip [x-circle]:before{content:\"\";padding-top:90%;float:left}@media (max-width:450px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}", undefined);

__$styleInject("/**\n * alertifyjs 1.11.0 http://alertifyjs.com\n * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.\n * Copyright 2017 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) \n * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/\n.alertify .ajs-dimmer{position:fixed;z-index:1981;top:0;right:0;bottom:0;left:0;padding:0;margin:0;background-color:#252525;opacity:.5}.alertify .ajs-modal{position:fixed;top:0;right:0;left:0;bottom:0;padding:0;overflow-y:auto;z-index:1981}.alertify .ajs-dialog{position:relative;margin:5% auto;min-height:110px;max-width:500px;padding:24px 24px 0 24px;outline:0;background-color:#fff}.alertify .ajs-dialog.ajs-capture:before{content:'';position:absolute;top:0;right:0;bottom:0;left:0;display:block;z-index:1}.alertify .ajs-reset{position:absolute!important;display:inline!important;width:0!important;height:0!important;opacity:0!important}.alertify .ajs-commands{position:absolute;right:4px;margin:-14px 24px 0 0;z-index:2}.alertify .ajs-commands button{display:none;width:10px;height:10px;margin-left:10px;padding:10px;border:0;background-color:transparent;background-repeat:no-repeat;background-position:center;cursor:pointer}.alertify .ajs-commands button.ajs-close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAh0lEQVQYlY2QsQ0EIQwEB9cBAR1CJUaI/gigDnwR6NBL/7/xWLNrZ2b8EwGotVpr7eOitWa1VjugiNB7R1UPrKrWe0dEAHBbXUqxMQbeewDmnHjvyTm7C3zDwAUd9c63YQdUVdu6EAJzzquz7HXvTiklt+H9DQFYaxFjvDqllFyMkbXWvfpXHjJrWFgdBq/hAAAAAElFTkSuQmCC)}.alertify .ajs-commands button.ajs-maximize{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAOUlEQVQYlWP8//8/AzGAhYGBgaG4uBiv6t7eXkYmooxjYGAgWiELsvHYFMCcRX2rSXcjoSBiJDbAAeD+EGu+8BZcAAAAAElFTkSuQmCC)}.alertify .ajs-header{margin:-24px;margin-bottom:0;padding:16px 24px;background-color:#fff}.alertify .ajs-body{min-height:56px}.alertify .ajs-body .ajs-content{padding:16px 24px 16px 16px}.alertify .ajs-footer{padding:4px;margin-left:-24px;margin-right:-24px;min-height:43px;background-color:#fff}.alertify .ajs-footer .ajs-buttons.ajs-primary{text-align:right}.alertify .ajs-footer .ajs-buttons.ajs-primary .ajs-button{margin:4px}.alertify .ajs-footer .ajs-buttons.ajs-auxiliary{float:left;clear:none;text-align:left}.alertify .ajs-footer .ajs-buttons.ajs-auxiliary .ajs-button{margin:4px}.alertify .ajs-footer .ajs-buttons .ajs-button{min-width:88px;min-height:35px}.alertify .ajs-handle{position:absolute;display:none;width:10px;height:10px;right:0;bottom:0;z-index:1;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMS8xNEDQYmMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAQ0lEQVQYlaXNMQoAIAxD0dT7H657l0KX3iJuUlBUNOsPPCGJm7VDp6ryeMxMuDsAQH7owW3pyn3RS26iKxERMLN3ugOaAkaL3sWVigAAAABJRU5ErkJggg==);-webkit-transform:scaleX(1);transform:scaleX(1);cursor:se-resize}.alertify.ajs-no-overflow .ajs-body .ajs-content{overflow:hidden!important}.alertify.ajs-no-padding.ajs-maximized .ajs-body .ajs-content{left:0;right:0;padding:0}.alertify.ajs-no-padding:not(.ajs-maximized) .ajs-body{margin-left:-24px;margin-right:-24px}.alertify.ajs-no-padding:not(.ajs-maximized) .ajs-body .ajs-content{padding:0}.alertify.ajs-no-padding.ajs-resizable .ajs-body .ajs-content{left:0;right:0}.alertify.ajs-maximizable .ajs-commands button.ajs-maximize,.alertify.ajs-maximizable .ajs-commands button.ajs-restore{display:inline-block}.alertify.ajs-closable .ajs-commands button.ajs-close{display:inline-block}.alertify.ajs-maximized .ajs-dialog{width:100%!important;height:100%!important;max-width:none!important;margin:0 auto!important;top:0!important;left:0!important}.alertify.ajs-maximized.ajs-modeless .ajs-modal{position:fixed!important;min-height:100%!important;max-height:none!important;margin:0!important}.alertify.ajs-maximized .ajs-commands button.ajs-maximize{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAASklEQVQYlZWQ0QkAMQhDtXRincOZX78KVtrDCwgqJNEoIB3MPLj7lRUROlpyVXGzby6zWuY+kz6tj5sBMTMAyVV3/595RbOh3cAXsww1raeiOcoAAAAASUVORK5CYII=)}.alertify.ajs-maximized .ajs-dialog,.alertify.ajs-resizable .ajs-dialog{padding:0}.alertify.ajs-maximized .ajs-commands,.alertify.ajs-resizable .ajs-commands{margin:14px 24px 0 0}.alertify.ajs-maximized .ajs-header,.alertify.ajs-resizable .ajs-header{position:absolute;top:0;left:0;right:0;margin:0;padding:16px 24px}.alertify.ajs-maximized .ajs-body,.alertify.ajs-resizable .ajs-body{min-height:224px;display:inline-block}.alertify.ajs-maximized .ajs-body .ajs-content,.alertify.ajs-resizable .ajs-body .ajs-content{position:absolute;top:50px;right:24px;bottom:50px;left:24px;overflow:auto}.alertify.ajs-maximized .ajs-footer,.alertify.ajs-resizable .ajs-footer{position:absolute;left:0;right:0;bottom:0;margin:0}.alertify.ajs-resizable:not(.ajs-maximized) .ajs-dialog{min-width:548px}.alertify.ajs-resizable:not(.ajs-maximized) .ajs-handle{display:block}.alertify.ajs-movable:not(.ajs-maximized) .ajs-header{cursor:move}.alertify.ajs-modeless .ajs-dimmer,.alertify.ajs-modeless .ajs-reset{display:none}.alertify.ajs-modeless .ajs-modal{overflow:visible;max-width:none;max-height:0}.alertify.ajs-modeless.ajs-pinnable .ajs-commands button.ajs-pin{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAQklEQVQYlcWPMQ4AIAwCqU9u38GbcbHRWN1MvKQDhQFMEpKImGJA0gCgnYw0V0rwxseg5erT4oSkQVI5d9f+e9+xA0NbLpWfitPXAAAAAElFTkSuQmCC)}.alertify.ajs-modeless.ajs-unpinned .ajs-modal{position:absolute}.alertify.ajs-modeless.ajs-unpinned .ajs-commands button.ajs-pin{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAO0lEQVQYlWP8//8/AzGAiShV6AqLi4txGs+CLoBLMYbC3t5eRmyaWfBZhwwYkX2NTxPRvibKjRhW4wMAhxkYGbLu3pEAAAAASUVORK5CYII=)}.alertify.ajs-modeless:not(.ajs-unpinned) .ajs-body{max-height:500px;overflow:auto}.alertify.ajs-basic .ajs-header{opacity:0}.alertify.ajs-basic .ajs-footer{visibility:hidden}.alertify.ajs-frameless .ajs-header{position:absolute;top:0;left:0;right:0;min-height:60px;margin:0;padding:0;opacity:0;z-index:1}.alertify.ajs-frameless .ajs-footer{display:none}.alertify.ajs-frameless .ajs-body .ajs-content{position:absolute;top:0;right:0;bottom:0;left:0}.alertify.ajs-frameless:not(.ajs-resizable) .ajs-dialog{padding-top:0}.alertify.ajs-frameless:not(.ajs-resizable) .ajs-dialog .ajs-commands{margin-top:0}.ajs-no-overflow{overflow:hidden!important;outline:0}.ajs-no-overflow.ajs-fixed{position:fixed;top:0;right:0;bottom:0;left:0;overflow-y:scroll!important}.ajs-no-selection,.ajs-no-selection *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media screen and (max-width:568px){.alertify .ajs-dialog{min-width:150px}.alertify:not(.ajs-maximized) .ajs-modal{padding:0 5%}.alertify:not(.ajs-maximized).ajs-resizable .ajs-dialog{min-width:initial;min-width:auto}}@-moz-document url-prefix(){.alertify button:focus{outline:1px dotted #3593d2}}.alertify .ajs-dimmer,.alertify .ajs-modal{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transition-property:opacity,visibility;transition-property:opacity,visibility;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:250ms;transition-duration:250ms}.alertify.ajs-hidden .ajs-dimmer,.alertify.ajs-hidden .ajs-modal{visibility:hidden;opacity:0}.alertify.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-duration:.5s;animation-duration:.5s}.alertify.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-duration:250ms;animation-duration:250ms}.alertify .ajs-dialog.ajs-shake{-webkit-animation-name:ajs-shake;animation-name:ajs-shake;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes ajs-shake{0%,100%{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes ajs-shake{0%,100%{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.alertify.ajs-slide.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-slideIn;animation-name:ajs-slideIn;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1.275);animation-timing-function:cubic-bezier(.175,.885,.32,1.275)}.alertify.ajs-slide.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-slideOut;animation-name:ajs-slideOut;-webkit-animation-timing-function:cubic-bezier(.6,-.28,.735,.045);animation-timing-function:cubic-bezier(.6,-.28,.735,.045)}.alertify.ajs-zoom.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-zoomIn;animation-name:ajs-zoomIn}.alertify.ajs-zoom.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-zoomOut;animation-name:ajs-zoomOut}.alertify.ajs-fade.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-fadeIn;animation-name:ajs-fadeIn}.alertify.ajs-fade.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-fadeOut;animation-name:ajs-fadeOut}.alertify.ajs-pulse.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-pulseIn;animation-name:ajs-pulseIn}.alertify.ajs-pulse.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-pulseOut;animation-name:ajs-pulseOut}.alertify.ajs-flipx.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-flipInX;animation-name:ajs-flipInX}.alertify.ajs-flipx.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-flipOutX;animation-name:ajs-flipOutX}.alertify.ajs-flipy.ajs-in:not(.ajs-hidden) .ajs-dialog{-webkit-animation-name:ajs-flipInY;animation-name:ajs-flipInY}.alertify.ajs-flipy.ajs-out.ajs-hidden .ajs-dialog{-webkit-animation-name:ajs-flipOutY;animation-name:ajs-flipOutY}@-webkit-keyframes ajs-pulseIn{0%,100%,20%,40%,60%,80%{-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}100%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}@keyframes ajs-pulseIn{0%,100%,20%,40%,60%,80%{-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}100%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}@-webkit-keyframes ajs-pulseOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}100%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes ajs-pulseOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}100%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@-webkit-keyframes ajs-zoomIn{0%{opacity:0;-webkit-transform:scale3d(.25,.25,.25);transform:scale3d(.25,.25,.25)}100%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}@keyframes ajs-zoomIn{0%{opacity:0;-webkit-transform:scale3d(.25,.25,.25);transform:scale3d(.25,.25,.25)}100%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}}@-webkit-keyframes ajs-zoomOut{0%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}100%{opacity:0;-webkit-transform:scale3d(.25,.25,.25);transform:scale3d(.25,.25,.25)}}@keyframes ajs-zoomOut{0%{opacity:1;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}100%{opacity:0;-webkit-transform:scale3d(.25,.25,.25);transform:scale3d(.25,.25,.25)}}@-webkit-keyframes ajs-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes ajs-fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes ajs-fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes ajs-fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes ajs-flipInX{0%{-webkit-transform:perspective(400px) rotate3d(1,0,0,90deg);transform:perspective(400px) rotate3d(1,0,0,90deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-20deg);transform:perspective(400px) rotate3d(1,0,0,-20deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotate3d(1,0,0,10deg);transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-5deg);transform:perspective(400px) rotate3d(1,0,0,-5deg)}100%{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes ajs-flipInX{0%{-webkit-transform:perspective(400px) rotate3d(1,0,0,90deg);transform:perspective(400px) rotate3d(1,0,0,90deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-20deg);transform:perspective(400px) rotate3d(1,0,0,-20deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotate3d(1,0,0,10deg);transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-5deg);transform:perspective(400px) rotate3d(1,0,0,-5deg)}100%{-webkit-transform:perspective(400px);transform:perspective(400px)}}@-webkit-keyframes ajs-flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-20deg);transform:perspective(400px) rotate3d(1,0,0,-20deg);opacity:1}100%{-webkit-transform:perspective(400px) rotate3d(1,0,0,90deg);transform:perspective(400px) rotate3d(1,0,0,90deg);opacity:0}}@keyframes ajs-flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotate3d(1,0,0,-20deg);transform:perspective(400px) rotate3d(1,0,0,-20deg);opacity:1}100%{-webkit-transform:perspective(400px) rotate3d(1,0,0,90deg);transform:perspective(400px) rotate3d(1,0,0,90deg);opacity:0}}@-webkit-keyframes ajs-flipInY{0%{-webkit-transform:perspective(400px) rotate3d(0,1,0,90deg);transform:perspective(400px) rotate3d(0,1,0,90deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-20deg);transform:perspective(400px) rotate3d(0,1,0,-20deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotate3d(0,1,0,10deg);transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-5deg);transform:perspective(400px) rotate3d(0,1,0,-5deg)}100%{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes ajs-flipInY{0%{-webkit-transform:perspective(400px) rotate3d(0,1,0,90deg);transform:perspective(400px) rotate3d(0,1,0,90deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-20deg);transform:perspective(400px) rotate3d(0,1,0,-20deg);-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotate3d(0,1,0,10deg);transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-5deg);transform:perspective(400px) rotate3d(0,1,0,-5deg)}100%{-webkit-transform:perspective(400px);transform:perspective(400px)}}@-webkit-keyframes ajs-flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-15deg);transform:perspective(400px) rotate3d(0,1,0,-15deg);opacity:1}100%{-webkit-transform:perspective(400px) rotate3d(0,1,0,90deg);transform:perspective(400px) rotate3d(0,1,0,90deg);opacity:0}}@keyframes ajs-flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotate3d(0,1,0,-15deg);transform:perspective(400px) rotate3d(0,1,0,-15deg);opacity:1}100%{-webkit-transform:perspective(400px) rotate3d(0,1,0,90deg);transform:perspective(400px) rotate3d(0,1,0,90deg);opacity:0}}@-webkit-keyframes ajs-slideIn{0%{margin-top:-100%}100%{margin-top:5%}}@keyframes ajs-slideIn{0%{margin-top:-100%}100%{margin-top:5%}}@-webkit-keyframes ajs-slideOut{0%{margin-top:5%}100%{margin-top:-100%}}@keyframes ajs-slideOut{0%{margin-top:5%}100%{margin-top:-100%}}.alertify-notifier{position:fixed;width:0;overflow:visible;z-index:1982;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.alertify-notifier .ajs-message{position:relative;width:260px;max-height:0;padding:0;opacity:0;margin:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transition-duration:250ms;transition-duration:250ms;-webkit-transition-timing-function:linear;transition-timing-function:linear}.alertify-notifier .ajs-message.ajs-visible{-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-timing-function:cubic-bezier(.175,.885,.32,1.275);transition-timing-function:cubic-bezier(.175,.885,.32,1.275);opacity:1;max-height:100%;padding:15px;margin-top:10px}.alertify-notifier .ajs-message.ajs-success{background:rgba(91,189,114,.95)}.alertify-notifier .ajs-message.ajs-error{background:rgba(217,92,92,.95)}.alertify-notifier .ajs-message.ajs-warning{background:rgba(252,248,215,.95)}.alertify-notifier .ajs-message .ajs-close{position:absolute;top:0;right:0;width:16px;height:16px;cursor:pointer;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAABGdBTUEAALGPC/xhBQAAAFBJREFUGBl1j0EKADEIA+ve/P9f9bh1hEihNBfjVCO1v7RKVqJK4h8gM5cAPR42AkQEpSXPwMTyoi13n5N9YqJehm3Fnr7nL1D0ZEbD5OubGyC7a9gx+9eNAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center center;background-color:rgba(0,0,0,.5);border-top-right-radius:2px}.alertify-notifier.ajs-top{top:10px}.alertify-notifier.ajs-bottom{bottom:10px}.alertify-notifier.ajs-right{right:10px}.alertify-notifier.ajs-right .ajs-message{right:-320px}.alertify-notifier.ajs-right .ajs-message.ajs-visible{right:290px}.alertify-notifier.ajs-left{left:10px}.alertify-notifier.ajs-left .ajs-message{left:-300px}.alertify-notifier.ajs-left .ajs-message.ajs-visible{left:0}.alertify-notifier.ajs-center{left:50%}.alertify-notifier.ajs-center .ajs-message{-webkit-transform:translateX(-50%);transform:translateX(-50%)}.alertify-notifier.ajs-center .ajs-message.ajs-visible{left:50%;-webkit-transition-timing-function:cubic-bezier(.57,.43,.1,.65);transition-timing-function:cubic-bezier(.57,.43,.1,.65)}.alertify-notifier.ajs-center.ajs-top .ajs-message{top:-300px}.alertify-notifier.ajs-center.ajs-top .ajs-message.ajs-visible{top:0}.alertify-notifier.ajs-center.ajs-bottom .ajs-message{bottom:-300px}.alertify-notifier.ajs-center.ajs-bottom .ajs-message.ajs-visible{bottom:0}", undefined);

__$styleInject("/**\n * alertifyjs 1.11.0 http://alertifyjs.com\n * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.\n * Copyright 2017 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) \n * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/\n.alertify .ajs-dimmer{background-color:rgba(0,0,0,.85);opacity:1}.alertify .ajs-dialog{max-width:50%;min-height:137px;background-color:#f4f4f4;border:1px solid #ddd;-webkit-box-shadow:none;box-shadow:none;border-radius:5px}.alertify .ajs-header{padding:1.5rem 2rem;border-bottom:none;border-radius:5px 5px 0 0;color:#555;background-color:#fff;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-size:1.6em;font-weight:700}.alertify .ajs-body{font-family:Roboto,sans-serif;color:#555}.alertify .ajs-body .ajs-content .ajs-input{width:100%;margin:0;padding:.65em 1em;font-size:1em;background-color:#fff;border:1px solid rgba(0,0,0,.15);outline:0;color:rgba(0,0,0,.7);border-radius:.3125em;-webkit-transition:background-color .3s ease-out,border-color .2s ease,-webkit-box-shadow .2s ease;transition:background-color .3s ease-out,border-color .2s ease,-webkit-box-shadow .2s ease;transition:background-color .3s ease-out,box-shadow .2s ease,border-color .2s ease;transition:background-color .3s ease-out,box-shadow .2s ease,border-color .2s ease,-webkit-box-shadow .2s ease;-webkit-box-sizing:border-box;box-sizing:border-box}.alertify .ajs-body .ajs-content .ajs-input:active{border-color:rgba(0,0,0,.3);background-color:#fafafa}.alertify .ajs-body .ajs-content .ajs-input:focus{border-color:rgba(0,0,0,.2);color:rgba(0,0,0,.85)}.alertify.ajs-maximized:not(.ajs-resizable) .ajs-content,.alertify.ajs-resizable .ajs-content{top:64px;bottom:74px}.alertify .ajs-footer{background-color:#fff;padding:1rem 2rem;border-top:none;border-radius:0 0 5px 5px}.alertify-notifier .ajs-message{background:rgba(255,255,255,.95);color:#000;text-align:center;border:solid 1px #ddd;border-radius:2px}.alertify-notifier .ajs-message.ajs-success{color:#fff;background:rgba(91,189,114,.95);text-shadow:-1px -1px 0 rgba(0,0,0,.5)}.alertify-notifier .ajs-message.ajs-error{color:#fff;background:rgba(217,92,92,.95);text-shadow:-1px -1px 0 rgba(0,0,0,.5)}.alertify-notifier .ajs-message.ajs-warning{background:rgba(252,248,215,.95);border-color:#999}", undefined);

/*
*  Color options (applied on the map and on the chart):
*/
var color_countries = 'rgb(147, 144, 252)'; // Color for features within the study zone but not highlighted
var color_disabled = '#bebecd'; // Color for features outside the study zone / without data
var color_sup = 'green'; // Color for selected feature with "better" values than the reference feature
var color_inf = 'red'; // Color for selected feature with "worse" values than the reference feature
var color_highlight = 'yellow'; // Color for the reference feature ("Ma rÃ©gion")
var color_default_dissim = 'darkred'; // Neutral color for selected features when green/red can't be used

/*
* Options regarding the formatting of numbers as string
*
*/
var formatnb_decimal_sep = ',';
var formatnb_thousands_sep = ' ';

/*
*  Misc. options:
*/
// The maximum number of variables that can be selected simultaneously:
var MAX_VARIABLES = 7;
// xxx:


//
var fixed_dimension = {
  map: { width: 470, height: 534 },
  chart: { width: 600, height: 569 },
  legend: { width: 470, height: 90 }
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

(function () {
  /*
  Polyfill for 'Element.remove'
  from https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove
  */
  (function (arr) {
    arr.forEach(function (item) {
      if (item.hasOwnProperty('remove')) {
        return;
      }
      Object.defineProperty(item, 'remove', {
        configurable: true,
        enumerable: true,
        writable: true,
        value: function remove() {
          if (this.parentNode !== null) {
            this.parentNode.removeChild(this);
          }
        }
      });
    });
  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);
  /*
  Polyfill for 'Array.find'
  from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find
  */
  if (!Array.prototype.find) {
    Object.defineProperty(Array.prototype, 'find', {
      value: function value(predicate) {
        // 1. Let O be ? ToObject(this value).
        if (this == null) {
          throw new TypeError('"this" is null or not defined');
        }
        var k = void 0;
        var kValue = void 0;
        var o = Object(this);

        // 2. Let len be ? ToLength(? Get(O, "length")).
        var len = o.length >>> 0;

        // 3. If IsCallable(predicate) is false, throw a TypeError exception.
        if (typeof predicate !== 'function') {
          throw new TypeError('predicate must be a function');
        }

        // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.
        var thisArg = arguments[1];

        // 5. Let k be 0.
        k = 0;

        // 6. Repeat, while k < len
        while (k < len) {
          // a. Let Pk be ! ToString(k).
          // b. Let kValue be ? Get(O, Pk).
          // c. Let testResult be ToBoolean(? Call(predicate, T, Â« kValue, k, O Â»)).
          // d. If testResult is true, return kValue.
          kValue = o[k];
          if (predicate.call(thisArg, kValue, k, o)) {
            return kValue;
          }
          // e. Increase k by 1.
          k += 1;
        }
        // 7. Return undefined.
        return undefined;
      }
    });
  }
  /*
  Polyfill for 'Object.assign'
  from https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Object/assign
  */
  if (typeof Object.assign !== 'function') {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, 'assign', {
      value: function assign(target, varArgs) {
        // .length of function is 2
        if (target == null) {
          // TypeError if undefined or null
          throw new TypeError('Cannot convert undefined or null to object');
        }
        var to = Object(target);
        for (var index = 1; index < arguments.length; index++) {
          var nextSource = arguments[index];
          if (nextSource != null) {
            // Skip over if undefined or null
            for (var nextKey in nextSource) {
              // Avoid bugs when hasOwnProperty is shadowed
              if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                to[nextKey] = nextSource[nextKey];
              }
            }
          }
        }
        return to;
      },
      writable: true,
      configurable: true
    });
  }
  /* Polyfill for 'Array.fill'
  from https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array/fill
  */
  if (!Array.prototype.fill) {
    Object.defineProperty(Array.prototype, 'fill', {
      value: function value(_value) {
        // Steps 1-2.
        if (this == null) {
          throw new TypeError('this is null or not defined');
        }
        var O = Object(this);
        // Steps 3-5.
        var len = O.length >>> 0;
        // Steps 6-7.
        var start = arguments[1];
        var relativeStart = start >> 0;
        // Step 8.
        var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
        // Steps 9-10.
        var end = arguments[2];
        var relativeEnd = end === undefined ? len : end >> 0;
        // Step 11.
        var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
        // Step 12.
        while (k < final) {
          O[k] = _value;
          k += 1;
        }
        // Step 13.
        return O;
      }
    });
  }
})();
/* eslint-enable wrap-iife, object-shorthand, no-bitwise,
no-extend-native, prefer-rest-params, no-prototype-builtins,
no-restricted-syntax */

// eslint-disable-next-line no-restricted-properties
var math_pow = Math.pow;
var math_abs = Math.abs;
var math_round = Math.round;
var math_max = Math.max;
var math_min = Math.min;
var math_sin = Math.sin;
var math_cos = Math.cos;
var math_sqrt = Math.sqrt;
var HALF_PI = Math.PI / 2;

/**
* Function to dispatch, according to their availability,
* between the appropriate 'elementsFromPoint' function
* (as Edge seems to use a different name than the others),
* or use a custom polyfill if the functionnality is unavailable.
*
* @param {Number} x - X screen coordinate.
* @param {Number} y - Y screen coordinate.
* @return {Array of Nodes} - An Array created from the resulting NodeList.
*
*/
var getElementsFromPoint = function getElementsFromPoint(x, y) {
  var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document.body;

  if (document.elementsFromPoint) {
    return Array.prototype.slice.call(document.elementsFromPoint(x, y));
  } else if (document.msElementsFromPoint) {
    return Array.prototype.slice.call(document.msElementsFromPoint(x, y));
  }
  var elements = [];
  var children = context.children;
  var i = void 0;
  var l = void 0;
  var pos = void 0;

  for (i = 0, l = children.length; i < l; i++) {
    pos = children[i].getBoundingClientRect();
    if (pos.left <= x && x <= pos.right && pos.top <= y && y <= pos.bottom) {
      elements.push(children[i]);
    }
  }
  return elements;
};

/**
* Function to prepare a tooltip zone to be used/bound later.
*
* @param {Object} parent - The d3 node selection for the parent.
* @param {String} before - The selector describing the before element.
* @param {String} classname - The className value to be used for
*                             this tooltip (default 'tooltip').
* @return {Object} - The d3 node element for this tooltip zone.
*
*/
function prepareTooltip2(parent, before) {
  var classname = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'tooltip';

  var t = parent.select('.tooltip');
  if (t.node()) {
    return t;
  }
  var tooltip = parent.insert('div', before).attr('class', classname).style('display', 'none');

  tooltip.append('p').attr('class', 'title');
  tooltip.append('p').attr('class', 'content');

  return tooltip;
}

/**
* Function to get the computed style value of an element.
*
*
*
*
*/
var Tooltipsify = function Tooltipsify(selector) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  var opts = {
    parent: options.parent || document.body,
    className: options.className || 'tooltip-black',
    dataAttr: options.dataAttr || 'title-tooltip',
    timeout: options.timeout || 5
  };
  var elems = d3.selectAll(selector);
  if (elems._groups[0].length === 0) return;

  var tooltip_parent = d3.select(opts.parent).select('.' + opts.className);
  var tooltip = void 0;
  var t = void 0;

  if (!tooltip_parent.node()) {
    tooltip_parent = d3.select(opts.parent).insert('div').attr('class', opts.className).style('display', 'none');
    tooltip = tooltip_parent.append('p').attr('class', 'content');
  } else {
    tooltip = tooltip_parent.select('.content');
  }

  elems.on('mouseover', function () {
    clearTimeout(t);
    tooltip_parent.style('display', null);
  }).on('mouseout', function () {
    clearTimeout(t);
    t = setTimeout(function () {
      tooltip_parent.style('display', 'none');
    }, opts.timeout);
  }).on('mousemove mousedown', function () {
    clearTimeout(t);
    tooltip.html(this.getAttribute(opts.dataAttr));
    var b = tooltip.node().getBoundingClientRect();
    tooltip_parent.styles({
      display: null,
      left: d3.event.pageX - 5 + 'px',
      top: d3.event.pageY - b.height - 15 + 'px'
    });
  });
};

function unbindUI() {
  // Removes the current behavior corresponding to clicking on the left menu:
  d3.selectAll('span.filter_v').on('click', null);
  d3.selectAll('span.target_region').on('click', null);
  d3.selectAll('span.label_chk').on('click', null);

  // Remove the table:
  d3.select('.dataTable-wrapper').remove();

  // Unbind buttons on the top of the map:
  d3.select('#header_map').selectAll('img').on('click', null);

  // Remove the selection menu (or buttons) under the chart:
  d3.select('#bar_section > #menu_selection').remove();

  // Removes the current behavior corresponding to clicking on the top menu:
  d3.selectAll('.type_chart.title_menu').on('click', null);

  // Removes the current behavior corresponding to pressing the Control key:
  document.onkeyup = null;
  document.onkeydown = null;
}

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} test_value - The value to be compared to the value of "my region".
* @param {Number} ref_value - The value of my region.
* @param {Boolean} serie_inversed - Whether the serie is inversed or not in the current chart.
* @return {String} - A string containing the color to be used for this value.
*
*/
var comp = function comp(test_value, ref_value, serie_inversed) {
  if (test_value < ref_value) {
    return serie_inversed ? color_sup : color_inf;
  }
  return serie_inversed ? color_inf : color_sup;
};

/**
* Function to compare the value of a feature to the reference value (i.e. the value of "my region")
* and return the appropriate color (serie may be inversed)
*
* @param {Number} val1 - The value to be compared to the value of "my region" for the 1st variable.
* @param {Number} val2 - The value to be compared to the value of "my region" for the 2nd variable.
* @param {Number} ref_val1 - The value of my region for he first variable.
* @param {Number} ref_val2 - The value of my region for the second variable.
* @param {Boolean} xInversed - Whether the serie is inversed on the x axis in the current chart.
* @param {Boolean} yInversed - Whether the serie is inversed on the y axis in the current chart.
* @return {String} - A string containing the color to be used for theses values.
*
*/
var comp2 = function comp2(val1, val2, ref_val1, ref_val2, xInversed, yInversed) {
  if (val1 < ref_val1 && !xInversed || val1 > ref_val1 && xInversed) {
    // val1 is inferior:
    if (val2 < ref_val2) {
      return yInversed ? 'rgb(160, 30, 160)' : color_inf;
    }
    return yInversed ? color_inf : 'rgb(160, 30, 160)';
  }
  // val1 is superior :
  if (val2 > ref_val2) {
    return !yInversed ? color_sup : 'orange';
  }
  return !yInversed ? 'orange' : color_sup;
};

var Rect = function () {
  function Rect(topleft, bottomright) {
    classCallCheck(this, Rect);

    this.xmin = topleft[0];
    this.xmax = bottomright[0];
    this.ymin = topleft[1];
    this.ymax = bottomright[1];
  }

  createClass(Rect, [{
    key: 'contains',
    value: function contains(pt) {
      if (pt[0] >= this.xmin && pt[0] <= this.xmax && pt[1] >= this.ymin && pt[1] <= this.ymax) {
        return true;
      }
      return false;
    }
  }]);
  return Rect;
}();

var PropSizer = function PropSizer(fixed_value, fixed_size) {
  var _this = this;

  this.fixed_value = fixed_value;
  var sqrt = Math.sqrt,
      abs = Math.abs,
      PI = Math.PI;

  this.smax = fixed_size * fixed_size * PI;
  this.scale = function (val) {
    return sqrt(abs(val) * _this.smax / _this.fixed_value) / PI;
  };
  // this.get_value = size => ((size * PI) ** 2) / this.smax * this.fixed_value;
  // Use Math pow to support browser without ** operator:
  // eslint-disable-next-line no-restricted-properties
  this.get_value = function (size) {
    return Math.pow(size * PI, 2) / _this.smax * _this.fixed_value;
  };
};

/**
* Function removing duplicate members of an array.
*
* @param {Array} arr - The array on which to operate.
* @return {Array} - The input array, without duplicates.
*
*/
var removeDuplicates = function removeDuplicates(arr) {
  var tmp = [];
  for (var i = 0, len_arr = arr.length; i < len_arr; i++) {
    if (tmp.indexOf(arr[i]) === -1) {
      tmp.push(arr[i]);
    }
  }
  return tmp;
};

var getSvgPathType = function getSvgPathType(path) {
  if (path.indexOf('M ') > -1 && path.indexOf(' L ') > -1) {
    return 2;
  }
  return 1;
};

var svgPathToCoords = function svgPathToCoords(path, type_path) {
  if (type_path === 1) {
    return path.slice(1).split('L').map(function (pt) {
      return pt.split(',').map(function (a) {
        return +a;
      });
    });
  }
  return path.slice(2).split(' L ').map(function (pt) {
    return pt.split(' ').map(function (a) {
      return +a;
    });
  });
};

function computePercentileRank(obj, field_name, result_field_name) {
  var values = obj.map(function (d) {
    return d[field_name];
  });
  var len_values = values.length;
  var getPR = function getPR(v) {
    var count = 0;
    for (var i = 0; i < len_values; i++) {
      if (values[i] <= v) {
        count += 1;
      }
    }
    // return 100 * count / len_values;
    return 100 * (count - 1) / (len_values - 1);
  };
  for (var ix = 0; ix < len_values; ix++) {
    // eslint-disable-next-line no-param-reassign
    obj[ix][result_field_name] = getPR(values[ix]);
  }
}

var getMean = function getMean(serie) {
  var nb_values = serie.length;
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    sum += serie[i];
  }
  return sum / nb_values;
};

var getStdDev = function getStdDev(serie, mean_value) {
  var nb_values = serie.length;
  if (!mean_value) {
    mean_value = getMean(serie); // eslint-disable-line no-param-reassign
  }
  var sum = 0;
  for (var i = 0; i < nb_values; i++) {
    // eslint-disable-next-line no-restricted-properties
    sum += math_pow(serie[i] - mean_value, 2);
  }
  return math_sqrt(1 / nb_values * sum);
};

function euclidian_distance(feature1, feature2) {
  var _feature1$geometry$co = slicedToArray(feature1.geometry.coordinates, 2),
      x1 = _feature1$geometry$co[0],
      y1 = _feature1$geometry$co[1];

  var _feature2$geometry$co = slicedToArray(feature2.geometry.coordinates, 2),
      x2 = _feature2$geometry$co[0],
      y2 = _feature2$geometry$co[1];

  var a = x1 - x2;
  var b = y1 - y2;
  return math_sqrt(a * a + b * b);
}

/**
* Function to select the first variable on the left menu
* (triggered after changing region, if no more variable was selected)
*
* @return {String} - The code of an available variable to use.
*
*/
function selectFirstAvailableVar() {
  var menu = document.querySelector('#menu');
  var v = menu.querySelectorAll('.target_variable');
  for (var i = 0; i < v.length; i++) {
    if (!v[i].classList.contains('disabled')) {
      v[i].classList.add('checked');
      return v[i].getAttribute('value');
    }
  }
  return null;
}

/**
* Function to extract the 'id' field (named according
* to 'id_field' value) on the target layer properties
* and assign its value directly on the field name 'id'.
*
* @param {Object} layer - A geojson collection of features
* @param {String} id_field - The name of the field containing
*                           the id values.
* @return {Void}
*/
function prepareGeomLayerId(layer, id_field) {
  layer.features.forEach(function (ft) {
    // eslint-disable-next-line no-param-reassign
    ft.id = ft.properties[id_field];
  });
}

/**
* Function to get a random value from an array (or from a subset of an array).
*
* @param {Array} arr - The array on which to operate.
* @param {Number} false_length - The length of the subset on which to operate
*                         (Optional - default to the real length of the array)
* @return {Same type as the members of the input array}
*
*/
function getRandom(arr, false_length) {
  return arr[Math.round(Math.random() * (false_length || arr.length))];
}

var getRatioToWide = function getRatioToWide() {
  if (window.matchMedia('(min-width: 1561px)').matches) {
    return 1550 / 1350;
  } else if (window.matchMedia('(min-width: 1361px) and (max-width: 1560px)').matches) {
    return 1350 / 1350;
  } else if (window.matchMedia('(min-width: 1161px) and (max-width: 1360px)').matches) {
    return 1150 / 1350;
  } else if (window.matchMedia('(min-width: 960px) and (max-width: 1160px)').matches) {
    return 960 / 1350;
  } else if (window.matchMedia('(max-width: 959px)').matches) {
    return 540 / 1350;
  }
  return 1350 / 1350;
};

function addThousandsSeparator(value) {
  var reg = /(\d+)(\d{3})/;
  var val = '' + value;
  while (reg.test(val)) {
    val = val.replace(reg, '$1' + formatnb_thousands_sep + '$2');
  }
  return val;
}

/**
* Function to format a number using custom
* decimal separator and thousands separator (defined in the 'options' file).
*
* @param {Number} value - The value to be formatted, as a number.
* @param {Number} precision - The number of digits to the right of the decimal
*         to keep (value will be rounded to that precision before formatting).
*
* @return {String} - The formatted number as a String, using the
*         decimal separator and thousands separator defined in the 'options' file.
*/
function formatNumber(value, precision) {
  var val = '' + value;
  if (!val.match(/^-?[0-9]*.?[0-9]*$/)) return false;
  if (precision) {
    var mult = +[1].concat(Array(precision).fill(0)).join('');
    val = '' + math_round(+val * mult) / mult;
  }
  var values_list = val.split('.');
  values_list[0] = addThousandsSeparator(values_list[0]);
  return values_list.join(formatnb_decimal_sep);
}

/**
*
*
*
*
*/
function noContextMenu() {
  d3.event.preventDefault();
}

/**
*
*
*
*
*/
function clickDlPdf(event) {
  var path = this.href;
  // console.log(event);
  this.href = '#';
  window.open(path);
  event.preventDefault();
  // eslint-disable-next-line no-param-reassign
  event.returnValue = false;
  this.href = path;
  return false;
}

function exportHtmlRapport(sections, name_my_region) {
  var section_selection = sections.section_selection,
      section_help = sections.section_help,
      section_source = sections.section_source;

  var targetSvgMap = document.getElementById('svg_map');
  var targetSvgChart = document.getElementById('svg_bar');
  var serializer = new XMLSerializer();
  var svg_sources = [serializer.serializeToString(targetSvgMap), serializer.serializeToString(targetSvgChart)];
  svg_sources.forEach(function (source) {
    if (!source.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)) {
      // eslint-disable-next-line no-param-reassign
      source = source.replace(/^<svg/, '<svg xmlns="http://www.w3.org/2000/svg"');
    }
    if (!source.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)) {
      // eslint-disable-next-line no-param-reassign
      source = source.replace(/^<svg/, '<svg xmlns:xlink="http://www.w3.org/1999/xlink"');
    }
    // // eslint-disable-next-line no-param-reassign
    // source = ['<?xml version="1.0" standalone="no"?>\r\n', source].join('');
  });
  var new_html_doc = '\n<!DOCTYPE html>\n<meta charset="utf-8">\n<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />\n<style>\n@media only screen and (max-width: 959px) {\n  body {\n    font-size: 11px;\n  }\n}\n@media only screen and (min-width: 960px) and (max-width: 1460px) {\n  body {\n    font-size: 12px;\n  }\n}\n@media only screen and (min-width: 1461px) {\n  body {\n    font-size: 14px;\n  }\n}\nh1 { color: white; background: #4f81bd; }\nh3 { color: #4f81bd; }\ndiv { margin: auto; }\ndiv.f1 { width: 75%; }\ndiv.f2 { display: flex; width: 98%; }\ndiv.footer {\n  text-align: center;\n  width: 80%;\n  font-size: 0.8em;\n}\n</style>\n<title>Regioviz</title>\n<body>\n  <div class="f1">\n    <h1>Regioviz - Rapport ' + name_my_region + '</h1>\n    <h3>Rappel de la s\xE9lection</h3>\n    <div>\n    ' + section_selection + '\n    </div>\n    <h3>Repr\xE9sentations graphiques</h3>\n    <div class="f2">\n      <div style="width: 40%; margin: auto;">' + svg_sources[0] + '</div>\n      <div style="width: 40%; margin: auto;">' + svg_sources[1] + '</div>\n    </div>\n    <h3>Aide de lecture</h3>\n    <div style="text-align: justify;">' + section_help + '</div>\n    <h3>Sources</h3>\n    <div>' + section_source + '</div>\n    <div class="footer">\n      <p>\n        <i>Ce rapport a \xE9t\xE9 g\xE9n\xE9r\xE9 par l\'application Regioviz, conceptualis\xE9e et developp\xE9e par l\'UMS RIATE en 2018 dans le cadre d\'un projet CGET associant les Secr\xE9taires G\xE9n\xE9raux pour les Affaires R\xE9gionales (SGAR).</i>\n      </p>\n    </div>\n  </div>\n</body>';
  return new_html_doc;
}

var createMenu = function createMenu(names, variables, study_zones$$1, territorial_mesh$$1) {
  // First section, regions names:
  // const title_section1 = document.createElement('p');
  // title_section1.className = 'title_menu';
  // title_section1.innerHTML = 'Ma rÃ©gion';
  var title_section1 = document.createElement('div');
  title_section1.style.backgroundColor = '#4f81bd';
  title_section1.style.color = 'white';
  title_section1.style.overflow = 'hidden';
  title_section1.innerHTML = '\n<div class="regio_name">\n<p>Ma r\xE9gion : </p>\n<input type = "text" id = "search"/>\n<input id="autocomplete" type="text" disabled="disabled" />\n<span class=\'down_arrow\'> &#x25BE;</span>';

  var section1 = document.createElement('div');
  section1.id = 'list_regio';
  section1.className = 'box hidden';
  section1.style.overflow = 'auto';
  // section1.style.height = '15%';
  // section1.style.height = '0';
  for (var i = 0, len_i = names.length; i < len_i; i++) {
    // const id = names[i].id;
    // const name = names[i].name;
    var _names$i = names[i],
        id = _names$i.id,
        name = _names$i.name;

    var entry = document.createElement('p');
    entry.innerHTML = '<span value="' + id + '" class=\'target_region square\'></span><span class="label_chk">' + name + '</span>';
    section1.appendChild(entry);
  }

  // Second section, groups of variables:
  var title_section2 = document.createElement('p');
  title_section2.className = 'title_menu';
  title_section2.innerHTML = 'Indicateurs';
  var section2 = document.createElement('div');
  section2.id = 'menu_variables';
  section2.className = 'box';
  section2.style.overflow = 'auto';
  section2.style.height = 'auto';
  section2.style.maxHeight = '35%';

  // Filter the "variables" variable to fetch the group names :
  var groups_var = removeDuplicates(variables.map(function (d) {
    return d.group;
  }).filter(function (d) {
    return d !== 'Num/dÃ©nom';
  }));

  var _loop = function _loop(_i, _len_i) {
    var gp_name = groups_var[_i];
    var entry = document.createElement('p');
    entry.className = 'name_group_var';
    entry.style.cursor = 'pointer';
    entry.innerHTML = _i === 0 ? '<span class=\'arrow arrow_right\'></span><span>' + gp_name + '</span>' : '<span class=\'arrow arrow_down\'></span><span>' + gp_name + '</span>';
    section2.appendChild(entry);
    var div_grp = document.createElement('div');
    div_grp.style.display = _i === 0 ? null : 'none';
    var var_names = variables.filter(function (d) {
      return d.group === gp_name;
    });
    for (var j = 0, len_j = var_names.length; j < len_j; j++) {
      var name_var = var_names[j].name;
      var code_var = var_names[j].id;
      var sub_entry = document.createElement('p');
      sub_entry.className = 'small';
      sub_entry.innerHTML = '<span value="' + code_var + '" class="target_variable small_square"></span><span class="label_chk">' + name_var + '</span><span class="i_info">i</span>';
      div_grp.appendChild(sub_entry);
    }
    section2.appendChild(div_grp);
  };

  for (var _i = 0, _len_i = groups_var.length; _i < _len_i; _i++) {
    _loop(_i, _len_i);
  }

  // Third section, study zone:
  var title_section3 = document.createElement('p');
  title_section3.className = 'title_menu';
  title_section3.innerHTML = 'Espace d\'Ã©tude';
  var section3 = document.createElement('div');
  section3.id = 'menu_studyzone';
  section3.className = 'box';
  section3.style.overflow = 'auto';
  section3.style.maxHeight = '25%';
  for (var _i2 = 0, _len_i2 = study_zones$$1.length; _i2 < _len_i2; _i2++) {
    var _entry = document.createElement('p');
    var zone = study_zones$$1[_i2];
    if (zone.id === 'SPAT') {
      continue;
    } else if (zone.id === 'filter_dist') {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" display_level="' + zone.display_level + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><input value="450" disabled="disabled" style="width: 55px; height: 13px;" type="number" min="0" max="100000" id="dist_filter"></input><span> km</span><span class="i_info">i</span>';
    } else {
      _entry.innerHTML = '<span filter-value="' + zone.id + '" display_level="' + zone.display_level + '" class=\'filter_v square\'></span><span class="label_chk">' + zone.name + '</span><span class="i_info">i</span>';
    }
    section3.appendChild(_entry);
  }
  // Fourth section:
  var title_section4 = document.createElement('p');
  title_section4.className = 'title_menu';
  title_section4.innerHTML = 'Maillage territorial d\'analyse';
  var section4 = document.createElement('div');
  section4.id = 'menu_territ_level';
  section4.className = 'box';
  section4.style.overflow = 'auto';
  section4.style.maxHeight = '20%';
  for (var _i3 = 0, _len_i3 = territorial_mesh$$1.length; _i3 < _len_i3; _i3++) {
    var _entry2 = document.createElement('p');
    var territ_level = territorial_mesh$$1[_i3];
    _entry2.innerHTML = '<span value="' + territ_level.id + '" class=\'territ_level square\'></span><span class="label_chk">' + territ_level.name + '</span><span class="i_info">i</span>';
    section4.appendChild(_entry2);
  }

  var section5 = document.createElement('div');
  section4.id = 'menu_territ_level';
  section4.className = 'box';
  section4.style.overflow = 'auto';
  section4.style.maxHeight = '20%';
  var img2 = document.createElement('img');
  img2.className = 'img_scale_logo';
  img2.src = 'img/Marianne_CGET_RVB.png';
  img2.style.margin = '0.9em 0.5em';
  // img2.style.width = '7.5em';
  img2.style.float = 'left';
  var logo_regioviz = document.createElement('img');
  logo_regioviz.className = 'img_scale_logo';
  logo_regioviz.src = 'img/logo_regioviz.png';
  logo_regioviz.style.margin = '0.4em';
  // logo_regioviz.style.width = '7.5em';
  logo_regioviz.style.float = 'right';
  var img1 = document.createElement('img');
  img1.className = 'img_scale_logo';
  img1.src = 'img/logo_riate.png';
  img1.style.margin = '0.9em 0.5em';
  // img1.style.width = '7.5em';
  img1.style.float = 'right';
  var blabla = document.createElement('span');
  blabla.id = 'link_credits_source';
  blabla.className = 'link';
  blabla.style.margin = '0em 0.5em';
  blabla.style.fontSize = '0.5em';
  blabla.style.float = 'right';
  blabla.style.cursor = 'pointer';
  blabla.innerHTML = 'CrÃ©dits & informations supplÃ©mentaire';

  section5.appendChild(img2);
  section5.appendChild(logo_regioviz);
  section5.appendChild(img1);
  section5.appendChild(blabla);

  // The actual menu containing these 5 sections:
  var menu = document.getElementById('menu');
  menu.id = 'menu';
  menu.style.float = 'left';
  menu.appendChild(title_section1);
  menu.appendChild(section1);
  menu.appendChild(title_section2);
  menu.appendChild(section2);
  menu.appendChild(title_section3);
  menu.appendChild(section3);
  menu.appendChild(title_section4);
  menu.appendChild(section4);
  menu.appendChild(section5);
  // handleInputRegioName(names);
};

var handleInputRegioName = function handleInputRegioName(allowed_names) {
  var ids_names = {};
  allowed_names.forEach(function (ft) {
    ids_names[ft.name.toLowerCase()] = ft.id;
  });
  var names = allowed_names.map(function (d) {
    return d.name.toUpperCase();
  });
  var names2 = names.map(function (d) {
    return d.toLowerCase();
  });

  document.getElementById('search').onblur = function () {
    if (!ids_names[this.value.toLowerCase()]) {
      document.getElementById('autocomplete').value = app.current_config.my_region_pretty_name;
      this.value = app.current_config.my_region_pretty_name;
    }
    document.getElementById('list_regio').classList.add('hidden');
  };

  document.getElementById('search').onkeyup = function (ev) {
    var value = this.value;
    if (!value || value === '') {
      // document.getElementById('autocomplete').value = app.current_config.my_region_pretty_name;
      // this.value = app.current_config.my_region_pretty_name;
      return;
    }
    document.getElementById('list_regio').classList.remove('hidden');
    var new_value = value.toLowerCase();
    document.getElementById('autocomplete').value = '';
    for (var i = 0; i < names2.length; i++) {
      if (names2[i].lastIndexOf(new_value, 0) === 0) {
        if (ev && (ev.key === 'Tab' || ev.key === 'Enter')) {
          var t = value + names2[i].substr(new_value.length, names2[i].length);
          document.getElementById('search').value = t;
          document.getElementById('autocomplete').value = t;
        }
        var str_after = names2[i].substr(new_value.length, names2[i].length);
        var new_str = value + str_after;
        document.getElementById('autocomplete').value = new_str;
        // if (ev && ev.key === 'Tab') {
        //   document.querySelector('#search').value = names2[i];
        //   document.querySelector('#autocomplete').value = names2[i];
        //   return;
        // }
        // const str_after = names2[i].substr(new_value.length, names2[i].length);
        // const new_str = value + str_after;
        // document.getElementById('autocomplete').value = new_str;
        // return;
      }
    }
    var a = document.getElementById('autocomplete').value;
    var b = document.getElementById('search').value;
    var code = ids_names[a.toLowerCase()];
    if (a === b && code) {
      document.querySelector('.target_region.square[value="' + code + '"]').click();
    }
  };
};

function makeTopMenu() {
  var top_menu = d3.select('#menutop').styles({ 'font-family': "'Signika', sans-serif", 'font-size': '0.80em', 'text-align': 'center' });

  top_menu.append('div').attrs({ class: 'title_section t1' }).html('SÃ‰LECTION');

  var type_chart = top_menu.append('div').attr('class', 'top_section t2').style('display', 'flex');

  var position = type_chart.append('div').attr('class', 'type_comparaison');

  position.append('p').attr('class', 'title_type_comp').html('POSITION');

  position.append('span').attrs({ class: 'type_chart chart_t1 selected', value: 'BarChart1' }).html('1 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t2 disabled', value: 'ScatterPlot2' }).html('2 ind.');

  position.append('span').attrs({ class: 'type_chart chart_t3 disabled', value: 'RadarChart3' }).html('+3 ind.');

  var ressemblance = type_chart.append('div').attr('class', 'type_comparaison');

  ressemblance.append('p').attr('class', 'title_type_comp').html('RESSEMBLANCES');

  ressemblance.append('span').attrs({ class: 'type_chart chart_t1', value: 'Similarity1plus' }).html('+1 ind.');

  top_menu.append('div').attrs({ class: 'title_section t3' }).html('QUELLES RÃ‰GIONS ?');
}

/**
* Function to prepare the icons displayed on the top of the map.
* The function only creates the element on the DOM. Binding is made later.
*
* @return {Void}
*/
function makeHeaderMapSection() {
  var header_map_section = d3.select('#map_section').insert('div', '.cont_svg.cmap').attr('id', 'header_map');

  header_map_section.append('div').attrs({ class: 'filter_info', title: 'Espace d\'Ã©tude' });

  var completude_section = header_map_section.append('div').attrs({ class: 'completude_section', title: 'ComplÃ©tude de l\'information' });

  completude_section.append('p').attr('id', 'completude_features');

  completude_section.append('p').attr('id', 'completude_population');

  header_map_section.insert('img').attrs({
    class: 'map_button active img_scale',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-rect-select.png',
    id: 'img_rect_selec',
    title: 'Rectangle de sÃ©lection'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button img_scale',
    width: 20,
    height: 20,
    src: 'img/gimp-tool-zoom.png',
    id: 'img_map_zoom',
    title: 'Zoom'
  });

  header_map_section.insert('img').attrs({
    class: 'map_button img_scale',
    width: 20,
    height: 20,
    src: 'img/gimp-cursor.png',
    id: 'img_map_select',
    title: 'SÃ©lection par clic'
  });

  header_map_section.insert('div').attrs({
    id: 'zoom_in',
    class: 'top_half_circle noselect',
    title: 'Zoom positif'
  }).append('span').text('+');

  header_map_section.insert('div').attrs({
    id: 'zoom_out',
    class: 'top_half_circle noselect',
    title: 'Zoom nÃ©gatif'
  }).append('span').text('-');
}

/**
* Function to prepare the icons displayed on the top of the chart.
* The function creates the elements on the DOM and bind click events on
* these elements (the behavior of the different dialogs created is determined
* at their opening by some informations present in the global variable 'app').
*
* @return {Void}
*/
function makeHeaderChart() {
  var header_bar_section = d3.select('#bar_section').insert('p', '.cont_svg.cchart').attr('id', 'header_chart').style('margin-bottom', '0').style('clear', 'both');

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/picto_download2.png',
    id: 'img_table',
    title: 'TÃ©lÃ©chargement des donnÃ©es',
    class: 'img_scale'
  }).styles({ margin: '3px', float: 'right', cursor: 'pointer' }).on('click', function () {
    var content = '<div id="prep_rapport"><h3>Donn\xE9es en cours de pr\xE9paration...</h3>\n<div class="spinner"><div class="cube1"></div><div class="cube2"></div></div></div>';
    // eslint-disable-next-line new-cap
    var modal = new tingle_min.modal({
      stickyFooter: false,
      closeMethods: ['overlay', 'escape'],
      closeLabel: 'Close',
      onOpen: function onOpen() {
        document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
      },
      onClose: function onClose() {
        modal.destroy();
      }
    });
    modal.setContent(content);
    modal.open();
    setTimeout(function () {
      modal.setContent('<h3>T\xE9l\xE9chargements</h3><div style="text-align:center;">\n<p><a class="buttonDownload large" id="dl_data" href="#">Table de donn\xE9es (.csv)</a></p>\n<p><a class="buttonDownload large" id="dl_metadata" href="data/Metadonnees_Regioviz.pdf">Fiche de m\xE9tadonn\xE9es (.pdf)</a></p>\n<p><a class="buttonDownload large" id="dl_geolayer" href="#" download>Fond de carte (.geojson)</a></p></div>');
      document.getElementById('dl_metadata').onclick = clickDlPdf;
      document.getElementById('dl_data').onclick = function () {
        var ratios = app.current_config.ratio;
        var nums = app.current_config.num;
        var denums = app.current_config.denum;
        var columns = ['id', 'name'];
        ratios.forEach(function (v, i) {
          columns.push(v);
          columns.push(nums[i]);
          columns.push(denums[i]);
          columns.push('pr_' + v);
        });
        var table_content = [columns.join(','), '\r\n'];
        app.chart.current_ids.forEach(function (idx) {
          var l1 = app.current_data.find(function (d) {
            return d.id === idx;
          });
          var l2 = app.chart.data.find(function (d) {
            return d.id === idx;
          });
          console.log(l1, l2);
          table_content.push(columns.map(function (c) {
            return l1[c] || l2[c];
          }).join(','));
          table_content.push('\r\n');
        });
        // app.current_data.map(d => columns.map(c => d[c]).join(',')).join('\r\n'),
        table_content = table_content.join('');
        var elem = document.createElement('a');
        elem.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(table_content));
        elem.setAttribute('download', 'Regioviz_export.csv');
        elem.style.display = 'none';
        document.body.appendChild(elem);
        elem.click();
        document.body.removeChild(elem);
      };
      document.getElementById('dl_geolayer').onclick = function () {
        d3.request('data/CGET_nuts_all.geojson', function (error, result) {
          if (error) throw error;
          var elem = document.createElement('a');
          elem.setAttribute('href', 'data:application/geo+json;charset=utf-8,' + encodeURIComponent(result.response));
          elem.setAttribute('download', 'CGET_nuts_all.geojson');
          elem.style.display = 'none';
          document.body.appendChild(elem);
          elem.click();
          document.body.removeAttribute(elem);
        });
        // window.open('data/CGET_nuts_all.geojson');
      };
    }, 1000);
  });
  // onclick="this.href='#'; window.open('data/Metadonnees_Regioviz.pdf'); event.preventDefault(); event.returnValue = false; this.href='data/Metadonnees_Regioviz.pdf';return false;"

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/picto_report2.png',
    id: 'img_printer',
    title: 'Export d\'un rapport',
    class: 'img_scale'
  }).styles({ margin: '3px', float: 'right', cursor: 'pointer' }).on('click', function () {
    var href = void 0;
    var content = '<div id="prep_rapport"><h3>Rapport en cours de pr\xE9paration...</h3>\n<div class="spinner"><div class="cube1"></div><div class="cube2"></div></div></div>';
    // eslint-disable-next-line new-cap
    var modal = new tingle_min.modal({
      stickyFooter: false,
      closeMethods: ['overlay', 'escape'],
      closeLabel: 'Close',
      onOpen: function onOpen() {
        document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
      },
      onClose: function onClose() {
        modal.destroy();
        URL.revokeObjectURL(href);
      }
    });
    modal.setContent(content);
    modal.open();
    var sections = app.chart.getTemplateHelp();
    var html_doc = exportHtmlRapport(sections, app.current_config.my_region_pretty_name);
    // const href = `data:text/html;charset=utf-8,${encodeURIComponent(html_doc)}`;
    href = URL.createObjectURL(new Blob([html_doc], { type: 'text/html' }));
    // elem.setAttribute('href', `data:text/html;charset=utf-8,${encodeURIComponent(html_doc)}`);
    // elem.setAttribute('download', 'rapport.html');
    // elem.style.display = 'none';
    setTimeout(function () {
      modal.setContent('<div id="prep_rapport"><p><a class="buttonDownload" id="dl_rapport" download="Regioviz_rapport.html" href="' + href + '">T\xE9l\xE9charger</a></p></div>');
      // document.querySelector('#dl_rapport').onclick = function () {
      //   document.body.appendChild(elem);
      //   elem.click();
      //   document.body.removeChild(elem);
      // };
    }, 250);
  });

  header_bar_section.insert('img').attrs({
    width: 20,
    height: 20,
    src: 'img/picto_information2.png',
    id: 'img_info',
    title: 'Aide',
    class: 'img_scale'
  }).styles({ margin: '3px', float: 'right', cursor: 'pointer' }).on('click', function () {
    var help_message = app.chart.getHelpMessage().split('\n').join('<br>');
    // eslint-disable-next-line new-cap
    var modal = new tingle_min.modal({
      stickyFooter: false,
      closeMethods: ['overlay', 'button', 'escape'],
      closeLabel: 'Close',
      onOpen: function onOpen() {
        document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
      },
      onClose: function onClose() {
        modal.destroy();
      }
    });
    modal.setContent(help_message);
    modal.open();
  });
}

/**
 * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.
 */
function feature(geometry, properties, options) {
    // Optional Parameters
    options = options || {};
    if (!isObject(options)) throw new Error('options is invalid');
    var bbox = options.bbox;
    var id = options.id;

    // Validation
    if (geometry === undefined) throw new Error('geometry is required');
    if (properties && properties.constructor !== Object) throw new Error('properties must be an Object');
    if (bbox) validateBBox(bbox);
    if (id) validateId(id);

    // Main
    var feat = {type: 'Feature'};
    if (id) feat.id = id;
    if (bbox) feat.bbox = bbox;
    feat.properties = properties || {};
    feat.geometry = geometry;
    return feat;
}

/**
 * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.
 * For GeometryCollection type use `helpers.geometryCollection`
 *
 * @name geometry
 * @param {string} type Geometry Type
 * @param {Array<number>} coordinates Coordinates
 * @param {Object} [options={}] Optional Parameters
 * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Geometry
 * @returns {Geometry} a GeoJSON Geometry
 * @example
 * var type = 'Point';
 * var coordinates = [110, 50];
 *
 * var geometry = turf.geometry(type, coordinates);
 *
 * //=geometry
 */
function point(coordinates, properties, options) {
    if (!coordinates) throw new Error('coordinates is required');
    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');
    if (coordinates.length < 2) throw new Error('coordinates must be at least 2 numbers long');
    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) throw new Error('coordinates must contain numbers');

    return feature({
        type: 'Point',
        coordinates: coordinates
    }, properties, options);
}

/**
 * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.
 *
 * @name points
 * @param {Array<Array<number>>} coordinates an array of Points
 * @param {Object} [properties={}] Translate these properties to each Feature
 * @param {Object} [options={}] Optional Parameters
 * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the FeatureCollection
 * @param {string|number} [options.id] Identifier associated with the FeatureCollection
 * @returns {FeatureCollection<Point>} Point Feature
 * @example
 * var points = turf.points([
 *   [-75, 39],
 *   [-80, 45],
 *   [-78, 50]
 * ]);
 *
 * //=points
 */
function isNumber(num) {
    return !isNaN(num) && num !== null && !Array.isArray(num);
}

/**
 * isObject
 *
 * @param {*} input variable to validate
 * @returns {boolean} true/false
 * @example
 * turf.isObject({elevation: 10})
 * //=true
 * turf.isObject('foo')
 * //=false
 */
function isObject(input) {
    return (!!input) && (input.constructor === Object);
}

/**
 * Validate BBox
 *
 * @private
 * @param {Array<number>} bbox BBox to validate
 * @returns {void}
 * @throws Error if BBox is not valid
 * @example
 * validateBBox([-180, -40, 110, 50])
 * //=OK
 * validateBBox([-180, -40])
 * //=Error
 * validateBBox('Foo')
 * //=Error
 * validateBBox(5)
 * //=Error
 * validateBBox(null)
 * //=Error
 * validateBBox(undefined)
 * //=Error
 */
function validateBBox(bbox) {
    if (!bbox) throw new Error('bbox is required');
    if (!Array.isArray(bbox)) throw new Error('bbox must be an Array');
    if (bbox.length !== 4 && bbox.length !== 6) throw new Error('bbox must be an Array of 4 or 6 numbers');
    bbox.forEach(function (num) {
        if (!isNumber(num)) throw new Error('bbox must only contain numbers');
    });
}

/**
 * Validate Id
 *
 * @private
 * @param {string|number} id Id to validate
 * @returns {void}
 * @throws Error if Id is not valid
 * @example
 * validateId([-180, -40, 110, 50])
 * //=Error
 * validateId([-180, -40])
 * //=Error
 * validateId('Foo')
 * //=OK
 * validateId(5)
 * //=OK
 * validateId(null)
 * //=Error
 * validateId(undefined)
 * //=Error
 */
function validateId(id) {
    if (!id) throw new Error('id is required');
    if (['string', 'number'].indexOf(typeof id) === -1) throw new Error('id must be a number or a string');
}

// Deprecated methods

function coordEach(geojson, callback, excludeWrapCoord) {
    // Handles null Geometry -- Skips this GeoJSON
    if (geojson === null) return;
    var j, k, l, geometry$$1, stopG, coords,
        geometryMaybeCollection,
        wrapShrink = 0,
        coordIndex = 0,
        isGeometryCollection,
        type = geojson.type,
        isFeatureCollection = type === 'FeatureCollection',
        isFeature = type === 'Feature',
        stop = isFeatureCollection ? geojson.features.length : 1;

    // This logic may look a little weird. The reason why it is that way
    // is because it's trying to be fast. GeoJSON supports multiple kinds
    // of objects at its root: FeatureCollection, Features, Geometries.
    // This function has the responsibility of handling all of them, and that
    // means that some of the `for` loops you see below actually just don't apply
    // to certain inputs. For instance, if you give this just a
    // Point geometry, then both loops are short-circuited and all we do
    // is gradually rename the input until it's called 'geometry'.
    //
    // This also aims to allocate as few resources as possible: just a
    // few numbers and booleans, rather than any temporary arrays as would
    // be required with the normalization approach.
    for (var featureIndex = 0; featureIndex < stop; featureIndex++) {
        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :
            (isFeature ? geojson.geometry : geojson));
        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;
        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;

        for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {
            var multiFeatureIndex = 0;
            var geometryIndex = 0;
            geometry$$1 = isGeometryCollection ?
                geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;

            // Handles null Geometry -- Skips this geometry
            if (geometry$$1 === null) continue;
            coords = geometry$$1.coordinates;
            var geomType = geometry$$1.type;

            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;

            switch (geomType) {
            case null:
                break;
            case 'Point':
                callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);
                coordIndex++;
                multiFeatureIndex++;
                break;
            case 'LineString':
            case 'MultiPoint':
                for (j = 0; j < coords.length; j++) {
                    callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);
                    coordIndex++;
                    if (geomType === 'MultiPoint') multiFeatureIndex++;
                }
                if (geomType === 'LineString') multiFeatureIndex++;
                break;
            case 'Polygon':
            case 'MultiLineString':
                for (j = 0; j < coords.length; j++) {
                    for (k = 0; k < coords[j].length - wrapShrink; k++) {
                        callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);
                        coordIndex++;
                    }
                    if (geomType === 'MultiLineString') multiFeatureIndex++;
                    if (geomType === 'Polygon') geometryIndex++;
                }
                if (geomType === 'Polygon') multiFeatureIndex++;
                break;
            case 'MultiPolygon':
                for (j = 0; j < coords.length; j++) {
                    if (geomType === 'MultiPolygon') geometryIndex = 0;
                    for (k = 0; k < coords[j].length; k++) {
                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {
                            callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);
                            coordIndex++;
                        }
                        geometryIndex++;
                    }
                    multiFeatureIndex++;
                }
                break;
            case 'GeometryCollection':
                for (j = 0; j < geometry$$1.geometries.length; j++)
                    coordEach(geometry$$1.geometries[j], callback, excludeWrapCoord);
                break;
            default:
                throw new Error('Unknown Geometry Type');
            }
        }
    }
}

/**
 * Callback for coordReduce
 *
 * The first time the callback function is called, the values provided as arguments depend
 * on whether the reduce method has an initialValue argument.
 *
 * If an initialValue is provided to the reduce method:
 *  - The previousValue argument is initialValue.
 *  - The currentValue argument is the value of the first element present in the array.
 *
 * If an initialValue is not provided:
 *  - The previousValue argument is the value of the first element present in the array.
 *  - The currentValue argument is the value of the second element present in the array.
 *
 * @callback coordReduceCallback
 * @param {*} previousValue The accumulated value previously returned in the last invocation
 * of the callback, or initialValue, if supplied.
 * @param {Array<number>} currentCoord The current coordinate being processed.
 * @param {number} coordIndex The current index of the coordinate being processed.
 * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.
 * @param {number} featureIndex The current index of the Feature being processed.
 * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
 * @param {number} geometryIndex The current index of the Geometry being processed.
 */

/**
 * Reduce coordinates in any GeoJSON object, similar to Array.reduce()
 *
 * @name coordReduce
 * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object
 * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)
 * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
 * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.
 * @returns {*} The value that results from the reduction.
 * @example
 * var features = turf.featureCollection([
 *   turf.point([26, 37], {"foo": "bar"}),
 *   turf.point([36, 53], {"hello": "world"})
 * ]);
 *
 * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {
 *   //=previousValue
 *   //=currentCoord
 *   //=coordIndex
 *   //=featureIndex
 *   //=multiFeatureIndex
 *   //=geometryIndex
 *   return currentCoord;
 * });
 */

function centroid(geojson, properties) {
    var xSum = 0;
    var ySum = 0;
    var len = 0;
    coordEach(geojson, function (coord) {
        xSum += coord[0];
        ySum += coord[1];
        len++;
    }, true);
    return point([xSum / len, ySum / len], properties);
}

function prepare_dataset(full_dataset, app$$1) {
  app$$1.full_dataset = full_dataset;
  // Create an Object feature_id ->  feature_name for easier lookup:
  app$$1.feature_names = {};
  full_dataset.forEach(function (elem) {
    app$$1.feature_names[elem.id] = elem.name;
  });
}

/**
* Filter the initial dataset in order to obtain only the features
* concerned by the current territorial division and by the selected study area
* (or the geographical neighborhood) if any. The returned extract also only contains
* the variables currently selected in the interface.
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @return {Array} - The filtered data, containing only the requested variables
*   for the feature of the current study zone, without features containing empty ratios.
*
*/
function filterLevelVar(app$$1) {
  // Fetch the name(s) of the ratio (and associated num and denum variable),
  // the name of the targeted region and the current level :
  var _app$current_config = app$$1.current_config,
      num = _app$current_config.num,
      denum = _app$current_config.denum,
      ratio = _app$current_config.ratio,
      current_level = _app$current_config.current_level,
      id_field = _app$current_config.id_field,
      filter_key = _app$current_config.filter_key,
      name_field = _app$current_config.name_field,
      my_region = _app$current_config.my_region;


  var all_variables = ratio.concat(num).concat(denum);
  // Prepare the data:
  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
    app$$1.current_config.my_category = null;
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.filter(function (ft) {
      return ft[id_field] === my_region;
    })[0][filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level] && ft[filter_key] === my_category;
    });
    app$$1.current_config.my_category = my_category;
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return +ft[current_level];
    });
    app$$1.current_config.my_category = null;
  }
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      name: ft[name_field]
    };
    for (var i = 0, len_i = all_variables.length; i < len_i; i++) {
      props_feature[all_variables[i]] = +ft[all_variables[i]];
    }
    return props_feature;
  });
  app$$1.current_data = temp;
}

/**
* Function allowing to filter the entities of the geographical layer
* according to the territorial division chosen.
*
* @param {Array} nuts_features - The array of geojson Feature to be filtered.
* @return {Array} - The filtered array.
*
*/
function filterLevelGeom(nuts_features) {
  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'N1';

  return nuts_features.filter(function (d) {
    return d.properties[filter] === 1;
  });
}

/**
* Function to prepare 3 global variables (both are Array of Objects) from the array
* containing the readed 'metadata.csv' file. They respectively describe: the variables
* to be used in the application (code, pretty name, unit, methodology, data source, date, etc),
* the study areas to use (name, display level, etc.) and the reference territorial divisions
* (each one described by a code making it possible to filter the features of the geographic layer
* and the features in the reference dataset.)
*
* @param {Array} metadata_indicateurs - The array returned by d3.csv.
* @return {void} - Nothing as these 3 objects are globals and modified in place.
*
*/
function prepareVariablesInfo(metadata_indicateurs) {
  metadata_indicateurs.filter(function (ft) {
    return ft.Regioviz_item === 'Indicateur' || ft.Regioviz_item === 'Stock';
  }).forEach(function (ft) {
    variables_info.push({
      id: ft.id,
      id1: '' + ft.id1,
      id2: '' + ft.id2,
      name: ft.Name + ' (' + parseInt(ft.Year, 10) + ')',
      unit: '' + ft.Unit,
      group: ft.Theme,
      methodo: ft.Methodology,
      source: ft.Data_source,
      last_update: ft.Last_update,
      formula: ft.Formula
    });
  });
  metadata_indicateurs.filter(function (ft) {
    return ft.Regioviz_item === 'Study Area';
  }).forEach(function (ft) {
    study_zones.push({
      name: ft.Name,
      id: ft.id,
      display_level: ft.Theme,
      methodology: ft.Methodology,
      url: ft.URL
    });
  });
  metadata_indicateurs.filter(function (ft) {
    return ft.Regioviz_item === 'Territorial division';
  }).forEach(function (ft) {
    territorial_mesh.push({ name: ft.Name, id: ft.id, methodology: ft.Methodology });
  });
}

/**
* Set and apply a new filter (ie. restrict the study area) on the dataset to be used.
*
* @param {String} filter_type - The name of the filter to use.
* @return {void}
*
*/
function applyFilter(app$$1, filter_type) {
  if (filter_type === 'filter_country') {
    app$$1.current_config.filter_key = 'Pays';
  } else if (filter_type === 'no_filter') {
    app$$1.current_config.filter_key = undefined;
  } else if (filter_type instanceof Array) {
    app$$1.current_config.filter_key = filter_type;
  } else {
    app$$1.current_config.filter_key = filter_type;
  }
  filterLevelVar(app$$1);
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
* Apply a region change (made in the left menu) in the various global variables
* containing specific information about "my region".
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @param {String} id_region - The id of the new targeted feature (my region).
* @param {Object} map_elem - The current instance of the displayed map.
* @return {Void}
*
*/
function changeRegion(app$$1, id_region, map_elem) {
  app$$1.current_config.my_region = id_region;
  app$$1.current_config.my_region_pretty_name = app$$1.feature_names[app$$1.current_config.my_region];
  if (app$$1.current_config.filter_key instanceof Array) {
    map_elem.computeDistMat();
    app$$1.current_config.filter_key = map_elem.getUnitsWithin(+document.getElementById('dist_filter').value);
    filterLevelVar(app$$1);
  } else if (app$$1.current_config.filter_key) {
    filterLevelVar(app$$1);
  }
  // Reset the color to use on the chart/map:
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
}

/**
* Adds a variable to the currently used extract of the dataset (previously
* obtained with the 'filterLevelVar' function).
*
* @param app - The variable containing the global parameters about
*   the current state of the application.
* @param code_ratio - The code of the variable to be added.
* @return {void}
*/
function addVariable(app$$1, code_ratio) {
  var variable_info = variables_info.filter(function (d) {
    return d.id === code_ratio;
  })[0];
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num.push(variable_info.id1);
  app$$1.current_config.denum.push(variable_info.id2);
  app$$1.current_config.ratio.push(variable_info.id);
  app$$1.current_config.ratio_pretty_name.push(variable_info.name);
  app$$1.current_config.ratio_unit.push(variable_info.unit);
  filterLevelVar(app$$1);
}

/**
* Removes a variable from the currently used extract of the dataset (previously
* obtained with the 'filterLevelVar' function).
*
* @param app - The variable containing the global parameters about
*   the current state of the application.
* @param code_ratio - The code of the variable to be remove.
* @return {void}
*/
function removeVariable(app$$1, code_ratio) {
  var ix = app$$1.current_config.ratio.indexOf(code_ratio);
  app$$1.current_config.num.splice(ix, 1);
  app$$1.current_config.denum.splice(ix, 1);
  app$$1.current_config.ratio.splice(ix, 1);
  app$$1.current_config.ratio_pretty_name.splice(ix, 1);
  app$$1.current_config.ratio_unit.splice(ix, 1);
  filterLevelVar(app$$1);
}

/**
* Reset the current variables in use (used in order to avoid successive calls
* to addVariable and removeVariable if necessary).
*
* @param app - The variable containing the global parameters about
*   the current state of the application.
* @param codes_ratio -
* @return {void}
*/
function resetVariables(app$$1, codes_ratio) {
  app$$1.colors = {};
  app$$1.colors[app$$1.current_config.my_region] = color_highlight;
  app$$1.current_config.num = [];
  app$$1.current_config.denum = [];
  app$$1.current_config.ratio = [];
  app$$1.current_config.ratio_pretty_name = [];
  app$$1.current_config.ratio_unit = [];

  var _loop = function _loop(i, len) {
    var code_ratio = codes_ratio[i];
    var variable_info = variables_info.filter(function (d) {
      return d.id === code_ratio;
    })[0];
    app$$1.current_config.num.push(variable_info.id1);
    app$$1.current_config.denum.push(variable_info.id2);
    app$$1.current_config.ratio.push(variable_info.id);
    app$$1.current_config.ratio_pretty_name.push(variable_info.name);
    app$$1.current_config.ratio_unit.push(variable_info.unit);
  };

  for (var i = 0, len = codes_ratio.length; i < len; i++) {
    _loop(i, len);
  }
  filterLevelVar(app$$1);
}

/**
* Compute the ratio of available (= not empty) values (the completeness) within
* the subset currently in use for all the variables in "vars".
*
* @param {Object} app - The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @param {String} output - Whether to output the result as a Number or as an Array
* @return {Number or Array} - Number: The ratios of features with available values within
*    the study zone (in %) or, Array : the number of features with available values
*    and the total number of features.
*/
function calcCompletudeSubset(app$$1, vars) {
  var output = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'ratio';
  var _app$current_config2 = app$$1.current_config,
      current_level = _app$current_config2.current_level,
      id_field = _app$current_config2.id_field,
      filter_key = _app$current_config2.filter_key,
      my_region = _app$current_config2.my_region;

  // Compute the length of the dataset (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_length = temp.length;

  // Compute the length of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field]
    };
    for (var i = 0, len_i = vars.length; i < len_i; i++) {
      props_feature[vars[i]] = +ft[vars[i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var filtered_length = temp.length;

  if (!(output === 'ratio')) {
    // Return the number of features with available values within
    // the study zone, and the total number of features of the study zone
    return [filtered_length, total_length];
  }
  // Return the ratio of available values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(filtered_length / total_length * 10000) / 100;
}

/**
* Compute the ratio of population covered by features on which all the variables
* of "vars" are available.
*
* @param {Object} app -The variable containing the global parameters about
*   the current state of the application.
* @param {Array} vars - A list of variable names for which completeness will be calculated.
* @return {Number} - The ratio (in %) of population covered by features for which
*   are available within the study zone.
*
*/
function calcPopCompletudeSubset(app$$1, vars) {
  var _app$current_config3 = app$$1.current_config,
      current_level = _app$current_config3.current_level,
      id_field = _app$current_config3.id_field,
      filter_key = _app$current_config3.filter_key,
      my_region = _app$current_config3.my_region,
      pop_field = _app$current_config3.pop_field;

  // Compute the total population stock of the data (within the "study zone" if any):

  var temp = void 0;
  if (filter_key instanceof Array) {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && filter_key.indexOf(ft[id_field]) > -1;
    });
  } else if (filter_key) {
    var my_category = app$$1.full_dataset.find(function (ft) {
      return ft[id_field] === my_region;
    })[filter_key];
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level] && ft[filter_key] === my_category;
    });
  } else {
    temp = app$$1.full_dataset.filter(function (ft) {
      return !!+ft[current_level];
    });
  }
  var total_pop = 0;
  for (var i = 0, len = temp.length; i < len; i++) {
    total_pop += Number.isNaN(+temp[i][pop_field]) ? 0 : +temp[i][pop_field];
  }
  // Compute the population stock of the dataset if we filter empty features
  // on all the variables of "vars":
  temp = temp.map(function (ft) {
    var props_feature = {
      id: ft[id_field],
      pop: +ft[pop_field]
    };
    for (var _i = 0, len_i = vars.length; _i < len_i; _i++) {
      props_feature[vars[_i]] = +ft[vars[_i]];
    }
    return props_feature;
  }).filter(function (ft) {
    return vars.map(function (ratio_name) {
      return !!ft[ratio_name];
    }).every(function (v) {
      return v === true;
    });
  });
  var subset_pop = 0;
  for (var _i2 = 0, _len = temp.length; _i2 < _len; _i2++) {
    subset_pop += Number.isNaN(temp[_i2].pop) ? 0 : temp[_i2].pop;
  }
  // Return the ratio of population values ("complÃ©tude") within
  // the study zone selected by the user:
  return Math.round(subset_pop / total_pop * 10000) / 100;
}
/* eslint-enable no-param-reassign */

var svg_map = d3.select('svg#svg_map').on('contextmenu', noContextMenu);
var width_map = fixed_dimension.map.width;
var height_map = fixed_dimension.map.height;
var styles = void 0;
var projection = void 0;
var path = void 0;

function get_bbox_layer_path(name) {
  var bbox_layer = [[Infinity, Infinity], [-Infinity, -Infinity]];
  svg_map.select('#' + name).selectAll('path').each(function (d) {
    var bbox_path = path.bounds(d.geometry);
    bbox_layer[0][0] = bbox_path[0][0] < bbox_layer[0][0] ? bbox_path[0][0] : bbox_layer[0][0];
    bbox_layer[0][1] = bbox_path[0][1] < bbox_layer[0][1] ? bbox_path[0][1] : bbox_layer[0][1];
    bbox_layer[1][0] = bbox_path[1][0] > bbox_layer[1][0] ? bbox_path[1][0] : bbox_layer[1][0];
    bbox_layer[1][1] = bbox_path[1][1] > bbox_layer[1][1] ? bbox_path[1][1] : bbox_layer[1][1];
  });
  return bbox_layer;
}

function fitLayer() {
  projection.scale(1).translate([0, 0]);
  var b = get_bbox_layer_path('frame');
  var s = 1 / math_max((b[1][0] - b[0][0]) / width_map, (b[1][1] - b[0][1]) / height_map);
  var t = [(width_map - s * (b[1][0] + b[0][0])) / 2, (height_map - s * (b[1][1] + b[0][1])) / 2];
  projection.scale(s).translate(t);
  svg_map.selectAll('path').attr('d', path);
}

function map_zoomed() {
  var transform = d3.event ? d3.event.transform : svg_map.node().__zoom;
  if (transform.k < 1) transform.k = 1;
  if (transform.k === 1) {
    transform.x = 0;
    transform.y = 0;
  }
  var layers = svg_map.select('#layers');
  var t = layers.selectAll('g').transition().duration(225);

  layers.selectAll('g').transition(t).style('stroke-width', function () {
    return styles[this.id] ? styles[this.id]['stroke-width'] / transform.k + 'px' : null;
  });

  layers.selectAll('g').transition(t).attr('transform', transform);

  svg_map.select('.brush_map').transition(t).attr('transform', transform);
}

function interpolateZoom(translate, scale) {
  var node_svg_map = svg_map.node();
  var transform = d3.zoomTransform(node_svg_map);
  return d3.transition().duration(225).tween('zoom', function () {
    var iTranslate = d3.interpolate([transform.x, transform.y], translate);
    var iScale = d3.interpolate(transform.k, scale);
    return function (t_value) {
      node_svg_map.__zoom.k = iScale(t_value);
      var _t = iTranslate(t_value);
      node_svg_map.__zoom.x = _t[0];
      node_svg_map.__zoom.y = _t[1];
      map_zoomed();
    };
  });
}

function zoomClick() {
  var direction = this.id === 'zoom_in' ? 1 : -1;
  var factor = 0.1;
  var center = [width_map / 2, height_map / 2];
  var transform = d3.zoomTransform(svg_map.node());
  var translate = [transform.x, transform.y];
  var view = { x: translate[0], y: translate[1], k: transform.k };
  var target_zoom = 1;
  var translate0 = [];
  var l = [];
  d3.event.preventDefault();
  target_zoom = transform.k * (1 + factor * direction);
  translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];
  view.k = target_zoom;
  l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];
  view.x += center[0] - l[0];
  view.y += center[1] - l[1];
  interpolateZoom([view.x, view.y], view.k);
}

function makeMapLegend(legend_elems, size, translateY) {
  var rect_size = 15;
  var spacing = 4;
  var lgd_height = rect_size + spacing;
  var offset = lgd_height * legend_elems.length / 2;

  var width_value_map = document.getElementById('map_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.clgd').style('padding-top', size / fixed_dimension.legend.width * width_value_map + 'px');

  var grp_lgd = d3.select('#svg_legend').attr('viewBox', '0 0 ' + fixed_dimension.legend.width + ' ' + size).append('g').styles({ 'font-size': '12px', 'font-family': '\'Signika\', sans-serif' });

  var legends = grp_lgd.selectAll('.legend').data(legend_elems).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {
    return 'translate(' + [10, +translateY + i * lgd_height - offset] + ')';
  });

  legends.append('rect').attrs({ width: rect_size, height: rect_size }).styles(function (d) {
    return { fill: d.color, stroke: d.color };
  });

  legends.append('text').attrs({ x: rect_size + spacing, y: rect_size - spacing }).text(function (d) {
    return d.text;
  });

  if (legend_elems[legend_elems.length - 1].color instanceof Array) {
    var elems = grp_lgd.selectAll('g.legend')._groups[0];
    var last_elem = d3.select(elems[elems.length - 1]);
    last_elem.append('polygon').attr('points', '0,0 ' + rect_size + ',' + rect_size + ' 0,' + rect_size).style('fill', last_elem.node().__data__.color[0]);
    last_elem.append('polygon').attr('points', '0,0 ' + rect_size + ',0 ' + rect_size + ',' + rect_size).style('fill', last_elem.node().__data__.color[1]);
  }
}

function getLegendElems(type) {
  if (type === 0) {
    return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion' }], '80', '41'];
  } else if (type === 1) {
    return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude' }, { color: color_sup, text: 'Rang plus Ã©levÃ© que ma rÃ©gion (2 indicateurs)' }, { color: color_inf, text: 'Rang moins Ã©levÃ© que ma rÃ©gion (2 indicateurs)' }, { color: ['orange', 'rgb(160, 30, 160)'], text: 'Rang plus Ã©levÃ© que ma rÃ©gion (1 indicateur sur 2)' }], '100', '50'];
  }
  return [[{ color: color_highlight, text: 'Ma r\xE9gion : ' + app.current_config.my_region_pretty_name }, { color: color_countries, text: 'Autres rÃ©gions de l\'espace d\'Ã©tude (sÃ©lectionnables)' }], '50', '22.5'];
}

var MapSelect = function () {
  function MapSelect(nuts, other_layers, user_styles) {
    var filter = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'N1';
    classCallCheck(this, MapSelect);

    styles = Object.assign({}, user_styles);
    // bbox_svg = svg_map.node().getBoundingClientRect();
    // width_map = +bbox_svg.width || (500 * app.ratioToWide);
    var width_value = document.getElementById('map_section').getBoundingClientRect().width * 0.98;
    d3.select('.cont_svg.cmap').style('padding-top', fixed_dimension.map.height / fixed_dimension.map.width * width_value + 'px');
    // svg_map.attr('height', `${height_map}px`)
    //   .attr('width', `${width_map}px`);
    // app.mapDrawRatio = app.ratioToWide;
    projection = d3.geoIdentity().fitExtent([[0, 0], [fixed_dimension.map.width, fixed_dimension.map.height]], other_layers.get('frame')).reflectY(true);

    path = d3.geoPath().projection(projection);

    var layers = svg_map.append('g').attr('id', 'layers').attr('transform', 'scale(1)');
    this.nuts = nuts;
    this.zoom_map = d3.zoom().scaleExtent([1, 5]).translateExtent([[0, 0], [width_map, height_map]]).on('zoom', map_zoomed);

    svg_map.call(this.zoom_map);

    var fn_attrs_layers = function fn_attrs_layers(d) {
      return {
        class: 'tg_ft',
        title: d.properties[app.current_config.name_field] + ' (' + d.id + ')',
        fill: d.id !== app.current_config.my_region ? color_countries : color_highlight,
        d: path
      };
    };

    var layer_list = Object.keys(styles);
    for (var i = 0, n_layer = layer_list.length; i < n_layer; i++) {
      var name_lyr = layer_list[i];
      var style_layer = styles[name_lyr];
      if (style_layer.target === true) {
        this.target_layer = layers.append('g').attrs(style_layer);
        this.target_layer.selectAll('path').data(filterLevelGeom(this.nuts.features, filter), function (d) {
          return d.id;
        }).enter().append('path').attrs(fn_attrs_layers);
      } else {
        layers.append('g').attrs(style_layer).selectAll('path').data(other_layers.get(name_lyr).features).enter().append('path').attr('d', path);
      }
    }
    layers.append('g').attrs({ id: 'temp' });

    this.layers = layers;
    fitLayer();
    app.type_path = getSvgPathType(this.target_layer.select('path').node().getAttribute('d'));
    this.target_layer.selectAll('path').each(function () {
      this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
    });
    this.tooltip = prepareTooltip2(d3.select(svg_map.node().parentElement), null, 'tooltip_map');
    this.bindTooltips();
  }

  createClass(MapSelect, [{
    key: 'updateLevelRegion',
    value: function updateLevelRegion() {
      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'N1';

      var new_selection = filterLevelGeom(this.nuts.features, filter);
      var selection = this.target_layer.selectAll('path').data(new_selection, function (d) {
        return d.id;
      });
      selection.enter().append('path').attrs(function (d) {
        return {
          title: d.properties[app.current_config.name_field] + ' (' + d.id + ')',
          fill: d.id !== app.current_config.my_region ? color_countries : color_highlight,
          d: path
        };
      });
      selection.attr('d', path);
      selection.exit().remove();
      this.resetColors(new_selection.map(function (d) {
        return d.id;
      }));
      this.computeDistMat();
      this.target_layer.selectAll('path').each(function () {
        this._pts = undefined;
      });
      this.bindTooltips();
    }
  }, {
    key: 'bindTooltips',
    value: function bindTooltips() {
      var _this = this;

      var self = this;
      this.target_layer.selectAll('path').on('mouseover', function () {
        // clearTimeout(t);
        _this.tooltip.style('display', null);
      }).on('mouseout', function () {
        // clearTimeout(t);
        // t = setTimeout(() => {
        _this.tooltip.style('display', 'none');
        // }, 250);
      }).on('mousemove mousedown', function () {
        // clearTimeout(t);
        self.tooltip.select('.title').html(this.getAttribute('title'));
        var b = self.tooltip.select('.title').node().getBoundingClientRect();
        var left = d3.event.clientX < window.innerWidth - (b.width + 20) ? d3.event.clientX - 5 : d3.event.clientX - b.width;
        self.tooltip.styles({
          display: null,
          left: left + 'px',
          top: d3.event.clientY - b.height - 20 + 'px'
        });
      });
    }
  }, {
    key: 'resetColors',
    value: function resetColors$$1(current_ids) {
      this.target_layer.selectAll('path').attr('fill', function (d) {
        if (d.id === app.current_config.my_region) {
          return color_highlight;
        } else if (current_ids.indexOf(d.id) > -1) {
          return app.colors[d.id] || color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'resetZoom',
    value: function resetZoom() {
      svg_map.transition().duration(250).call(this.zoom_map.transform, d3.zoomIdentity);
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      d3.select('#svg_legend > g > .legend > text').text('Ma r\xE9gion : ' + app.current_config.my_region_pretty_name);
    }
  }, {
    key: 'removeRectBrush',
    value: function removeRectBrush() {
      svg_map.select('.brush_map').call(this.brush_map.move, null);
    }
  }, {
    key: 'callBrush',
    value: function callBrush(selection) {
      svg_map.select('.brush_map').call(this.brush_map.move, selection);
    }
  }, {
    key: 'bindBrushClick',
    value: function bindBrushClick(chart) {
      svg_map.on('.zoom', null);
      this.resetZoom();
      if (chart.handleClickMap) {
        document.getElementById('img_map_select').classList.remove('disabled');
        document.getElementById('img_map_select').classList.add('active');
      } else {
        document.getElementById('img_map_select').classList.add('disabled');
      }
      if (chart.handle_brush_map) {
        var self = this;
        document.getElementById('img_rect_selec').classList.remove('disabled');
        document.getElementById('img_rect_selec').classList.add('active');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.remove('active');
        this.brush_map = d3.brush().extent([[0, 0], [width_map, height_map]]).on('start brush', function () {
          chart.handle_brush_map(d3.event);
        });
        svg_map.append('g').attr('class', 'brush_map').call(this.brush_map);

        svg_map.select('.brush_map').on('mousemove mousedown', function () {
          var elems = getElementsFromPoint(d3.event.clientX, d3.event.clientY);
          var elem = elems.find(function (e) {
            return e.className.baseVal === 'tg_ft';
          });
          if (elem) {
            var new_click_event = new MouseEvent('mousemove', {
              pageX: d3.event.pageX,
              pageY: d3.event.pageY,
              clientX: d3.event.clientX,
              clientY: d3.event.clientY,
              bubbles: true,
              cancelable: true,
              view: window
            });
            elem.dispatchEvent(new_click_event);
          } else {
            self.tooltip.style('display', 'none');
          }
        }).on('mouseout', function () {
          self.tooltip.style('display', 'none');
        });
      } else {
        document.getElementById('img_rect_selec').classList.remove('active');
        document.getElementById('img_rect_selec').classList.add('disabled');
        document.getElementById('img_map_zoom').classList.remove('active');
        document.getElementById('img_map_select').classList.add('active');
      }
      if (chart.handleClickMap && !chart.handle_brush_map) {
        this.target_layer.selectAll('path').on('click', function (d) {
          chart.handleClickMap(d, this);
        });
      }
    }
  }, {
    key: 'getUnitsWithin',
    value: function getUnitsWithin(dist_km) {
      var dist = dist_km * 1000;
      if (!this.dist_to_my_region) this.computeDistMat();
      return this.dist_to_my_region.filter(function (d) {
        return d.dist <= dist;
      }).map(function (d) {
        return d.id;
      });
    }
  }, {
    key: 'computeDistMat',
    value: function computeDistMat() {
      var features = Array.prototype.slice.call(this.target_layer.node().querySelectorAll('path'));
      var nb_ft = features.length;
      var my_region_geom = features.find(function (d) {
        return d.__data__.id === app.current_config.my_region;
      }).__data__.geometry;
      var my_region_centroid = centroid(my_region_geom);
      var result_dist = [];
      for (var i = 0; i < nb_ft; i++) {
        var id = features[i].__data__.id;
        var dist = euclidian_distance(my_region_centroid, centroid(features[i].__data__.geometry));
        result_dist.push({ id: id, dist: dist });
      }
      this.dist_to_my_region = result_dist;
    }
  }, {
    key: 'unbindBrushClick',
    value: function unbindBrushClick() {
      this.brush_map = null;
      svg_map.select('.brush_map').remove();
    }
  }, {
    key: 'displayLegend',
    value: function displayLegend() {
      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      // eslint-disable-line class-methods-use-this
      d3.selectAll('#svg_legend > g').remove();

      var _getLegendElems = getLegendElems(type),
          _getLegendElems2 = slicedToArray(_getLegendElems, 3),
          elems = _getLegendElems2[0],
          size = _getLegendElems2[1],
          ty = _getLegendElems2[2];

      makeMapLegend(elems, size, ty);
    }
  }]);
  return MapSelect;
}();

function makeSourceSection() {
  var src_group = svg_map.append('g').attr('id', 'source');
  src_group.append('text').attrs({
    x: width_map / 2,
    y: height_map - 8,
    'text-anchor': 'middle'
  }).style('font-size', '8px').text('DonnÃ©es : Eurostat (tÃ©lÃ©chargement : Oct. 2017)- Limite administrative: UMS RIATE, CC-BY-SA');
}

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

var ms = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}

var debug = createCommonjsModule(function (module, exports) {
/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = ms;

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms$$1 = curr - (prevTime || curr);
    self.diff = ms$$1;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
});

var debug_1 = debug.coerce;
var debug_2 = debug.disable;
var debug_3 = debug.enable;
var debug_4 = debug.enabled;
var debug_5 = debug.humanize;
var debug_6 = debug.names;
var debug_7 = debug.skips;
var debug_8 = debug.formatters;

var browser = createCommonjsModule(function (module, exports) {
/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = debug;
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit');

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}
});

var browser_1 = browser.log;
var browser_2 = browser.formatArgs;
var browser_3 = browser.save;
var browser_4 = browser.load;
var browser_5 = browser.useColors;
var browser_6 = browser.storage;
var browser_7 = browser.colors;

var TableResumeStat = function () {
  function TableResumeStat(summary_features) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, TableResumeStat);

    var doc = document;
    var nb_features = summary_features.length;
    var column_names = ['Variable', 'Min', 'Moy', 'Med', 'Max', 'Ma rÃ©gion'];
    var nb_columns = column_names.length;
    var container_div = doc.createElement('div');
    var myTable = doc.createElement('table');
    var headers = doc.createElement('thead');
    var table_body = doc.createElement('tbody');
    var headers_row = doc.createElement('tr');
    myTable.className = 'minitable';
    container_div.className = 'minitable_container';
    for (var i = 0; i < nb_columns; i++) {
      var cell = doc.createElement('th');
      cell.innerHTML = ['Variable', 'Ma rÃ©gion'].indexOf(column_names[i]) > -1 ? column_names[i] : column_names[i] + '.';
      headers_row.appendChild(cell);
    }
    headers.appendChild(headers_row);
    myTable.appendChild(headers);
    for (var _i = 0; _i < nb_features; _i++) {
      var row = doc.createElement('tr');
      row.id = 'row_' + summary_features[_i].id;
      for (var j = 0; j < nb_columns; j++) {
        var _cell = doc.createElement('td');
        var col_name = column_names[j];
        if (col_name !== 'Variable') {
          // cell.innerHTML = Math.round(summary_features[i][col_name] * 10) / 10;
          _cell.innerHTML = formatNumber(summary_features[_i][col_name], 1);
        } else {
          _cell.innerHTML = summary_features[_i][col_name];
        }
        row.appendChild(_cell);
      }
      table_body.appendChild(row);
    }
    myTable.appendChild(table_body);
    myTable.setAttribute('id', options.id || 'table_summary');
    container_div.appendChild(myTable);
    document.querySelector('#map_section').appendChild(container_div);
    this.nb_columns = nb_columns;
    this.column_names = column_names;
    this.table_body = table_body;
  }

  createClass(TableResumeStat, [{
    key: 'addFeatures',
    value: function addFeatures(summary_features) {
      for (var i = 0, len = summary_features.length; i < len; i++) {
        this.addFeature(summary_features[i]);
      }
    }
  }, {
    key: 'addFeature',
    value: function addFeature(summary) {
      var row = document.createElement('tr');
      row.id = 'row_' + summary.id;
      for (var j = 0; j < this.nb_columns; j++) {
        var cell = document.createElement('td');
        var col_name = this.column_names[j];
        if (col_name !== 'Variable') {
          cell.innerHTML = Math.round(summary[col_name] * 10) / 10;
        } else {
          cell.innerHTML = summary[col_name];
        }
        row.appendChild(cell);
      }
      this.table_body.appendChild(row);
    }
  }, {
    key: 'removeFeature',
    value: function removeFeature(id_variable) {
      var row = this.table_body.querySelector('tr#row_' + id_variable);
      if (row) row.remove();
    }
  }, {
    key: 'removeAll',
    value: function removeAll() {
      var rows = this.table_body.querySelectorAll('tr');
      for (var i = rows.length - 1; i > -1; i--) {
        rows[i].remove();
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_body.parentElement.parentElement.remove();
      this.table_body = null;
    }
  }]);
  return TableResumeStat;
}();

var CompletudeSection = function () {
  function CompletudeSection() {
    classCallCheck(this, CompletudeSection);

    this.completude_population = document.querySelector('.completude_section > #completude_population');
    this.completude_features = document.querySelector('.completude_section > #completude_features');
    this.completude_features.className = 'active';
    this.completude_population.className = '';
    var self = this;
    this.completude_features.onclick = function () {
      this.classList.remove('active');
      self.completude_population.classList.add('active');
    };
    this.completude_population.onclick = function () {
      this.classList.remove('active');
      self.completude_features.classList.add('active');
    };
  }

  createClass(CompletudeSection, [{
    key: 'update',
    value: function update(value_features, value_pop) {
      this.completude_features.innerHTML = 'Donn\xE9es disponibles pour ' + value_features[0] + '/' + value_features[1] + ' r\xE9gions.';
      this.completude_population.innerHTML = 'Donn\xE9es disponibles pour ' + value_pop + '% de la population de l\'espace d\'\xE9tude.';
    }
  }]);
  return CompletudeSection;
}();

var contextMenu = function () {
  function contextMenu(items) {
    classCallCheck(this, contextMenu);

    if (items) {
      this.setItems(items);
    } else {
      this.items = [];
    }
  }

  createClass(contextMenu, [{
    key: 'addItem',
    value: function addItem(item) {
      this.items.push({
        name: item.name,
        action: item.action
      });
    }
  }, {
    key: 'removeItem',
    value: function removeItem(name) {
      for (var i = this.items.length - 1; i > 0; i--) {
        if (this.items[i].name === name) {
          this.items.splice(i, 1);
          break;
        }
      }
    }
  }, {
    key: 'setItems',
    value: function setItems(items) {
      this.items = [];
      for (var i = 0, nb_items = items.length; i < nb_items; i++) {
        if (items[i].name && items[i].action) {
          this.addItem(items[i]);
        }
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu(event, parent, items, position) {
      var _this = this;

      if (event.preventDefault) event.preventDefault();
      if (event.stopPropagation) event.stopPropagation();
      if (this.DOMobj) {
        this.hideMenu();
        return;
      }
      if (items) {
        this.setItems(items);
      }

      this.initMenu(parent);
      if (!position) {
        this.DOMobj.style.top = event.clientY + document.body.scrollTop + 'px';
        this.DOMobj.style.left = event.clientX + 'px';
      } else {
        this.DOMobj.style.top = position[1] + 'px';
        this.DOMobj.style.left = position[0] + 'px';
      }
      this.displayed = true;
      setTimeout(function () {
        document.addEventListener('click', function () {
          return _this.hideMenu();
        });
      }, 150);
    }
  }, {
    key: 'hideMenu',
    value: function hideMenu() {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      this.displayed = false;
      document.removeEventListener('click', this.hideMenu);
    }
  }, {
    key: 'initMenu',
    value: function initMenu(parent) {
      if (this.DOMobj && this.DOMobj.parentElement && this.DOMobj.parentElement.removeChild) {
        this.DOMobj.parentElement.removeChild(this.DOMobj);
        this.DOMobj = null;
      }
      var self = this;
      var menu = document.createElement('div');
      var list = document.createElement('ul');
      menu.className = 'context-menu';
      menu.appendChild(list);
      for (var i = 0, nb_item = this.items.length; i < nb_item; i++) {
        var item = document.createElement('li');
        item.setAttribute('data-index', i);
        item.innerHTML = '<span class="context-menu-item-name">' + this.items[i].name + '</span>';
        list.appendChild(item);
        item.onclick = function () {
          var ix = this.getAttribute('data-index');
          self.items[ix].action();
        };
      }
      this.DOMobj = menu;
      parent.appendChild(menu);
    }
  }]);
  return contextMenu;
}();

var svg_bar = d3.select('svg#svg_bar');
var margin = { top: 10, right: 20, bottom: 100, left: 60 };
var margin2 = { top: 430, right: 20, bottom: 15, left: 60 };
var width = fixed_dimension.chart.width - margin.left - margin.right;
var height = fixed_dimension.chart.height - margin.top - margin.bottom;
var height2 = fixed_dimension.chart.height - margin2.top - margin2.bottom;
var svg_container = void 0;
var t = void 0;
var nbFt = void 0;
var current_range_brush = [0, 0];
var current_range = [0, 0];
var displayed = void 0;

function updateDimensions() {
  svg_bar = d3.select('svg#svg_bar').on('contextmenu', noContextMenu);
  margin = {
    top: 10,
    right: 20,
    bottom: 100,
    left: 60
  };
  margin2 = {
    top: math_round(fixed_dimension.chart.height - margin.top - margin.bottom + 45),
    right: 20,
    bottom: 12.5,
    left: 60
  };
  width = fixed_dimension.chart.width - margin.left - margin.right;
  height = fixed_dimension.chart.height - margin.top - margin.bottom;
  height2 = fixed_dimension.chart.height - margin2.top - margin2.bottom;
  var width_value = document.getElementById('bar_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.cchart').style('padding-top', fixed_dimension.chart.height / fixed_dimension.chart.width * width_value + 'px');
  svg_container = svg_bar.append('g').attr('class', 'container');
}

/**
* Get the rank corresponding to the mean value
* (or any value for which we may be interested in knowning its rank)
*
* @param {Number} mean_value - The mean value.
* @param {String} ratio_to_use - The name of the variable currently in use.
* @return {Number} - The rank corresponding to the input value.
*
*/
function getMeanRank(mean_value, ratio_to_use) {
  var mean_rank = app.current_data.map(function (d, i) {
    return [d[ratio_to_use], math_abs(mean_value - d[ratio_to_use]), i];
  });
  mean_rank.sort(function (a, b) {
    return a[1] - b[1];
  });
  mean_rank = mean_rank[0];
  if (mean_rank[1] > mean_value) {
    mean_rank = mean_rank[2] - 1;
  } else {
    mean_rank = mean_rank[2];
  }
  return mean_rank;
}

/** Class representing a scatterplot */

var BarChart1 = function () {
  /**
   * Create a bar chart on the `svg_bar` svg element previously defined.
   *
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least one field flagged as ratio
   * in the `app.current_config.ratio` Object).
   */

  function BarChart1(ref_data) {
    var _this = this;

    classCallCheck(this, BarChart1);

    this.brushed = function () {
      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'zoom') return; // ignore brush-by-zoom
      if (!_this.x) {
        return;
      }
      var s = d3.event.selection || _this.x2.range();
      context_left_handle.attr('x', s[0] - 12);
      context_right_handle.attr('x', s[1] - 7);
      current_range = [math_round(s[0] / (width / nbFt)), math_round(s[1] / (width / nbFt))];
      _this.x.domain(_this.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      svg_container.select('.zoom').call(_this.zoom.transform, d3.zoomIdentity.scale(width / (current_range[1] - current_range[0])).translate(-current_range[0], 0));
      _this.update();
      _this.updateContext(current_range[0], current_range[1]);
      svg_container.select('.brush_top').call(_this.brush_top.move, null);
      // this.brushed_top();
    };

    this.brushed_top = function () {
      if (!_this._focus || !_this.map_elem) return;

      var d3_event = d3.event;
      var ratio_to_use = _this.ratio_to_use;
      var ref_value = _this.ref_value;

      // const elems = document.elementsFromPoint(
      //   d3_event.sourceEvent.pageX, d3_event.sourceEvent.pageY);
      // const elem = elems.find(e => e.className.baseVal === 'bar');
      // if (elem) {
      //   const new_click_event = new MouseEvent('mousedown', {
      //     pageX: d3_event.sourceEvent.pageX,
      //     pageY: d3_event.sourceEvent.pageY,
      //     clientX: d3_event.sourceEvent.clientX,
      //     clientY: d3_event.sourceEvent.clientY,
      //     bubbles: true,
      //     cancelable: true,
      //     view: window
      //   });
      //   elem.dispatchEvent(new_click_event);
      // } else {
      clearTimeout(t);
      t = setTimeout(function () {
        _this.tooltip.style('display', 'none').selectAll('p').html('');
      }, 5);
      // }

      // if (d3_event && d3_event.selection
      //       && d3_event.sourceEvent
      //       && d3_event.sourceEvent.target === document.querySelector(
      //         '.brush_top > rect.overlay')) {
      if (d3_event && d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.target) {
        _this.map_elem.removeRectBrush();
        var s = d3_event.selection;
        current_range_brush = [current_range[0] + math_round(s[0] / (width / displayed)) - 1, current_range[0] + math_round(s[1] / (width / displayed))];
        // this.x.domain(this.data.slice(current_range_brush[0] + 1, current_range_brush[1])
        //   .map(ft => ft.id));
        app.colors = {};
        _this._focus.selectAll('.bar').style('fill', function (d, i) {
          if (d.id === app.current_config.my_region) {
            app.colors[d.id] = color_highlight;
            return color_highlight;
          } else if (i > current_range_brush[0] && i < current_range_brush[1]) {
            var color = comp(d[ratio_to_use], ref_value, _this.serie_inversed);
            app.colors[d.id] = color;
            return color;
          }
          return color_countries;
        });
        // this.update();
        if (_this.reset_state_button === true) {
          d3.select('#menu_selection').selectAll('button').attr('class', 'button_blue');
        }
        _this.updateMapRegio();
      } else {
        if (d3_event && !d3_event.selection && d3_event.sourceEvent && d3_event.sourceEvent.detail !== undefined) {
          _this.map_elem.removeRectBrush();
          app.colors = {};
          app.colors[app.current_config.my_region] = color_highlight;
          _this.updateMapRegio();
        }
        _this._focus.selectAll('.bar').style('fill', function (d) {
          return app.colors[d.id] || color_countries;
        });
        if (_this.reset_state_button === true) {
          d3.select('#menu_selection').selectAll('button').attr('class', 'button_blue');
        }
      }
    };
    updateDimensions();
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    var x = d3.scaleBand().range([0, width]).padding(0.1);
    var x2 = d3.scaleBand().range([0, width]).padding(0.1);
    var y = d3.scaleLinear().range([height, 0]);
    var y2 = d3.scaleLinear().range([height2, 0]);

    var xAxis = d3.axisBottom(x);
    var xAxis2 = d3.axisBottom(x2);
    var yAxis = d3.axisLeft(y);

    this.x = x;
    this.x2 = x2;
    this.y = y;
    this.y2 = y2;
    this.xAxis = xAxis;
    this.yAxis = yAxis;
    this.xAxis2 = xAxis2;
    var self = this;
    var available_ratios = app.current_config.ratio;
    var ratio_to_use = available_ratios[0];
    this.ratio_to_use = ratio_to_use;
    this.unit = variables_info.find(function (ft) {
      return ft.id === ratio_to_use;
    }).unit;
    this.data = ref_data.filter(function (ft) {
      return !!ft[ratio_to_use];
    });
    this.data.sort(function (a, b) {
      return a[ratio_to_use] - b[ratio_to_use];
    });
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors();
    this.current_ranks = this.data.map(function (d, i) {
      return i + 1;
    });
    nbFt = this.data.length;
    this.mean_value = getMean(this.data.map(function (d) {
      return d[ratio_to_use];
    }));
    this.ref_value = this.data.filter(function (ft) {
      return ft.id === app.current_config.my_region;
    })[0][ratio_to_use];
    svg_container.append('defs').append('clipPath').attr('id', 'clip').append('rect').attrs({ width: width, height: height });

    // Focus is the 'big' bar chart, located on the top:
    var focus = svg_container.append('g').attrs({
      class: 'focus',
      transform: 'translate(' + margin.left + ', ' + margin.top + ')'
    });

    // Focus is the 'small' bar chart, located on the bottom:
    var context = svg_container.append('g').attrs({
      class: 'context',
      transform: 'translate(' + margin2.left + ', ' + margin2.top + ')'
    });

    this._focus = focus;
    this.context = context;

    x.domain(this.current_ids);
    y.domain([0, d3.max(this.data, function (d) {
      return d[ratio_to_use];
    })]);
    x2.domain(x.domain());
    y2.domain(y.domain());

    var brush_bottom = d3.brushX().extent([[0, 0], [width, height2]]).on('brush end', this.brushed);

    var brush_top = d3.brushX().extent([[0, 0], [width, height]]).on('brush end', this.brushed_top);

    var zoom = d3.zoom().scaleExtent([1, Infinity]).translateExtent([[0, 0], [width, height]]).extent([[0, 0], [width, height]]);
    // .on("zoom", zoomed);
    this.brush_top = brush_top;
    this.brush_bottom = brush_bottom;
    this.zoom = zoom;

    focus.append('g').attrs({ class: 'axis axis--x', transform: 'translate(0, ' + height + ')' }).call(xAxis);

    focus.select('.axis--x').selectAll('text').style('text-anchor', 'end').attrs({ dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' });

    focus.append('g').attr('class', 'axis axis--y').call(yAxis.tickFormat(formatNumber));

    this.g_bar = focus.append('g');

    var g_brush_top = focus.append('g').attr('class', 'brush_top').call(brush_top);

    var groupe_line_mean = focus.append('g').attr('class', 'mean');

    groupe_line_mean.append('line').attrs({
      x1: 0,
      x2: width,
      y1: y(this.mean_value),
      y2: y(this.mean_value),
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      class: 'mean_line'
    }).style('stroke', 'red');

    groupe_line_mean.append('line').attrs({ x1: 0, x2: width, y1: y(this.mean_value), y2: y(this.mean_value), 'stroke-width': '14px', class: 'transp_mean_line' }).style('stroke', 'transparent').on('mouseover', function () {
      clearTimeout(t);
      t = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
      // this.tooltip.style('display', null).select('.title').attr('class', 'title red');
    }).on('mouseout', function () {
      clearTimeout(t);
      t = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
    }).on('mousemove mousedown', function () {
      clearTimeout(t);
      var content = ['Moyenne de l\'espace d\'Ã©tude'];
      var _h = 65;
      if (app.current_config.my_category) {
        content.push('<br>', ' (', app.current_config.my_category, ')');
        _h += 20;
      } else if (app.current_config.filter_key) {
        content.push('<br>', ' (RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km)');
        _h += 20;
      }
      self.tooltip.select('.title').attr('class', 'title red').html(content.join(''));
      self.tooltip.select('.content').html(['Valeur : ', formatNumber(self.mean_value, 1), ' ', self.unit].join(''));
      self.tooltip.styles({
        display: null,
        left: d3.event.clientX - window.scrollX - 5 + 'px',
        top: d3.event.clientY - window.scrollY - _h + 'px'
      });
    });

    this.updateMiniBars();

    var g_brush_bottom = context.append('g').attr('class', 'brush_bottom').call(brush_bottom);

    var context_left_handle = g_brush_bottom.insert('image', '.handle').attrs({
      width: 20,
      height: height2,
      x: x2(this.current_ids[0]) - 12,
      'xlink:href': 'img/left-handle2.png'
    }).styles({
      cursor: 'col-resize',
      'pointer-events': 'none'
    });

    var context_right_handle = g_brush_bottom.insert('image', '.handle').attrs({
      width: 20,
      height: height2,
      x: x2(this.current_ids[this.current_ids.length - 1]) - 7,
      'xlink:href': 'img/right-handle2.png'
    }).styles({
      cursor: 'col-resize',
      'pointer-events': 'none'
    });

    g_brush_top.call(brush_top.move, null);
    g_brush_bottom.call(brush_bottom.move, x.range());

    this.completude = new CompletudeSection();
    this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));

    svg_container.append('image').attrs({
      x: width + margin.left + 5,
      y: 385,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse',
      title: 'Inverser l\'ordre de classement de l\'indicateur'
    }).style('cursor', 'pointer').on('click', function () {
      // this.data = app.current_data.slice();
      if (!self.serie_inversed) {
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_moins.png');
        self.title_variable.classed('inversed', true).attr('title-tooltip', self.title_variable.attr('title-tooltip') + ' (axe invers\xE9)');
        self.data.sort(function (a, b) {
          return b[self.ratio_to_use] - a[self.ratio_to_use];
        });
      } else {
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_plus.png');
        self.title_variable.classed('inversed', false).attr('title-tooltip', ('' + self.title_variable.attr('title-tooltip')).replace(' (axe inversÃ©)', ''));
        self.data.sort(function (a, b) {
          return a[self.ratio_to_use] - b[self.ratio_to_use];
        });
      }
      self.current_ids = self.data.map(function (d) {
        return d.id;
      });
      self.serie_inversed = !self.serie_inversed;
      x.domain(self.data.slice(current_range[0], current_range[1]).map(function (ft) {
        return ft.id;
      }));
      x2.domain(self.data.map(function (ft) {
        return ft.id;
      }));
      // svg_container.select(".zoom").call(zoom.transform, d3.zoomIdentity
      //     .scale(width / (current_range[1] - current_range[0]))
      //     .translate(-current_range[0], 0));
      self.update();
      // this.updateMiniBars();
      self.updateContext(current_range[0], current_range[1]);
      svg_container.select('.brush_top').call(brush_top.move, null);
      self.map_elem.removeRectBrush();
      svg_container.select('.brush_bottom').call(brush_bottom.move, x.range());
    });

    // Prepare the tooltip displayed on mouseover:
    this.tooltip = prepareTooltip2(d3.select(svg_bar.node().parentElement), null);

    // // Deactivate the brush rect selection on the map + on the chart
    // // when he user press the Ctrl key:
    // document.onkeydown = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_container.select('.brush_top')
    //       .selectAll('.selection, .overlay')
    //       .style('display', 'none');
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', 'none');
    //   }
    // };
    // document.onkeyup = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_container.select('.brush_top')
    //       .selectAll('.selection, .overlay')
    //       .style('display', null);
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', null);
    //   }
    // };

    var header_bar_section = d3.select('#header_chart');

    this.menu_var = new contextMenu();
    this.items_menu = available_ratios.map(function (elem, i) {
      var code_variable = elem;
      var name_variable = app.current_config.ratio_pretty_name[i];
      var unit = variables_info.find(function (ft) {
        return ft.id === code_variable;
      }).unit;
      var year = name_variable.match(/\([^)]*\)$/)[0];
      var unit_year = '' + year.slice(0, 1) + unit + ', ' + year.slice(1, 6);
      name_variable = name_variable.replace(year, unit_year);
      return {
        name: name_variable,
        code: code_variable,
        action: function action() {
          _this.changeVariable(code_variable, name_variable);
          _this.changeStudyZone();
          _this.updateCompletude();
        }
      };
    });

    this.title_variable = header_bar_section.append('span').attrs({
      class: 'title_variable',
      'title-tooltip': app.current_config.ratio_pretty_name[0]
    }).html(this.items_menu[0].name.replace(/\(/, '&&&').split('&&&').join('<br>(') + '  &#x25BE;').on('click', function () {
      var bbox = this.getBoundingClientRect();
      var items = self.items_menu.filter(function (el) {
        return el.code !== self.ratio_to_use;
      });
      if (items.length > 0) {
        self.menu_var.showMenu(d3.event, document.body, items, [bbox.left - 5, bbox.bottom + 2.5]);
      }
    });

    // Create the menu under the chart allowing to use some useful selections
    // (above or below the mean value and above or below my_region)
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ padding: '0 10px 10px 10px', 'text-align': 'center', color: '#4f81bd' });

    menu_selection.append('p').attr('id', 'selection_subtitle').styles({ margin: '10px 0px 2px 0px' }).html('SÃ©lection des rÃ©gions ayant des valeurs...');

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('infÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMean();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('infÃ©rieurs Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMyRegion();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('supÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMean();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('supÃ©rieures Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMyRegion();
    });

    this.makeTableStat();
  }

  createClass(BarChart1, [{
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.ratio_to_use], 'array'), calcPopCompletudeSubset(app, [this.ratio_to_use]));
    }
  }, {
    key: 'updateContext',
    value: function updateContext(min, max) {
      this.context.selectAll('.bar').style('fill-opacity', function (_, i) {
        return i >= min && i < max ? '1' : '0.3';
      });
    }
  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      displayed = 0;
      var ratio_to_use = this.ratio_to_use;
      var self = this;
      var bar = this.g_bar.selectAll('.bar').data(this.data);

      if (this.reset_state_button === true) {
        d3.select('#menu_selection').selectAll('button').attr('class', 'button_blue');
      }

      bar.attrs(function (d) {
        return {
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      }).styles(function (d) {
        var to_display = _this2.x(d.id) != null;
        if (to_display) {
          displayed += 1;
          to_display = 'initial';
        } else {
          to_display = 'none';
        }
        return {
          display: to_display,
          fill: app.colors[d.id] || color_countries
        };
      });

      bar.enter().insert('rect', '.mean').attrs(function (d) {
        return {
          class: 'bar',
          x: _this2.x(d.id),
          y: _this2.y(d[ratio_to_use]),
          width: _this2.x.bandwidth(),
          height: height - _this2.y(d[ratio_to_use])
        };
      });

      bar.exit().remove();

      this._focus.select('.axis--y').call(this.yAxis);

      var axis_x = this._focus.select('.axis--x').attr('font-size', function () {
        return displayed > 75 ? 6 : 10;
      }).call(this.xAxis);
      axis_x.selectAll('text').attrs(function () {
        if (displayed > 100) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        } else if (displayed > 20) {
          return { dx: '-0.8em', dy: '0.15em', transform: 'rotate(-65)' };
        }
        return { dx: '0', dy: '0.71em', transform: null };
      }).style('text-anchor', function () {
        return displayed > 20 ? 'end' : 'middle';
      }).styles(function () {
        if (displayed > 100) {
          return {
            'text-anchor': 'end',
            'font-size': displayed > 170 ? '6px' : '7px'
          };
        } else if (displayed > 20) {
          return {
            'text-anchor': 'end',
            'font-size': '10px'
          };
        }
        return {
          'text-anchor': 'middle',
          'font-size': '11px'
        };
      });

      this.g_bar.selectAll('.bar').on('mouseover', function () {
        clearTimeout(t);
        _this2.tooltip.style('display', null).select('.title').attr('class', 'title');
      }).on('mouseout', function () {
        clearTimeout(t);
        t = setTimeout(function () {
          _this2.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
        }, 250);
      }).on('mousemove mousedown', function (d) {
        clearTimeout(t);
        self.tooltip.select('.title').attr('class', d.id === app.current_config.my_region ? 'title myRegion' : 'title').html([d.name, ' (', d.id, ')'].join(''));
        self.tooltip.select('.content').html([self.ratio_to_use, ' : ', formatNumber(d[self.ratio_to_use], 1), ' ', self.unit, '<br>', 'Rang : ', nbFt - self.current_ids.indexOf(d.id), '/', self.current_ids.length].join(''));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - 85 + 'px'
        });
      });

      svg_container.select('.brush_top').on('mousemove mousedown', function () {
        var elems = getElementsFromPoint(d3.event.clientX, d3.event.clientY);
        var elem = elems.find(function (e) {
          return e.className.baseVal === 'bar' || e.className.baseVal === 'transp_mean_line';
        });
        if (elem) {
          var new_click_event = new MouseEvent('mousemove', {
            pageX: d3.event.pageX,
            pageY: d3.event.pageY,
            clientX: d3.event.clientX,
            clientY: d3.event.clientY,
            bubbles: true,
            cancelable: true,
            view: window
          });
          elem.dispatchEvent(new_click_event);
        } else {
          clearTimeout(t);
          t = setTimeout(function () {
            self.tooltip.style('display', 'none').selectAll('p').html('');
          }, 250);
        }
      }).on('mouseout', function () {
        clearTimeout(t);
        t = setTimeout(function () {
          self.tooltip.style('display', 'none').selectAll('p').html('');
        }, 250);
      });

      this.updateMiniBars();
    }
  }, {
    key: 'updateMiniBars',
    value: function updateMiniBars() {
      var _this3 = this;

      var ratio_to_use = this.ratio_to_use;
      var mini_bars = this.context.selectAll('.bar').data(this.data);

      mini_bars.attrs(function (d) {
        return {
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });

      mini_bars.enter().insert('rect').attrs(function (d) {
        return {
          class: 'bar',
          x: _this3.x2(d.id),
          y: _this3.y2(d[ratio_to_use]),
          width: _this3.x2.bandwidth(),
          height: height2 - _this3.y2(d[ratio_to_use])
        };
      }).style('fill', function (d) {
        return d.id !== app.current_config.my_region ? color_countries : color_highlight;
      });
      mini_bars.exit().remove();
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this4.current_ids.indexOf(d.id) > -1 ? app.colors[d.id] || color_countries : color_disabled;
      });
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      } else {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      }
      this.reset_state_button = false;
      svg_container.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_container.select('.brush_top')
      //   .call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.map_elem.removeRectBrush();
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      var my_rank = this.data.map(function (d, i) {
        return [d.id, i];
      }).filter(function (d) {
        return d[0] === app.current_config.my_region;
      })[0][1];

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [0, my_rank];
        this.data.filter(function (d, i) {
          return i < my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_inf;
        });
      } else {
        current_range_brush = [my_rank, this.data.length];
        this.data.filter(function (d, i) {
          return i > my_rank;
        }).map(function (d) {
          return d.id;
        }).forEach(function (ft) {
          app.colors[ft] = color_sup;
        });
      }
      this.reset_state_button = false;
      svg_container.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      // svg_bar.select('.brush_top')
      //   .call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.map_elem.removeRectBrush();
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this5 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;

      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      if (!this.serie_inversed) {
        current_range_brush = [mean_rank, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      } else {
        current_range_brush = [0, mean_rank + 1];
        this.data.filter(function (d) {
          return d[ratio_to_use] > _this5.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] > ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.reset_state_button = false;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      this.map_elem.removeRectBrush();
      // svg_bar.select('.brush_top')
      //   .call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this6 = this;

      var mean_rank = getMeanRank(this.mean_value, this.ratio_to_use);
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      app.colors = {};
      if (!this.serie_inversed) {
        current_range_brush = [0, mean_rank];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_inf;else app.colors[ft.id] = color_sup;
        });
      } else {
        current_range_brush = [mean_rank + 1, this.data.length];
        this.data.filter(function (d) {
          return d[ratio_to_use] < _this6.mean_value;
        }).forEach(function (ft) {
          if (ft[ratio_to_use] < ref_value) app.colors[ft.id] = color_sup;else app.colors[ft.id] = color_inf;
        });
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.reset_state_button = false;
      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.update();
      this.map_elem.removeRectBrush();
      // svg_bar.select('.brush_top')
      //   .call(this.brush_top.move, current_range_brush.map(d => d * (width / nbFt)));
      this.updateMapRegio();
      this.reset_state_button = true;
    }
  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      var _this7 = this;

      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      this.map_elem.tooltip.style('display', 'none');
      var ratio_to_use = this.ratio_to_use;
      var ref_value = this.ref_value;
      var self = this;
      svg_bar.select('.brush_top').call(self.brush_top.move, null);

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      // const transform = svg_map.node().__zoom;
      // topleft[0] = (topleft[0] - transform.x) / transform.k;
      // topleft[1] = (topleft[1] - transform.y) / transform.k;
      // bottomright[0] = (bottomright[0] - transform.x) / transform.k;
      // bottomright[1] = (bottomright[1] - transform.y) / transform.k;
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.id;
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value = d.properties[ratio_to_use];
            var color = comp(value, ref_value, this.serie_inversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self._focus.selectAll('.bar').style('fill', function (d) {
        return app.colors[d.id] || color_countries;
      });
      var ids = Object.keys(app.colors);
      var ranks = ids.map(function (d) {
        return _this7.current_ids.indexOf(d.id) > -1;
      }).map(function (d) {
        return _this7.current_ranks[d];
      });
      if (ranks.length > 1) {
        var c1 = ranks[0] - 1;
        var c2 = ranks[ranks.length - 1];
        if (c1 < current_range[0] || c2 > current_range[1]) {
          current_range = [ranks[0] - 1, ranks[ranks.length - 1]];
          svg_bar.select('.brush_bottom').call(self.brush_bottom.move, [current_range[0] * (width / nbFt), current_range[1] * (width / nbFt)]);
        }
      } else {
        current_range = [0, this.data.length];
        svg_bar.select('.brush_bottom').call(self.brush_bottom.move, self.x.range());
      }
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        app.colors[id] = undefined;
        d3.select(parent).attr('fill', color_countries);
      } else {
        var color = comp(d.properties[this.ratio_to_use], this.ref_value, this.serie_inversed);
        app.colors[id] = color;
        d3.select(parent).attr('fill', color);
      }
      this.update();
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.ref_value = this.data.find(function (ft) {
          return ft.id === app.current_config.my_region;
        })[this.ratio_to_use];
        this.update();
        this.updateContext(0, this.data.length);
        this.updateMapRegio();
        this.updateTableStats();
        svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x.range());
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
      }
    }
  }, {
    key: 'updateMeanValue',
    value: function updateMeanValue() {
      var y = this.y;
      var ratio_to_use = this.ratio_to_use;
      var grp_mean = this._focus.select('.mean');
      this.mean_value = getMean(this.data.map(function (d) {
        return d[ratio_to_use];
      }));
      grp_mean.select('text').attr('y', y(this.mean_value) + 20).text('Valeur moyenne : ' + formatNumber(this.mean_value, 1) + ' ' + this.unit);
      grp_mean.select('.mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
      grp_mean.select('.transp_mean_line').attrs({ y1: y(this.mean_value), y2: y(this.mean_value) });
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var ratio_to_use = this.ratio_to_use;
      this.data = app.current_data.filter(function (ft) {
        return !!ft[ratio_to_use];
      });
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.current_ranks = this.data.map(function (d, i) {
        return i + 1;
      });
      if (this.serie_inversed) {
        this.data.sort(function (a, b) {
          return b[ratio_to_use] - a[ratio_to_use];
        });
      } else {
        this.data.sort(function (a, b) {
          return a[ratio_to_use] - b[ratio_to_use];
        });
      }
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      nbFt = this.data.length;
      this.ref_value = this.data.find(function (ft) {
        return ft.id === app.current_config.my_region;
      })[ratio_to_use];
      this.x.domain(this.current_ids);
      var min_serie = d3.min(this.data, function (d) {
        return d[ratio_to_use];
      });
      min_serie = min_serie >= 0 ? 0 : min_serie + min_serie / 10;
      var max_serie = d3.max(this.data, function (d) {
        return d[ratio_to_use];
      });
      // const offset_y = (max_serie - min_serie) / 20;
      this.y.domain([
      // min_serie - offset_y, max_serie,
      min_serie, max_serie]);
      this.x2.domain(this.x.domain());
      this.y2.domain(this.y.domain());
      this.updateMeanValue();
      this.update();
      this.updateContext(0, this.data.length);

      svg_bar.select('.brush_bottom').call(this.brush_bottom.move, this.x2.range());
      this.map_elem.removeRectBrush();
      app.colors = {};
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateTableStats();
      this.updateCompletude();
      this.updateMapRegio();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable) {
      var _this8 = this;

      // Fetch the unit for this indicator:
      var _variables_info$find = variables_info.find(function (d) {
        return d.id === code_variable;
      }),
          name = _variables_info$find.name,
          unit = _variables_info$find.unit;

      var year = name.match(/\([^)]*\)$/)[0];
      var unit_year = '' + year.slice(0, 1) + unit + ', ' + year.slice(1, 6);
      var name_var = name.replace(year, unit_year);
      // Add the variable to the input element allowing to choose variables:
      this.items_menu.push({
        name: name_var,
        code: code_variable,
        action: function action() {
          _this8.changeVariable(code_variable, name_var);
          _this8.changeStudyZone();
          _this8.updateCompletude();
        }
      });
      // And use it immediatly:
      this.items_menu[this.items_menu.length - 1].action();
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      // Remove the variable from the list of items:
      for (var i = this.items_menu.length - 1; i > -1; i--) {
        if (this.items_menu[i].code === code_variable) {
          this.items_menu.splice(i, 1);
          break;
        }
      }
      if (this.ratio_to_use === code_variable) {
        this.items_menu[0].action();
      }
    }
  }, {
    key: 'changeVariable',
    value: function changeVariable(code_variable, name_variable) {
      this.ratio_to_use = code_variable;
      this.unit = variables_info.find(function (ft) {
        return ft.id === code_variable;
      }).unit;
      var content_tooltip = this.serie_inversed ? name_variable + ' (axe invers\xE9)' : name_variable;
      this.title_variable.attr('title-tooltip', content_tooltip).html(name_variable.replace(/\(/, '&&&').split('&&&').join('<br>(') + ' &#x25BE;');
    }
  }, {
    key: 'remove',
    value: function remove() {
      this._focus.remove();
      this.context.remove();
      this.title_variable.remove();
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      d3.select('#svg_bar').text('').html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(0);
    }
  }, {
    key: 'updateTableStats',
    value: function updateTableStats() {
      this.table_stats.removeAll();
      this.table_stats.addFeature(this.prepareTableStat());
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this9 = this;

      var values = this.data.map(function (d) {
        return d[_this9.ratio_to_use];
      });
      return {
        Min: d3.min(values),
        Max: d3.max(values),
        Moy: getMean(values),
        Med: d3.median(values),
        id: this.ratio_to_use,
        Variable: this.ratio_to_use,
        'Ma rÃ©gion': this.ref_value
      };
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var feature = this.prepareTableStat();
      this.table_stats = new TableResumeStat([feature]);
    }
  }, {
    key: 'getHelpMessage',
    value: function getHelpMessage() {
      return '\n<h3>Position \u2013 1 Indicateur</h3>\n\n<b>Aide g\xE9n\xE9rale</b>\nCe graphique repr\xE9sente l\u2019indicateur s\xE9lectionn\xE9 ordonn\xE9 de la valeur minimale \xE0 la valeur maximale (barres bleues) pour l\u2019espace d\u2019\xE9tude et le maillage territorial d\u2019analyse s\xE9lectionn\xE9. La valeur de l\u2019unit\xE9 territoriale s\xE9lectionn\xE9e appara\xEEt en surbrillance (jaune). La ligne repr\xE9sent\xE9e par un tiret\xE9 rouge repr\xE9sente la moyenne de l\u2019espace d\u2019\xE9tude (non pond\xE9r\xE9e).\n\nSur ce graphique, il est possible d\u2019inverser l\u2019ordre de classement de l\u2019indicateur (appuyer sur le \xAB + \xBB).\n\nLa carte et le graphique sont interactifs dans la mesure o\xF9 l\u2019utilisateur peut choisir de s\xE9lectionner des unit\xE9s territoriales (clic gauche appuy\xE9 de la souris) et visualiser leur positionnement simultan\xE9ment sur la carte (localisation g\xE9ographique) ou sur le diagramme de distribution (positionnement statistique). Il peut aussi en un clic choisir de visualiser les unit\xE9s territoriales ayant des valeurs inf\xE9rieures/sup\xE9rieures \xE0 la moyenne de l\u2019espace d\u2019\xE9tude ou inf\xE9rieures/sup\xE9rieures \xE0 la valeur de l\u2019unit\xE9 territoriale de r\xE9f\xE9rence (\xAB ma r\xE9gion \xBB).';
    }
  }, {
    key: 'getTemplateHelp',
    value: function getTemplateHelp() {
      var _this10 = this;

      var _data$map$find = this.data.map(function (d, i) {
        return [d.id, i];
      }).find(function (d) {
        return d[0] === app.current_config.my_region;
      }),
          _data$map$find2 = slicedToArray(_data$map$find, 2),
          my_region = _data$map$find2[0],
          my_rank = _data$map$find2[1];

      var values = this.data.map(function (d) {
        return d[_this10.ratio_to_use];
      }).sort(function (a, b) {
        return a - b;
      });
      var info_var = variables_info.find(function (ft) {
        return ft.id === _this10.ratio_to_use;
      });
      var inf = 0;
      var sup = 0;
      var my_value = this.ref_value;
      values.forEach(function (v) {
        if (v < my_value) {
          inf += 1;
        } else {
          sup += 1;
        }
      });
      // eslint-disable-next-line no-nested-ternary
      var name_study_zone = !app.current_config.filter_key ? 'UE28' : app.current_config.filter_key instanceof Array ? ['RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km'].join('') : study_zones.find(function (d) {
        return d.id === app.current_config.filter_key;
      }).name;
      var help1 = ['<b>Indicateur 1</b> : ' + info_var.name + ' (' + info_var.id + ')<br>\n<b>Maillage territorial d\'analyse</b> : ' + territorial_mesh.find(function (d) {
        return d.id === app.current_config.current_level;
      }).name + '<br>'];
      if (app.current_config.my_category) {
        help1.push('<b>Espace d\'\xE9tude</b> : ' + app.current_config.filter_key + '<br><b>Cat\xE9gorie</b> : ' + app.current_config.my_category);
      } else if (app.current_config.filter_key) {
        help1.push('<b>Espace d\'\xE9tude</b> : UE28 (R\xE9gions dans un voisinage de ' + document.getElementById('dist_filter').value + ' km)');
      } else {
        help1.push( // eslint-disable-next-line quotes
        '<b>Espace d\'\xE9tude</b> : UE28');
      }
      var help2 = '\nL\u2019unit\xE9 territoriale <b>' + app.current_config.my_region_pretty_name + '</b> a une valeur de <b>' + formatNumber(this.ref_value, 1) + ' ' + info_var.unit + '</b> pour l\u2019indicateur <i>' + this.ratio_to_use + '</i>.\nElle se situe  au rang <b>' + my_rank + '</b> de la distribution pour l\u2019espace d\u2019\xE9tude <b>' + name_study_zone + '</b>.\nPour cet indicateur, <b>' + sup + '</b> unit\xE9s territoriales ont une valeur sup\xE9rieures et <b>' + inf + '</b> unit\xE9s territoriales ont une valeur inf\xE9rieure.\nPar ailleurs mon unit\xE9 territoriale se situe <b>' + formatNumber(Math.abs(this.ref_value > this.mean_value ? this.ref_value / this.mean_value : this.mean_value / this.ref_value), 1) + '%</b> ' + (this.ref_value > this.mean_value ? 'au dessus' : 'en-dessous') + ' de la moyenne de l\u2019espace d\u2019\xE9tude (' + formatNumber(this.mean_value, 1) + ' ' + info_var.unit + ').';
      var source = '<b>Indicateur 1</b> : ' + info_var.source + ' (Date de t\xE9l\xE9chargement de la donn\xE9e : ' + info_var.last_update + ')';
      return { section_selection: help1.join(''), section_help: help2, section_source: source };
    }
  }]);
  return BarChart1;
}();

var svg_bar$1 = void 0;
var margin$1 = void 0;
var width$1 = void 0;
var height$1 = void 0;
var svg_container$1 = void 0;
var t$1 = void 0;

var updateDimensions$1 = function updateDimensions() {
  svg_bar$1 = d3.select('svg#svg_bar').on('contextmenu', noContextMenu);
  margin$1 = { top: 20, right: 20, bottom: 40, left: 60 };
  width$1 = fixed_dimension.chart.width - margin$1.left - margin$1.right;
  height$1 = fixed_dimension.chart.height - margin$1.top - margin$1.bottom;
  var width_value = document.getElementById('bar_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.cchart').style('padding-top', fixed_dimension.chart.height / fixed_dimension.chart.width * width_value + 'px');
  svg_container$1 = svg_bar$1.append('g').attr('class', 'container');
};

/** Class representing a scatterplot */

var ScatterPlot2 = function () {
  /**
   * Create a scatterplot on the `svg_bar` svg element previously defined
   * @param {Array} ref_data - A reference to the subset of the dataset to be used
   * to create the scatterplot (should contain at least two fields flagged as ratio
   * in the `app.current_config.ratio` Object).
   */
  function ScatterPlot2(ref_data) {
    var _this = this;

    classCallCheck(this, ScatterPlot2);

    this.brushed = function () {
      if (d3.event && !d3.event.selection) {
        if (d3.event.type === 'end' && d3.event.sourceEvent.type === 'mouseup') {
          _this.map_elem.removeRectBrush();
        }
        app.colors = {};
        app.colors[app.current_config.my_region] = color_highlight;
        _this.updateLight();
        _this.updateMapRegio();
        return;
      }

      resetColors();
      // const self = this;

      var _d3$event$selection = slicedToArray(d3.event.selection, 2),
          topleft = _d3$event$selection[0],
          bottomright = _d3$event$selection[1];

      var range_x = [_this.x.invert(topleft[0]), _this.x.invert(bottomright[0])];
      var range_y = [_this.y.invert(bottomright[1]), _this.y.invert(topleft[1])];
      if (_this.xInversed) range_x.reverse();
      if (_this.yInversed) range_y.reverse();
      range_x[0] -= 0.5;
      range_x[1] += 0.5;
      range_y[0] -= 0.5;
      range_y[1] += 0.5;
      var t1 = void 0;
      var t2 = void 0;
      if (_this.type === 'value') {
        t1 = _this.variable1;
        t2 = _this.variable2;
      } else {
        t1 = _this.rank_variable1;
        t2 = _this.rank_variable2;
      }

      for (var i = 0, len_i = _this.data.length; i < len_i; i++) {
        var ft = _this.data[i];
        if (ft[t1] >= range_x[0] && ft[t1] <= range_x[1] && ft[t2] >= range_y[0] && ft[t2] <= range_y[1]) {
          app.colors[ft.id] = comp2(ft[_this.variable1], ft[_this.variable2], _this.ref_value1, _this.ref_value2, _this.xInversed, _this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      _this.updateLight();
      _this.updateMapRegio();
      _this.map_elem.removeRectBrush();
    };
    updateDimensions$1();
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 2;
    var self = this;
    this.type = 'value';
    this.variable1 = app.current_config.ratio[0];
    this.variable2 = app.current_config.ratio[1];
    this.rank_variable1 = 'pr_' + this.variable1;
    this.rank_variable2 = 'pr_' + this.variable2;
    this.unit1 = variables_info.find(function (ft) {
      return ft.id === _this.variable1;
    }).unit;
    this.unit2 = variables_info.find(function (ft) {
      return ft.id === _this.variable2;
    }).unit;
    this.pretty_name1 = app.current_config.ratio_pretty_name[0];
    this.pretty_name2 = app.current_config.ratio_pretty_name[1];
    this.data = ref_data.filter(function (ft) {
      return !!ft[_this.variable1] && !!ft[_this.variable2];
    }).map(function (d) {
      var res = { id: d.id, name: d.name };
      res[_this.variable1] = d[_this.variable1];
      res[_this.variable2] = d[_this.variable2];
      return res;
    });
    var tmp_my_region = this.data.splice(this.data.findIndex(function (d) {
      return d.id === app.current_config.my_region;
    }), 1)[0];
    this.data.push(tmp_my_region);
    this.current_ids = this.data.map(function (d) {
      return d.id;
    });
    resetColors(this.current_ids);
    this.nbFt = this.data.length;
    computePercentileRank(this.data, this.variable1, this.rank_variable1);
    computePercentileRank(this.data, this.variable2, this.rank_variable2);

    this.x = d3.scaleLinear().range([0, width$1]).nice();
    this.y = d3.scaleLinear().range([height$1, 0]).nice();

    this.xAxis = d3.axisBottom(this.x).ticks(this.mean_variable1 >= 10000 ? 5 : 10).tickFormat(formatNumber);
    this.yAxis = d3.axisLeft(this.y).ticks(10 * height$1 / width$1).tickFormat(formatNumber);
    this.xAxis2 = d3.axisBottom(this.x).ticks(this.mean_variable1 >= 10000 ? 5 : 10).tickFormat(formatNumber);
    this.yAxis2 = d3.axisLeft(this.y).ticks(10 * height$1 / width$1).tickFormat(formatNumber);

    this.brush = d3.brush().extent([[0, 0], [width$1, height$1]]).on('brush end', this.brushed);

    this.xInversed = false;
    this.yInversed = false;
    this.ref_value1 = tmp_my_region[this.variable1];
    this.ref_value2 = tmp_my_region[this.variable2];

    this.plot = svg_container$1.append('g').attr('transform', 'translate(' + [margin$1.left, margin$1.top] + ')');

    this.plot.append('defs').append('svg:clipPath').attr('id', 'clip').append('svg:rect').attrs({
      width: width$1,
      height: height$1,
      x: 0,
      y: 0
    });

    this.scatter = this.plot.append('g').attrs({
      id: 'scatterplot',
      'clip-path': 'url(#clip)'
    });

    this.scatter.append('g').attr('class', 'brush').call(this.brush);

    this.makeGrid();

    var groupe_line_mean = this.plot.append('g').attrs({
      class: 'mean',
      'clip-path': 'url(#clip)'
    });

    // The actual red line for mean value on X axis:
    groupe_line_mean.append('line').attrs({
      id: 'mean_x',
      class: 'mean_line',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$1,
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px',
      'clip-path': 'url(#clip)'
    }).style('stroke', 'red');

    // Transparent line with a larger width (to access more easily the tooltip)
    // for mean value on X axis:
    groupe_line_mean.append('line').attrs({
      id: 'mean_x',
      class: 'transp_mean_line',
      x1: this.x(this.mean_variable1),
      x2: this.x(this.mean_variable1),
      y1: 0,
      y2: width$1,
      'stroke-width': '14px'
    }).style('stroke', 'transparent').on('mouseover', function () {
      clearTimeout(t$1);
      t$1 = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
    }).on('mouseout', function () {
      clearTimeout(t$1);
      t$1 = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
    }).on('mousemove mousedown', function () {
      clearTimeout(t$1);
      if (self.type === 'value') {
        var content = ['Moyenne de l\'espace d\'Ã©tude'];
        var _h = 65;
        if (app.current_config.my_category) {
          content.push('<br>', ' (', app.current_config.my_category, ')');
          _h += 20;
        } else if (app.current_config.filter_key) {
          content.push('<br>', ' (RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km)');
          _h += 20;
        }
        self.tooltip.select('.title').attr('class', 'title red').html(content.join(''));
        self.tooltip.select('.content').html(['Valeur (' + _this.variable1 + '): ', formatNumber(_this.mean_variable1, 1), ' ', self.unit1].join(''));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - _h + 'px'
        });
      } else if (self.type === 'rank') {
        var _content = ['MÃ©diane de l\'espace d\'Ã©tude'];
        var _h2 = 65;
        if (app.current_config.my_category) {
          _content.push('<br>', ' (', app.current_config.my_category, ')');
          _h2 += 20;
        } else if (app.current_config.filter_key) {
          _content.push('<br>', ' (RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km)');
          _h2 += 20;
        }
        self.tooltip.select('.title').attr('class', 'title red').html(_content.join(''));
        self.tooltip.select('.content').html(['Valeur (' + _this.variable1 + '): ', formatNumber(_this.mean_variable1, 1)].join(''));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - _h2 + 'px'
        });
      }
    });

    // The actual red line for mean value on Y axis:
    groupe_line_mean.append('line').style('stroke', 'red').attrs({
      id: 'mean_y',
      class: 'mean_line',
      x1: 0,
      x2: width$1,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'clip-path': 'url(#clip)',
      'stroke-dasharray': '10, 5',
      'stroke-width': '2px'
    });

    // Transparent line with a larger width (to access more easily the tooltip)
    // for mean value on Y axis:
    groupe_line_mean.append('line').style('stroke', 'transparent').attrs({
      id: 'mean_y',
      class: 'transp_mean_line',
      x1: 0,
      x2: width$1,
      y1: this.y(this.mean_variable2),
      y2: this.y(this.mean_variable2),
      'stroke-width': '14px'
    }).on('mouseover', function () {
      clearTimeout(t$1);
      t$1 = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
      // this.tooltip.style('display', 'none').select('.title').attr('class', 'title red');
    }).on('mouseout', function () {
      clearTimeout(t$1);
      t$1 = setTimeout(function () {
        _this.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
      }, 250);
    }).on('mousemove mousedown', function () {
      clearTimeout(t$1);
      if (self.type === 'value') {
        var content = ['Moyenne de l\'espace d\'Ã©tude'];
        var _h = 65;
        if (app.current_config.my_category) {
          content.push('<br>', ' (', app.current_config.my_category, ')');
          _h += 20;
        } else if (app.current_config.filter_key) {
          content.push('<br>', ' (RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km)');
          _h += 20;
        }
        self.tooltip.select('.title').attr('class', 'title red').html(content.join(''));
        self.tooltip.select('.content').html(['Valeur (' + _this.variable2 + '): ', formatNumber(_this.mean_variable2, 1), ' ', self.unit2].join(''));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - _h + 'px'
        });
      } else if (self.type === 'rank') {
        var _content2 = ['MÃ©diane de l\'espace d\'Ã©tude'];
        var _h3 = 65;
        if (app.current_config.my_category) {
          _content2.push('<br>', ' (', app.current_config.my_category, ')');
          _h3 += 20;
        } else if (app.current_config.filter_key) {
          _content2.push('<br>', ' (RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km)');
          _h3 += 20;
        }
        self.tooltip.select('.title').attr('class', 'title red').html(_content2.join(''));
        self.tooltip.select('.content').html(['Valeur (' + _this.variable2 + '): ', formatNumber(_this.mean_variable2, 1)].join(''));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - _h3 + 'px'
        });
      }
    });

    this.plot.append('g').attrs({
      class: 'x axis', id: 'axis--x', transform: 'translate(0, ' + height$1 + ')'
    }).call(this.xAxis.ticks(this.mean_variable1 >= 10000 ? 5 : 10));

    this.plot.append('g').attrs({ class: 'y axis', id: 'axis--y', opacity: 0.9 }).call(this.yAxis);

    // Prepare the tooltip displayed on mouseover:
    this.tooltip = prepareTooltip2(d3.select(svg_bar$1.node().parentElement), null);

    this.prepareTitleAxis();

    svg_container$1.append('image').attrs({
      x: margin$1.left + width$1 / 2 - 20 - svg_container$1.select('#title-axis-x').node().getBoundingClientRect().width / 2,
      y: margin$1.top + height$1 + margin$1.bottom / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_x',
      title: 'Inverser l\'ordre de classement de l\'indicateur'
    }).style('cursor', 'pointer').on('click', function () {
      if (!self.xInversed) {
        self.xInversed = true;
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_moins.png');
        svg_container$1.select('#title-axis-x').attr('title-tooltip', self.pretty_name1 + ' (axe invers\xE9)').style('fill', 'red');
      } else {
        self.xInversed = false;
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_plus.png');
        svg_container$1.select('#title-axis-x').attr('title-tooltip', self.pretty_name1 + ')').style('fill', 'black');
      }
      if (self.last_map_selection) {
        self.map_elem.callBrush(self.last_map_selection);
      } else {
        self.update();
      }
    });

    svg_container$1.append('image').attrs({
      x: margin$1.left / 3 - 20,
      y: margin$1.top + height$1 / 2 + svg_container$1.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5,
      width: 15,
      height: 15,
      'xlink:href': 'img/reverse_plus.png',
      id: 'img_reverse_y',
      title: 'Inverser l\'ordre de classement de l\'indicateur'
    }).style('cursor', 'pointer').on('click', function () {
      if (!self.yInversed) {
        self.yInversed = true;
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_moins.png');
        svg_container$1.select('#title-axis-y').attr('title-tooltip', self.pretty_name2 + ' (axe invers\xE9)').style('fill', 'red');
      } else {
        self.yInversed = false;
        this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_plus.png');
        svg_container$1.select('#title-axis-y').attr('title-tooltip', '' + self.pretty_name2).style('fill', 'black');
      }
      if (self.last_map_selection) {
        self.map_elem.callBrush(self.last_map_selection);
      } else {
        self.update();
      }
    });

    this.completude = new CompletudeSection();
    this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.variable1, this.variable2]));

    // // Deactivate the rect brush selection on the map
    // // while the user press the Ctrl key:
    // document.onkeydown = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', 'none');
    //   }
    // };
    // // Reactivate the rect brush selection on the map
    // // when the user doesn't press the Ctrl key anymore
    // document.onkeyup = (event) => {
    //   if (event && event.key === 'Control') {
    //     svg_map.select('.brush_map')
    //       .selectAll('.selection, .overlay')
    //       .style('display', null);
    //   }
    // };

    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ position: 'relative', 'text-align': 'center' });

    var chart_type = menu_selection.append('p');

    chart_type.append('span').attrs({
      id: 'ind_raw_values',
      class: 'choice_ind active noselect'
    }).text('Valeurs brutes');

    chart_type.append('span').attrs({
      id: 'ind_ranks',
      class: 'choice_ind noselect'
    }).text('Rangs normalisÃ©s');

    menu_selection.append('p').attr('id', 'selection_subtitle').styles({ margin: '10px 0px 2px 0px' }).html('Sur les deux indicateurs, sÃ©lection des rÃ©gions ayant des valeurs...');

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_above_mean' }).text('infÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMean();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_above_my_region' }).text('infÃ©rieurs Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectBelowMyRegion();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_below_mean' }).text('supÃ©rieures Ã  la moyenne').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMean();
    });

    menu_selection.append('div').attr('class', 'cont_btn').append('button').attrs({ class: 'button_blue', id: 'btn_below_my_region' }).text('supÃ©rieures Ã  ma rÃ©gion').on('click', function () {
      menu_selection.selectAll('button').attr('class', 'button_blue');
      this.classList.add('pressed');
      self.selectAboveMyRegion();
    });

    this.bindMenu();
    // this.update();
    this.makeTableStat();
  }

  /**
   * Create the underlying grey grid
   */


  createClass(ScatterPlot2, [{
    key: 'makeGrid',
    value: function makeGrid() {
      this.plot.insert('g', '#scatterplot').attrs({
        class: 'grid grid-x', transform: 'translate(0, ' + height$1 + ')'
      }).call(this.xAxis2.ticks(this.mean_variable1 >= 10000 ? 5 : 10).tickSize(-height$1).tickFormat(''));
      this.plot.insert('g', '#scatterplot').attr('class', 'grid grid-y').call(this.yAxis2.tickSize(-width$1).tickFormat(''));
    }

    /**
    * Update both axis and grid.
    */

  }, {
    key: 'updateAxisGrid',
    value: function updateAxisGrid() {
      this.plot.select('.grid-x').transition().duration(125).call(this.xAxis2.ticks(this.mean_variable1 >= 10000 ? 5 : 10).tickSize(-height$1).tickFormat(''));
      this.plot.select('.grid-y').transition().duration(125).call(this.yAxis2.tickSize(-width$1).tickFormat(''));
      this.plot.select('#axis--x').transition().duration(125).call(this.xAxis.ticks(this.mean_variable1 >= 10000 ? 5 : 10));
      this.plot.select('#axis--y').transition().duration(125).call(this.yAxis);
      this.plot.selectAll('.grid').selectAll('line').attr('stroke', 'lightgray');
    }

    /**
     * Create the title of the X and Y axis with the associated context menu
     * displayed when they are clicked and allowing to select an other variable
     * for this axis.
     */

  }, {
    key: 'prepareTitleAxis',
    value: function prepareTitleAxis() {
      var _this2 = this;

      var self = this;
      this.menuX = new contextMenu();
      this.menuY = new contextMenu();
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this2.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this2.changeVariableY(elem);
          }
        };
      });

      svg_container$1.append('text').attrs({
        id: 'title-axis-x',
        class: 'title-axis noselect',
        x: margin$1.left + width$1 / 2,
        y: margin$1.top + height$1 + margin$1.bottom / 2 + 15,
        'title-tooltip': this.pretty_name1
      }).html(this.variable1 + '  &#x25BE;').on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuY.displayed) {
          self.menuY.hideMenu();
        }
        self.menuX.showMenu(d3.event, document.body, self.itemsX, [bbox.left - 20, bbox.top + 20]);
      });

      svg_container$1.append('text').attrs({
        id: 'title-axis-y',
        class: 'title-axis noselect',
        x: margin$1.left / 3,
        y: margin$1.top + height$1 / 2 - 10,
        transform: 'rotate(-90, ' + margin$1.left / 3 + ', ' + (margin$1.top + height$1 / 2) + ')',
        'title-tooltip': this.pretty_name2
      }).html(this.variable2 + '  &#x25BE;').on('click', function () {
        var bbox = this.getBoundingClientRect();
        if (self.menuX.displayed) {
          self.menuX.hideMenu();
        }
        self.menuY.showMenu(d3.event, document.body, self.itemsY, [bbox.left, bbox.bottom + 10]);
      });
    }

    /**
    * Recolor the dots without calling the `update` method.
    */

  }, {
    key: 'updateLight',
    value: function updateLight() {
      var default_color = 'gray';
      this.scatter.selectAll('.dot').transition().duration(125).styles(function (d) {
        return {
          fill: app.colors[d.id] || default_color,
          stroke: app.colors[d.id] ? 'rgb(97, 97, 97)' : 'rgb(206, 206, 206)'
        };
      });
    }

    /**
    * Redraw the scatterplot.
    */

  }, {
    key: 'update',
    value: function update() {
      var self = this;
      var data = self.data;
      var dots = this.scatter.selectAll('.dot').data(data, function (d) {
        return d.id;
      });
      var _trans = dots.transition().duration(100);
      if (this.type === 'rank') {
        var rank_variable1 = this.rank_variable1;
        var rank_variable2 = this.rank_variable2;
        var range_x = this.xInversed ? [101, -1] : [-1, 101];
        var range_y = this.yInversed ? [101, -1] : [-1, 101];

        this.x.domain(range_x);
        this.y.domain(range_y);
        this.mean_variable1 = 50;
        this.mean_variable2 = 50;

        var x = this.x;
        var y = this.y;
        var default_color = 'gray';

        dots.transition(_trans).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color,
            stroke: app.colors[d.id] ? 'rgb(97, 97, 97)' : 'rgb(206, 206, 206)'
          };
        }).on('end', function () {
          self.bindTooltips(true);
          dots.exit().remove();
          dots.order();
        });

        dots.enter().append('circle').styles(function (d) {
          return {
            fill: app.colors[d.id] || default_color,
            stroke: app.colors[d.id] ? 'rgb(97, 97, 97)' : 'rgb(206, 206, 206)'
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: x(d[rank_variable1]),
            cy: y(d[rank_variable2]),
            class: 'dot'
          };
        });
      } else if (this.type === 'value') {
        var variable1 = this.variable1;
        var variable2 = this.variable2;
        var serie_x = data.map(function (d) {
          return d[variable1];
        });
        var serie_y = data.map(function (d) {
          return d[variable2];
        });

        var _range_x = this.xInversed ? d3.extent(serie_x).reverse() : d3.extent(serie_x);
        var _range_y = this.yInversed ? d3.extent(serie_y).reverse() : d3.extent(serie_y);

        this.x.domain(_range_x).nice();
        this.y.domain(_range_y).nice();
        this.mean_variable1 = getMean(serie_x);
        this.mean_variable2 = getMean(serie_y);

        var _x = this.x;
        var _y = this.y;
        var _default_color = 'gray';

        dots.transition(_trans).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color,
            stroke: app.colors[d.id] ? 'rgb(97, 97, 97)' : 'rgb(206, 206, 206)'
          };
        }).on('end', function () {
          self.bindTooltips(false);
          dots.exit().remove();
          dots.order();
        });

        dots.enter().append('circle').styles(function (d) {
          return {
            fill: app.colors[d.id] || _default_color,
            stroke: app.colors[d.id] ? 'rgb(97, 97, 97)' : 'rgb(206, 206, 206)'
          };
        }).attrs(function (d) {
          return {
            r: 5,
            cx: _x(d[variable1]),
            cy: _y(d[variable2]),
            class: 'dot'
          };
        });
      }
      self.bindTooltips(false);
      dots.exit().remove();
      dots.order();
      this.updateMeanMedianValue();
      this.updateAxisGrid();
    }

    /**
    * Update the completness value (displayed on the top of the map),
    * computed for the current study area and the two displayed variables.
    */

  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, [this.variable1, this.variable2], 'array'), calcPopCompletudeSubset(app, [this.variable1, this.variable2]));
    }

    /**
    * Update the map linked to this chart to sync the colors in use.
    */

  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this3 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        return _this3.current_ids.indexOf(d.id) > -1 ? app.colors[d.id] || color_countries : color_disabled;
      });
    }

    /**
    * Handle a brush event on the map and recolor the appropriate features
    * on the scatterplot.
    */

  }, {
    key: 'handle_brush_map',
    value: function handle_brush_map(event) {
      if (!event || !event.selection) {
        this.last_map_selection = undefined;
        return;
      }
      this.map_elem.tooltip.style('display', 'none');
      svg_container$1.select('.brush').call(this.brush.move, null);
      var self = this;

      var _event$selection = slicedToArray(event.selection, 2),
          topleft = _event$selection[0],
          bottomright = _event$selection[1];

      this.last_map_selection = [topleft, bottomright];
      var rect = new Rect(topleft, bottomright);
      app.colors = {};
      self.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var id = d.id;
        if (id === app.current_config.my_region) {
          app.colors[id] = color_highlight;
          return color_highlight;
        } else if (self.current_ids.indexOf(id) < 0) {
          return color_disabled;
        }
        if (!this._pts) {
          this._pts = svgPathToCoords(this.getAttribute('d'), app.type_path);
        }
        var pts = this._pts;
        for (var ix = 0, nb_pts = pts.length; ix < nb_pts; ix++) {
          if (rect.contains(pts[ix])) {
            var value1 = d.properties[self.variable1];
            var value2 = d.properties[self.variable2];
            var color = comp2(value1, value2, self.ref_value1, self.ref_value2, self.xInversed, self.yInversed);
            app.colors[id] = color;
            return color;
          }
        }
        return color_countries;
      });
      self.updateLight();
    }

    /**
    * Binds the tooltip on the new/updated dots.
    */

  }, {
    key: 'bindTooltips',
    value: function bindTooltips(with_rank) {
      var _this4 = this;

      var self = this;
      this.scatter.selectAll('.dot').on('mouseover.tooltip', function () {
        clearTimeout(t$1);
        t$1 = setTimeout(function () {
          _this4.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
        }, 250);
        // clearTimeout(t);
        // self.tooltip.style('display', null).select('.title').attr('class', 'title');
      }).on('mousemove.tooltip', function (d) {
        clearTimeout(t$1);
        self.tooltip.select('.title').attr('class', d.id === app.current_config.my_region ? 'title myRegion' : 'title').html([d.name, ' (', d.id, ')'].join(''));
        var yoffset = void 0;
        if (with_rank) {
          self.tooltip.select('.content').html([self.variable1 + ' (rang) : ' + formatNumber(d[self.rank_variable1], 1) + '/100', self.variable1 + ' (valeur) : ' + formatNumber(d[self.variable1], 1) + ' ' + self.unit1, self.variable2 + ' (rang) : ' + formatNumber(d[self.rank_variable2], 1) + '/100', self.variable2 + ' (valeur) : ' + formatNumber(d[self.variable2], 1) + ' ' + self.unit2].join('<br>'));
          yoffset = 120;
        } else {
          self.tooltip.select('.content').html([self.variable1 + ' (valeur) : ' + formatNumber(d[self.variable1], 1) + ' ' + self.unit1, self.variable2 + ' (valeur) : ' + formatNumber(d[self.variable2], 1) + ' ' + self.unit2].join('<br>'));
          yoffset = 85;
        }
        // const b = self.tooltip.node().getBoundingClientRect();
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - yoffset + 'px' });
      }).on('mouseout.tooltip', function () {
        clearTimeout(t$1);
        t$1 = setTimeout(function () {
          _this4.tooltip.style('display', 'none').select('.title').attr('class', 'title').html('');
        }, 250);
      });
    }

    /**
    * Handle a click on the map, used for selecting features.
    */

  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        var value1 = d.properties[this.variable1];
        var value2 = d.properties[this.variable2];
        var color = comp2(value1, value2, this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        app.colors[id] = color;
        // Change the color on the map:
        d3.select(parent).attr('fill', color);
        // Add the clicked feature on the colored selection on the chart:
      }
      this.updateLight();
    }

    /**
    * Update the line created for the mean or median value (after changing the variables in user_data
    * or after changing the kind of chart between 'rank' and 'raw values').
    */

  }, {
    key: 'updateMeanMedianValue',
    value: function updateMeanMedianValue() {
      var _this5 = this;

      if (this.type === 'value') {
        this.mean_variable1 = getMean(this.data.map(function (d) {
          return d[_this5.variable1];
        }));
        this.mean_variable2 = getMean(this.data.map(function (d) {
          return d[_this5.variable2];
        }));
      } else if (this.type === 'rank') {
        // this.mean_variable1 = _getPR(
        //   getMean(this.data.map(d => d[this.variable1])), this.data.map(d => d[this.variable1]));
        // this.mean_variable2 = _getPR(
        //   getMean(this.data.map(d => d[this.variable2])), this.data.map(d => d[this.variable2]));
        this.mean_variable1 = 50;
        this.mean_variable2 = 50;
      }
      var grp_mean = this.plot.select('g.mean');
      grp_mean.selectAll('#mean_x.mean_line, #mean_x.transp_mean_line').transition().duration(125).attrs({
        x1: this.x(this.mean_variable1),
        x2: this.x(this.mean_variable1)
      });
      grp_mean.selectAll('#mean_y.mean_line, #mean_y.transp_mean_line').transition().duration(125).attrs({
        y1: this.y(this.mean_variable2),
        y2: this.y(this.mean_variable2)
      });
    }

    /**
    * Action triggered when the user change the reference region ("Ma rÃ©gion").
    */

  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        var tmp_my_region = this.data.splice(this.data.findIndex(function (d) {
          return d.id === app.current_config.my_region;
        }), 1)[0];
        this.data.push(tmp_my_region);
        this.ref_value1 = tmp_my_region[this.variable1];
        this.ref_value2 = tmp_my_region[this.variable2];
        this.map_elem.removeRectBrush();
        this.map_elem.updateLegend();
        this.map_elem.resetColors(this.current_ids);
        this.update();
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this6 = this;

      // Fetch the new data subset for this study zone and theses variables:
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this6.variable1] && !!ft[_this6.variable2];
      }).map(function (d) {
        var res = { id: d.id, name: d.name };
        res[_this6.variable1] = d[_this6.variable1];
        res[_this6.variable2] = d[_this6.variable2];
        return res;
      });
      console.log(this.data);
      // Put "my region" at the end of the serie so it will be displayed on
      // the top of the chart:
      var tmp_my_region = this.data.splice(this.data.findIndex(function (d) {
        return d.id === app.current_config.my_region;
      }), 1)[0];
      this.data.push(tmp_my_region);

      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);

      // Reset the axis orientation:
      this.xInversed = false;
      this.yInversed = false;

      // Store the value of my region for the two selected variables:
      this.ref_value1 = tmp_my_region[this.variable1];
      this.ref_value2 = tmp_my_region[this.variable2];

      this.map_elem.removeRectBrush();
      this.updateItemsCtxMenu();
      this.updateMapRegio();
      this.updateTableStat();
      this.updateCompletude();
      this.update();
    }
  }, {
    key: 'changeVariableX',
    value: function changeVariableX(code_variable) {
      var _this7 = this;

      this.variable1 = code_variable;
      this.rank_variable1 = 'pr_' + this.variable1;
      var var_info = variables_info.find(function (ft) {
        return ft.id === code_variable;
      });
      this.pretty_name1 = var_info.name;
      this.unit1 = var_info.unit;
      // Update the name of the axis and the tooltip value:
      var title_axis = svg_container$1.select('#title-axis-x').attr('title-tooltip', this.pretty_name1).html(code_variable + ' &#x25BE;');
      // Update the position of the reverse button:
      svg_container$1.select('#img_reverse_x').attrs({
        x: title_axis.attr('x') - title_axis.node().getBoundingClientRect().width / 2 - 20,
        y: margin$1.top + height$1 + margin$1.bottom / 2 + 5
      });
      // Update the items displayed in the context menu under this axis label:
      this.updateItemsCtxMenu();
      // Filter the data to only keep data in which we are interested:
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this7.variable1] && !!ft[_this7.variable2];
      }).map(function (d) {
        var res = { id: d.id, name: d.name };
        res[_this7.variable1] = d[_this7.variable1];
        res[_this7.variable2] = d[_this7.variable2];
        return res;
      });
      // Append my region at the end of the array:
      var tmp_my_region = this.data.splice(this.data.findIndex(function (d) {
        return d.id === app.current_config.my_region;
      }), 1)[0];
      this.data.push(tmp_my_region);

      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value1 = tmp_my_region[this.variable1];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'changeVariableY',
    value: function changeVariableY(code_variable) {
      var _this8 = this;

      this.variable2 = code_variable;
      this.rank_variable2 = 'pr_' + this.variable2;
      var var_info = variables_info.find(function (ft) {
        return ft.id === code_variable;
      });
      this.pretty_name2 = var_info.name;
      this.unit2 = var_info.unit;
      // Update the name of the axis and the tooltip value:
      svg_container$1.select('#title-axis-y').attr('title-tooltip', this.pretty_name2).html(code_variable + ' &#x25BE;');
      // Update the position of the reverse button:
      svg_container$1.select('#img_reverse_y').attrs({
        x: margin$1.left / 3 - 20,
        y: margin$1.top + height$1 / 2 + svg_container$1.select('#title-axis-y').node().getBoundingClientRect().height / 2 + 5
      });
      // Update the items displayed in the context menu under this axis label:
      this.updateItemsCtxMenu();
      // Filter the data to only keep data in which we are interested:
      this.data = app.current_data.filter(function (ft) {
        return !!ft[_this8.variable1] && !!ft[_this8.variable2];
      }).map(function (d) {
        var res = { id: d.id, name: d.name };
        res[_this8.variable1] = d[_this8.variable1];
        res[_this8.variable2] = d[_this8.variable2];
        return res;
      });
      // Append my region at the end of the array:
      var tmp_my_region = this.data.splice(this.data.findIndex(function (d) {
        return d.id === app.current_config.my_region;
      }), 1)[0];
      this.data.push(tmp_my_region);

      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      resetColors();
      this.nbFt = this.data.length;
      computePercentileRank(this.data, this.variable1, this.rank_variable1);
      computePercentileRank(this.data, this.variable2, this.rank_variable2);
      this.ref_value2 = tmp_my_region[this.variable2];
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.update();
    }
  }, {
    key: 'updateItemsCtxMenu',
    value: function updateItemsCtxMenu() {
      var _this9 = this;

      // Use all the variables selected in the left menu to fill the two context menu:
      this.itemsX = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable2;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableX(elem);
          }
        };
      });
      this.itemsY = app.current_config.ratio.filter(function (elem) {
        return elem !== _this9.variable1;
      }).map(function (elem) {
        return {
          name: elem,
          action: function action() {
            return _this9.changeVariableY(elem);
          }
        };
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable) {
      var _this10 = this;

      // When the user select a new variable on the left menu, the variable name is added
      // in the context menu of X and Y axis but the plot stay the same:
      this.itemsX.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableX(code_variable);
        }
      });
      this.itemsY.push({
        name: code_variable,
        action: function action() {
          return _this10.changeVariableY(code_variable);
        }
      });
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this11 = this;

      // Remove the variable from the X and Y list of items:
      for (var i = this.itemsX.length - 1; i > -1; i--) {
        if (this.itemsX[i].name === code_variable) {
          this.itemsX.splice(i, 1);
          break;
        }
      }
      for (var _i = this.itemsY.length - 1; _i > -1; _i--) {
        if (this.itemsY[_i].name === code_variable) {
          this.itemsY.splice(_i, 1);
          break;
        }
      }

      // If the variable to remove was currently used for drawing this chart,
      // set a new variable for this axis and redraw the chart:
      if (code_variable === this.variable1) {
        var new_var_x = this.itemsX.filter(function (ft) {
          return ft.name !== _this11.variable2;
        })[0].name;
        this.changeVariableX(new_var_x);
      } else if (code_variable === this.variable2) {
        var new_var_y = this.itemsY.filter(function (ft) {
          return ft.name !== _this11.variable1;
        })[0].name;
        this.changeVariableY(new_var_y);
      }
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      svg_bar$1.text('').html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.displayLegend(1);
      this.updateMapRegio();
      this.update();
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');

      menu.select('#ind_raw_values').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'value';
        this.classList.add('active');
        menu.select('#ind_ranks').attr('class', 'choice_ind noselect');
        menu.select('#btn_above_mean').text('infÃ©rieures Ã  la moyenne');
        menu.select('#btn_below_mean').text('supÃ©rieures Ã  la moyenne');
        self.update();
      });

      menu.select('#ind_ranks').on('click', function () {
        if (this.classList.contains('active')) {
          return;
        }
        self.type = 'rank';
        this.classList.add('active');
        menu.select('#ind_raw_values').attr('class', 'choice_ind noselect');
        menu.select('#btn_above_mean').text('infÃ©rieures Ã  la mÃ©diane');
        menu.select('#btn_below_mean').text('supÃ©rieures Ã  la mÃ©diane');
        self.update();
      });
    }
  }, {
    key: 'selectBelowMean',
    value: function selectBelowMean() {
      var _this12 = this;

      var mean1 = this.type === 'rank' ? 50 : getMean(this.data.map(function (ft) {
        return ft[_this12.variable1];
      }));
      var mean2 = this.type === 'rank' ? 50 : getMean(this.data.map(function (ft) {
        return ft[_this12.variable2];
      }));
      var v1 = this.type === 'rank' ? this.rank_variable1 : this.variable1;
      var v2 = this.type === 'rank' ? this.rank_variable2 : this.variable2;

      svg_container$1.select('.brush').call(this.brush.move, null);
      app.colors = {};
      for (var i = 0, len_i = this.data.length; i < len_i; i++) {
        var ft = this.data[i];
        if (ft[v1] < mean1 && ft[v2] < mean2) {
          app.colors[ft.id] = comp2(ft[v1], ft[v2], this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateLight();
      this.updateMapRegio();
      this.map_elem.removeRectBrush();
    }
  }, {
    key: 'selectBelowMyRegion',
    value: function selectBelowMyRegion() {
      svg_container$1.select('.brush').call(this.brush.move, null);
      app.colors = {};
      for (var i = 0, len_i = this.data.length; i < len_i; i++) {
        var ft = this.data[i];
        if (ft[this.variable1] <= this.ref_value1 && ft[this.variable2] <= this.ref_value2) {
          app.colors[ft.id] = comp2(ft[this.variable1], ft[this.variable2], this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateLight();
      this.updateMapRegio();
      this.map_elem.removeRectBrush();
    }
  }, {
    key: 'selectAboveMean',
    value: function selectAboveMean() {
      var _this13 = this;

      var mean1 = this.type === 'rank' ? 50 : getMean(this.data.map(function (ft) {
        return ft[_this13.variable1];
      }));
      var mean2 = this.type === 'rank' ? 50 : getMean(this.data.map(function (ft) {
        return ft[_this13.variable2];
      }));
      var v1 = this.type === 'rank' ? this.rank_variable1 : this.variable1;
      var v2 = this.type === 'rank' ? this.rank_variable2 : this.variable2;

      svg_container$1.select('.brush').call(this.brush.move, null);
      app.colors = {};
      for (var i = 0, len_i = this.data.length; i < len_i; i++) {
        var ft = this.data[i];
        if (ft[v1] > mean1 && ft[v2] > mean2) {
          app.colors[ft.id] = comp2(ft[v1], ft[v2], this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateLight();
      this.updateMapRegio();
      this.map_elem.removeRectBrush();
    }
  }, {
    key: 'selectAboveMyRegion',
    value: function selectAboveMyRegion() {
      svg_container$1.select('.brush').call(this.brush.move, null);
      app.colors = {};
      for (var i = 0, len_i = this.data.length; i < len_i; i++) {
        var ft = this.data[i];
        if (ft[this.variable1] >= this.ref_value1 && ft[this.variable2] >= this.ref_value2) {
          app.colors[ft.id] = comp2(ft[this.variable1], ft[this.variable2], this.ref_value1, this.ref_value2, this.xInversed, this.yInversed);
        }
      }
      app.colors[app.current_config.my_region] = color_highlight;
      this.updateLight();
      this.updateMapRegio();
      this.map_elem.removeRectBrush();
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this14 = this;

      var values1 = this.data.map(function (d) {
        return d[_this14.variable1];
      });
      var values2 = this.data.map(function (d) {
        return d[_this14.variable2];
      });
      var features = [{
        Min: d3.min(values1),
        Max: d3.max(values1),
        Moy: getMean(values1),
        Med: d3.median(values1),
        id: this.variable1,
        Variable: this.variable1,
        'Ma rÃ©gion': this.ref_value1
      }, {
        Min: d3.min(values2),
        Max: d3.max(values2),
        Moy: getMean(values2),
        Med: d3.median(values2),
        id: this.variable2,
        Variable: this.variable2,
        'Ma rÃ©gion': this.ref_value2
      }];
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }

    // eslint-disable-next-line class-methods-use-this

  }, {
    key: 'getHelpMessage',
    value: function getHelpMessage() {
      return '\n<h3>Position  - 2 indicateurs</h3>\n\n<b>Aide g\xE9n\xE9rale</b>\nCe graphique bidimensionnel repr\xE9sente la position de l\u2019unit\xE9 territoriale de r\xE9f\xE9rence sur deux indicateurs pour un espace d\u2019\xE9tude et un maillage territorial d\u2019analyse donn\xE9. La valeur de l\u2019unit\xE9 territoriale de r\xE9f\xE9rence appara\xEEt en surbrillance (jaune). Les lignes repr\xE9sent\xE9es par un tiret\xE9 rouge repr\xE9sentent la moyenne de l\u2019espace d\u2019\xE9tude pour chacun des indicateurs s\xE9lectionn\xE9s (non pond\xE9r\xE9e).\n\nSur le graphique et la carte, les unit\xE9s territoriales qui disposent de valeurs sup\xE9rieures \xE0 la unit\xE9 territoriale de r\xE9f\xE9rence pour les deux indicateurs sont repr\xE9sent\xE9es en vert. Les unit\xE9s territoriales caract\xE9ris\xE9es par des valeurs inf\xE9rieures \xE0 l\u2019unit\xE9 territoriale de r\xE9f\xE9rence pour les deux indicateurs sont repr\xE9sent\xE9es en rouge. Celles qui sont sup\xE9rieures pour l\u2019indicateur repr\xE9sent\xE9 sur l\u2019axe des abscisses et inf\xE9rieur sur l\u2019axe des ordonn\xE9es sont repr\xE9sent\xE9es en orange ; et violet \xE0 l\u2019inverse. Sur ce graphique, il est possible d\u2019inverser l\u2019ordre de classement de l\u2019indicateur (appuyer sur le \xAB + \xBB) : les valeurs minimales seront alors consid\xE9r\xE9es comme maximale sur l\u2019axe.\n\nPar d\xE9faut, ce graphique est exprim\xE9 dans les valeurs brutes de l\u2019indicateur (pourcentage par exemple). En s\xE9lectionnant l\u2019option \xABvaleurs de rang \xBB, l\u2019indicateur est normalis\xE9 de 0 (valeur minimale) \xE0 100 (valeur maximale). L\u2019utilisation possible de ce type de transformation est la suivante : une unit\xE9 territoriale disposant d\u2019un indice de 67 sur un indicateur signifie que 33 % des unit\xE9s territoriales de l\u2019espace d\u2019\xE9tude sont caract\xE9ris\xE9es par des valeurs sup\xE9rieures \xE0 l\u2019unit\xE9 territoriale de r\xE9f\xE9rence pour les indicateurs s\xE9lectionn\xE9s. Et r\xE9ciproquement. Les valeurs de rang permettent notamment de rendre comparables des unit\xE9s de mesure et des param\xE8tres de dispersion de deux indicateurs. Il ne faut n\xE9anmoins pas omettre que cette transformation nuit \xE0 la restitution de la dispersion statistique effective des indicateurs.';
    }
  }, {
    key: 'getTemplateHelp',
    value: function getTemplateHelp() {
      var _this15 = this;

      // const [my_region, my_rank] = this.data.map((d, i) => [d.id, i])
      //   .find(d => d[0] === app.current_config.my_region);
      var nb_ft = this.data.length;
      var v1 = this.variable1;
      var v2 = this.variable2;
      var info_var1 = variables_info.find(function (ft) {
        return ft.id === v1;
      });
      var info_var2 = variables_info.find(function (ft) {
        return ft.id === v2;
      });
      // const values1 = this.data.map(d => d[v1]).sort((a, b) => a - b);
      // const values2 = this.data.map(d => d[v2]).sort((a, b) => a - b);
      var my_rank1 = this.data.map(function (d) {
        return d[v1];
      }).sort(function (a, b) {
        return a - b;
      }).indexOf(this.ref_value1);
      var my_rank2 = this.data.map(function (d) {
        return d[v2];
      }).sort(function (a, b) {
        return a - b;
      }).indexOf(this.ref_value2);
      var sup_both = 0;
      var inf_both = 0;
      var contrad = 0;
      this.data.forEach(function (o) {
        if (o[v1] > _this15.ref_value1 && o[v2] > _this15.ref_value2) {
          sup_both += 1;
        } else if (o[v1] <= _this15.ref_value1 && o[v2] <= _this15.ref_value2) {
          inf_both += 1;
        } else {
          contrad += 1;
        }
      });
      // eslint-disable-next-line no-nested-ternary
      var name_study_zone = !app.current_config.filter_key ? 'UE28' : app.current_config.filter_key instanceof Array ? ['RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km'].join('') : study_zones.find(function (d) {
        return d.id === app.current_config.filter_key;
      }).name;
      var help1 = ['\n  <b>Indicateur 1</b> : ' + info_var1.name + ' (' + info_var1.id + ')<br>\n  <b>Indicateur 2</b> : ' + info_var2.name + ' (' + info_var2.id + ')<br>\n  <b>Maillage territorial d\'analyse</b> : ' + territorial_mesh.find(function (d) {
        return d.id === app.current_config.current_level;
      }).name + '<br>'];
      if (app.current_config.my_category) {
        help1.push('<b>Espace d\'\xE9tude</b> : ' + app.current_config.filter_key + '<br><b>Cat\xE9gorie</b> : ' + app.current_config.my_category);
      } else if (app.current_config.filter_key) {
        help1.push('<b>Espace d\'\xE9tude</b> : UE28 (R\xE9gions dans un voisinage de ' + document.getElementById('dist_filter').value + ' km)');
      } else {
        help1.push( // eslint-disable-next-line quotes
        '<b>Espace d\'\xE9tude</b> : UE28');
      }

      var help2 = 'L\'unit\xE9 territoriale ' + app.current_config.my_region_pretty_name + ' a une valeur de ' + formatNumber(this.ref_value1, 1) + ' ' + info_var1.unit + ' pour l\u2019indicateur <b>' + this.variable1 + '</b> repr\xE9sent\xE9 sur l\u2019axe des abscisses\net une valeur de ' + formatNumber(this.ref_value2, 1) + ' ' + info_var2.unit + ' pour l\u2019indicateur <b>' + this.variable2 + '</b> repr\xE9sent\xE9 sur l\u2019axe des ordonn\xE9es.\nCela place cette unit\xE9 territoriale de r\xE9f\xE9rence au rang ' + my_rank1 + ' de la distribution pour l\u2019espace d\u2019\xE9tude <b>' + name_study_zone + '</b> pour l\u2019indicateur <b>' + this.pretty_name1 + '</b> ; et au ' + my_rank2 + ' rang pour l\u2019indicateur <b>' + this.pretty_name2 + '</b>.\nPour cet espace d\u2019\xE9tude, ' + sup_both * 100 / nb_ft + '% des unit\xE9s territoriales sont d\xE9finies par une situation plus favorable sur les deux indicateurs pour la unit\xE9 territoriale s\xE9lectionn\xE9e, repr\xE9sent\xE9es en vert sur le graphique et sur la carte.\n' + inf_both * 100 / nb_ft + '% des unit\xE9s territoriales sont caract\xE9ris\xE9es par une situation plus d\xE9favorables pour les deux indicateurs, repr\xE9sent\xE9es en rouge sur la carte.\nEnfin, l\u2019unit\xE9 territoriale ' + app.current_config.my_region_pretty_name + ' se situe dans une situation contradictoire avec ' + contrad * 100 / nb_ft + '% des unit\xE9 territoriales, repr\xE9sent\xE9es en violet et orange sur la carte (situation favorable/d\xE9favorable pour un des deux indicateurs).';

      var source = '<b>Indicateur 1</b> : ' + info_var1.source + ' (Date de t\xE9l\xE9chargement de la donn\xE9e : ' + info_var1.last_update + ')<br>\n<b>Indicateur 2</b> : ' + info_var2.source + ' (Date de t\xE9l\xE9chargement de la donn\xE9e : ' + info_var2.last_update + ')';
      return { section_selection: help1.join(''), section_help: help2, section_source: source };
    }
  }]);
  return ScatterPlot2;
}();

var svg_bar$2 = void 0;
var margin$2 = void 0;
var width$2 = void 0;
var height$2 = void 0;
var t$2 = void 0;
var tm = void 0;

var updateDimensions$2 = function updateDimensions() {
  svg_bar$2 = d3.select('svg#svg_bar').on('contextmenu', noContextMenu);
  margin$2 = { top: 60, right: 70, bottom: 60, left: 70 };
  width$2 = fixed_dimension.chart.width - margin$2.left - margin$2.right;
  height$2 = fixed_dimension.chart.height - margin$2.top - margin$2.bottom;
  var width_value = document.getElementById('bar_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.cchart').style('padding-top', fixed_dimension.chart.height / fixed_dimension.chart.width * width_value + 'px');
};

// const makeTableTooltip = (data_feature) => {
//   const doc = document;
//   const nb_features = data_feature.axes.length;
//   const column_names = ['/', 'Ratio', 'Rang', 'Ã‰cart Ã  ma rÃ©gion'];
//   const nb_columns = column_names.length;
//   // const container_div = doc.createElement('div');
//   const myTable = doc.createElement('table');
//   const headers = doc.createElement('thead');
//   const table_body = doc.createElement('tbody');
//   const headers_row = doc.createElement('tr');
//   myTable.style.position = 'relative';
//   myTable.style.display = 'inline-block';
//   myTable.className = 'minitable';
//   for (let i = 0; i < nb_columns; i++) {
//     const cell = doc.createElement('th');
//     cell.innerHTML = column_names[i];
//     headers_row.appendChild(cell);
//   }
//   headers.appendChild(headers_row);
//   myTable.appendChild(headers);
//   for (let i = 0; i < nb_features; i++) {
//     const row = doc.createElement('tr');
//     for (let j = 0; j < nb_columns; j++) {
//       const cell = doc.createElement('td');
//       const col_name = column_names[j];
//       if (col_name === '/') {
//         cell.innerHTML = data_feature.axes[i].axis;
//       } else if (col_name === 'Ratio') {
//         cell.innerHTML = Math.round(data_feature.axes[i].raw_value * 10) / 10;
//       } else if (col_name === 'Rang') {
//         cell.innerHTML = Math.round(data_feature.axes[i].value * 10) / 10;
//       } else {
//         cell.innerHTML = '';
//       }
//       row.appendChild(cell);
//     }
//     table_body.appendChild(row);
//   }
//   myTable.appendChild(table_body);
//   myTable.setAttribute('id', 'table_tooltip');
//   // container_div.appendChild(myTable);
//   return myTable;
// };

/**
* Move an element from an array to a specific position
*
* @param {Array} array - The array to work on.
* @param {Number} from - The index of the element to be moved.
* @param {Number} to - The targeted index for this element.
* @return {Array} - The input array after the element has been moved.
*
*/
var move = function move(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
  return array;
};

/**
* Swap two features of an array.
*
* @param {Array} array - The array to work on.
* @param {Number} ix1 - The index of the first feature.
* @param {Number} ix2 - The index of the second feature.
* @return {Array} - The input array after the element has been swaped.
*
*/
var swap = function swap(array, ix1, ix2) {
  // eslint-disable-line no-param-reassign
  var _ref = [array[ix2], array[ix1]];
  array[ix1] = _ref[0];
  array[ix2] = _ref[1];
  return array;
};

/**
* Prepare the data for "my region"
*
* @param {Array} data - The whole subset of the dataset we are currently working on.
* @param {Array} variables - The variables currently selected.
* @return {Object} - An object containing the data prepared in order to feed the radar.
*
*/
var prepare_data_radar_default = function prepare_data_radar_default(data, variables) {
  // Prepare the data for "My RÃ©gion":
  var v_my_region = data.find(function (d) {
    return d.id === app.current_config.my_region;
  });
  var ojb_my_region = {
    name: app.current_config.my_region,
    axes: []
  };
  variables.forEach(function (v) {
    var temp = variables_info.find(function (d) {
      return d.id === v;
    });
    var _v = 'pr_' + v;
    ojb_my_region.axes.push({
      axis: temp.id, value: v_my_region[_v], raw_value: v_my_region[v], raw_value_unit: temp.unit
    });
  });
  return ojb_my_region;
};

/**
* Prepare the data for a region.
*
* @param {Array} data - The whole subset of the dataset we are currently working on.
* @param {Array} variables - The variables currently selected.
* @param {String} ft - The ID of the region for which we are preparing this object.
* @return {Object} - An object containing the data prepared in order to feed the radar.
*
*/
var prepare_data_radar_ft = function prepare_data_radar_ft(data, variables, ft) {
  var ft_values = data.find(function (d) {
    return d.id === ft;
  });
  if (!ft_values) {
    return null;
  }
  var obj = {
    name: ft,
    axes: []
  };
  variables.forEach(function (v) {
    var temp = variables_info.find(function (d) {
      return d.id === v;
    });
    var _v = 'pr_' + v;
    obj.axes.push({
      axis: temp.id, value: ft_values[_v], raw_value: ft_values[v], raw_value_unit: temp.unit
    });
  });
  return obj;
};

/** Class representing a Radar (spider) chart */

var RadarChart3 = function () {
  /**
   * Create a Radar chart on the `svg_bar` svg element previously defined
   * @param {Array} data - A reference to the subset of the dataset to be used
   * to create the radar (should contain at least three fields flagged as ratio
   * in the `app.current_config.ratio` Object).
   * @param {Object} options - Options regarding the style of the radar to be draw.
   */
  function RadarChart3(data, options) {
    var _this = this;

    classCallCheck(this, RadarChart3);

    updateDimensions$2();
    var cfg = {
      w: width$2 - 20, // Width of the circle
      h: height$2 - 20, // Height of the circle
      margin: margin$2, // The margins of the SVG
      levels: 10, // How many levels or inner circles should there be drawn
      maxValue: 100, // What is the value that the biggest circle will represent
      // How much farther than the radius of the outer circle should the labels be placed:
      labelFactor: 1.2,
      wrapWidth: 75, // The number of pixels after which a label needs to be given a new line
      opacityArea: 0.10, // The opacity of the area of the blob
      dotRadius: 4, // The size of the colored circles of each blog
      opacityCircles: 0.1, // The opacity of the circles of each blob
      strokeWidth: 2, // The width of the stroke around each blob
      roundStrokes: true, // If true the area and stroke will follow a round path (cardinal-closed)
      color: d3.scaleOrdinal(d3.schemeCategory10), // Color function,
      format: '.3', // The format string to be used by d3.format
      // The unit to display after the number on the axis and point tooltips (like $, â‚¬, %, etc):
      unit: '%',
      legend: false,
      allowInverseData: true
    };
    this.cfg = cfg;
    // Put all of the options into a variable called cfg
    if (typeof options !== 'undefined') {
      var opts_key = Object.keys(options);
      for (var i = 0, len_i = opts_key.length; i < len_i; i++) {
        var k = opts_key[i];
        if (typeof options[k] !== 'undefined') {
          cfg[k] = options[k];
        }
      }
    }
    this.inversedAxis = new Set();
    this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (cfg.w / 2 + cfg.margin.left) + ',' + (cfg.h / 2 + cfg.margin.top) + ')');

    // Prepare the tooltip displayed on mouseover:
    this.tooltip = prepareTooltip2(d3.select(svg_bar$2.node().parentElement.parentElement), null);

    this.prepareData(data);
    this.drawAxisGrid();
    this.drawArea();

    this.completude = new CompletudeSection();
    // Compute the "complÃ©tude" value for these ratios:
    this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));
    app.colors[app.current_config.my_region] = color_highlight;
    if (cfg.allowInverseData) {
      this.inverse_data = function (field) {
        var data_length = _this.data.length;
        if (!field) {
          for (var _i = 0; _i < data_length; _i++) {
            var ax = _this.data[_i].axes;
            for (var j = 0; j < ax.length; j++) {
              ax[j].value = 100 - ax[j].value;
            }
          }
        } else {
          for (var _i2 = 0; _i2 < data_length; _i2++) {
            var _ax = _this.data[_i2].axes;
            for (var _j = 0; _j < _ax.length; _j++) {
              if (_ax[_j].axis === field) {
                _ax[_j].value = 100 - _ax[_j].value;
              }
            }
          }
        }
        _this.update();
      };
    }
    this.makeTableStat();
    d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ position: 'relative', 'text-align': 'left', 'padding-left': '5em', top: '-2em' });

    this.updateLegend();
  }

  createClass(RadarChart3, [{
    key: 'wrap',
    value: function wrap(_text, _width) {
      var self = this;
      var nb_var = app.current_config.ratio.length;

      var swapAxis = function swapAxis() {
        var ix = +this.parentElement.id.slice(2);
        if (ix + 1 === self.allAxis.length) {
          for (var i = 0; i < self.data.length; i++) {
            swap(self.data[i].axes, ix, 0);
          }
        } else {
          var new_ix = ix + 1;
          for (var _i3 = 0; _i3 < self.data.length; _i3++) {
            move(self.data[_i3].axes, ix, new_ix);
          }
        }
        self.update();
      };

      var reverseAxis = function reverseAxis(label) {
        var id_axis = this.parentElement.id;
        if (self.inversedAxis.has(label)) {
          self.inversedAxis.delete(label);
          self.g.select('g#' + id_axis).select('.img_reverse').attr('xlink:href', 'img/reverse_plus.png');
          this.style.fill = 'black';
        } else {
          self.inversedAxis.add(label);
          self.g.select('g#' + id_axis).select('.img_reverse').attr('xlink:href', 'img/reverse_moins.png');
          this.style.fill = 'red';
        }
        d3.event.stopPropagation();
        d3.event.preventDefault();
        self.inverse_data(label);
      };

      _text.each(function () {
        var text = d3.select(this);
        var words = text.text().split(/\s+/).reverse();
        var lineHeight = 1.4;
        var x = +text.attr('x');
        var dy = parseFloat(text.attr('dy'));
        var id = +text.attr('id');
        var y = +text.attr('y');
        var line = [];
        var lineNumber = 0;
        // if (y > height / 2 - 35) {
        //   y -= 40;
        // }
        if (id === 0) y += 12;
        if (id === nb_var / 2) y -= 12;
        var tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');
        var word = words.pop();
        while (word) {
          line.push(word);
          tspan.text(line.join(' '));
          if (tspan.node().getComputedTextLength() > _width) {
            line.pop();
            tspan.text(line.join(' '));
            line = [word];
            lineNumber += 1;
            tspan = text.append('tspan').attrs({ x: 'x', y: 'y', dy: lineNumber * lineHeight + dy + 'em' }).text(word);
          }
          word = words.pop();
        }
      });
      svg_bar$2.selectAll('.img_reverse').attrs(function () {
        var el = this.parentElement.querySelector('tspan');
        var x = +el.getAttribute('x') - 20;
        var y = +el.getAttribute('y') + 15;
        return { x: x, y: y };
      }).on('click', self.cfg.allowInverseData ? reverseAxis : null);

      svg_bar$2.selectAll('.img_reverse2').attrs(function (_, i) {
        var el = this.parentElement.querySelector('tspan');
        var x = +el.getAttribute('x');
        var y = +el.getAttribute('y') + 15;
        var transform = 'rotate(' + 360 / nb_var * i + ', ' + (x + 25 / 2) + ', ' + (y + 10 / 2) + ')';
        return { x: x, y: y, transform: transform };
      }).on('click', swapAxis);

      svg_bar$2.selectAll('.rectlabel').attrs(function () {
        var el = this.parentElement.querySelector('tspan');
        var bbox = el.getBoundingClientRect();
        var x = +el.getAttribute('x') - bbox.width / 2 - 20;
        var y = +el.getAttribute('y') - 15;
        var _h = 60;
        var _w = bbox.width + 40;
        return { x: x, y: y, height: _h, width: _w };
      });
    }
  }, {
    key: 'add_element',
    value: function add_element(elem) {
      var _this2 = this;

      // const n_axis = elem.axes.map(i => i.axis);
      // if (!(JSON.stringify(n_axis.sort()) === JSON.stringify(this.allAxis.sort()))) {
      //   throw new Error('Expected element with same axes name than existing data.');
      // }
      var axes_reordered = [];
      elem.axes.forEach(function (ft) {
        if (_this2.inversedAxis.has(ft.axis)) {
          ft.value = 100 - ft.value; // eslint-disable-line no-param-reassign
        }
      });
      this.data[0].axes.forEach(function (n) {
        axes_reordered.push(elem.axes.find(function (ft) {
          return ft.axis === n.axis;
        }));
      });
      // eslint-disable-next-line no-param-reassign
      elem.axes = axes_reordered;
      this.data.push(elem);
      var colors_in_use = Object.keys(app.colors).map(function (k) {
        return app.colors[k];
      });
      for (var j = 0; j < this.data.length; j++) {
        var on_axes = [];
        if (this.id_my_region === this.data[j].name) app.colors[this.data[j].name] = color_highlight;else if (!app.colors[this.data[j].name]) {
          var ii = 0;
          while (ii < 21) {
            ii += 1;
            var c = this.cfg.color(ii);
            if (!(colors_in_use.indexOf(c) > -1)) {
              app.colors[this.data[j].name] = c;
            }
          }
        }
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          on_axes.push(this.data[j].name);
        }
      }
      this.displayed_ids.push(elem.name);
      var self = this;
      var cfg = this.cfg;

      var blobWrapper = this.g.insert('g', '.radarCircleWrapper').attrs({
        id: elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name,
        class: 'radarWrapper'
      });

      // Append the backgrounds
      blobWrapper.append('path').attrs({ class: 'radarArea', d: this.radarLine(elem.axes) }).styles({ fill: app.colors[elem.name], 'fill-opacity': cfg.opacityArea }).on('mouseover', function () {
        // Dim all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.3);
      }).on('mouseout', function () {
        // Bring back all blobs
        self.g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      }).on('click', function (d) {
        var ft_id = d.name;
        self.map_elem.target_layer.selectAll('path').each(function (ft) {
          if (ft.id === ft_id) {
            var cloned = this.cloneNode();
            cloned.style.stroke = 'yellow';
            cloned.style.strokeWidth = '2.25px';
            cloned.classList.add('cloned');
            self.map_elem.layers.select('#temp').node().appendChild(cloned);
            setTimeout(function () {
              cloned.remove();
            }, 5000);
          }
        });
      });

      // Create the outlines
      blobWrapper.append('path').attrs({ class: 'radarStroke', d: this.radarLine(elem.axes) }).styles({
        fill: 'none',
        stroke: app.colors[elem.name],
        filter: 'url(#glow)',
        'stroke-width': cfg.strokeWidth + 'px'
      });

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(elem.axes).enter().append('circle').attrs(function (d, i) {
        return {
          class: 'radarCircle',
          r: cfg.dotRadius,
          cx: _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI),
          cy: _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI)
        };
      }).styles({
        fill: app.colors[elem.name],
        'fill-opacity': 0.8
      });

      blobWrapper.node().__data__ = elem;

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = this.g.append('g').attr('id', elem.name.indexOf(' ') > -1 ? 'ctx' : elem.name).attr('class', 'radarCircleWrapper');

      blobCircleWrapper.node().__data__ = elem;

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(elem.axes).enter().append('circle').attrs(function (d, i) {
        return {
          class: 'radarInvisibleCircle',
          r: cfg.dotRadius * 1.5,
          cx: _this2.rScale(d.value) * math_cos(_this2.angleSlice * i - HALF_PI),
          cy: _this2.rScale(d.value) * math_sin(_this2.angleSlice * i - HALF_PI)
        };
      }).styles({
        fill: 'none',
        'pointer-events': 'all'
      });

      this.makeTooltips();
    }

    // changeOrder() {
    //   this.data = this.data.slice(1, this.data.length).concat(this.data.slice(0, 1));
    //   this.update();
    // }

  }, {
    key: 'prepareData',
    value: function prepareData(data) {
      var _this3 = this;

      // Set the minimum number of variables to keep selected for this kind of chart:
      app.current_config.nb_var = 3;
      this.variables = app.current_config.ratio;
      this.ref_data = data.slice().filter(function (ft) {
        return _this3.variables.map(function (v) {
          return !!ft[v];
        }).every(function (d) {
          return d === true;
        });
      });
      this.rank_variables = this.variables.map(function (d) {
        return 'pr_' + d;
      });
      this.variables.forEach(function (d, i) {
        computePercentileRank(_this3.ref_data, d, _this3.rank_variables[i]);
      });
      this.data = [prepare_data_radar_default(this.ref_data, this.variables)];
      this.displayed_ids = this.data.map(function (d) {
        return d.name;
      });
      this.current_ids = this.ref_data.map(function (d) {
        return d.id;
      });
      this.id_my_region = app.current_config.my_region;

      // If the supplied maxValue is smaller than the actual one, replace by the max in the data
      var maxValue = 0;
      for (var j = 0; j < this.data.length; j++) {
        if (this.id_my_region === this.data[j].name) app.colors[this.data[j].name] = color_highlight;else app.colors[this.data[j].name] = this.cfg.color(j + 1);
        for (var i = 0; i < this.data[j].axes.length; i++) {
          this.data[j].axes[i].id = this.data[j].name;
          if (this.data[j].axes[i].value > maxValue) {
            maxValue = this.data[j].axes[i].value;
          }
        }
      }

      this.maxValue = math_max(this.cfg.maxValue, maxValue);
      this.allAxis = this.data[0].axes.map(function (i) {
        return i.axis;
      }); // Names of each axis
      this.total = this.allAxis.length; // The number of different axes
      this.radius = math_min(this.cfg.w / 2, this.cfg.h / 2); // Radius of the outermost circle
      this.Format = d3.format(this.cfg.format); // Formatting
      this.angleSlice = Math.PI * 2 / this.total; // The width in radians of each "slice"
      // Scale for the radius
      this.rScale = d3.scaleLinear().range([0, this.radius]).domain([0, this.maxValue]);
      // The radial line function
      this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
        return _this3.rScale(d.value);
      }).angle(function (d, i) {
        return i * _this3.angleSlice;
      });
    }
  }, {
    key: 'drawAxisGrid',
    value: function drawAxisGrid() {
      var _this4 = this;

      var self = this;
      var cfg = this.cfg;
      var g = this.g;
      var radius = this.radius;
      var maxValue = this.maxValue;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      var axisGrid = g.append('g').attr('class', 'axisWrapper');

      // Draw the background circles
      axisGrid.selectAll('.levels').data(d3.range(1, cfg.levels + 1).reverse()).enter().append('circle').attrs(function (d) {
        return {
          class: 'gridCircle',
          r: radius / cfg.levels * d
        };
      }).styles(function (d) {
        if (d === 5) {
          return {
            fill: '#CDCDCD',
            stroke: 'rgb(245, 138, 138)',
            'stroke-dasharray': '5, 5',
            'fill-opacity': cfg.opacityCircles,
            filter: 'url(#glow)'
          };
        }
        return {
          fill: '#CDCDCD',
          stroke: '#CDCDCD',
          'fill-opacity': cfg.opacityCircles,
          filter: 'url(#glow)'
        };
      });

      // Create the straight lines radiating outward from the center
      var axis = axisGrid.selectAll('.axis').data(this.allAxis).enter().append('g').attr('class', 'axis');
      // Append the lines
      axis.append('line').attrs(function (d, i) {
        return {
          x1: 0,
          y1: 0,
          x2: rScale(maxValue * 1.1) * math_cos(angleSlice * i - HALF_PI),
          y2: rScale(maxValue * 1.1) * math_sin(angleSlice * i - HALF_PI),
          class: 'line'
        };
      }).styles({ stroke: 'white', 'stroke-width': '2px' });

      // Append the labels at each axis
      var gp_axis_label = axis.append('g').attr('id', function (d, i) {
        return 'gp' + i;
      }).attr('class', 'gp_axis_label').style('pointer-events', 'all');

      gp_axis_label.append('rect').attrs({ class: 'rectlabel', fill: 'transparent' });

      var texts = gp_axis_label.append('text').attrs(function (d, i) {
        return {
          id: i,
          class: 'legend',
          dy: '0.35em',
          'text-anchor': 'middle',
          'title-tooltip': variables_info.find(function (ft) {
            return ft.id === d;
          }).name,
          x: rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI),
          y: rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          'font-size': '12px',
          fill: self.inversedAxis.has(d) ? 'red' : 'black'
        };
      }).text(function (d) {
        return d;
      });

      gp_axis_label.append('image').attrs({
        class: 'img_reverse',
        width: 15,
        height: 15,
        'xlink:href': 'img/reverse_plus.png',
        title: 'Inverser l\'ordre de classement de l\'indicateur'
      }).styles({ cursor: 'pointer', display: 'none' });

      gp_axis_label.append('image').attrs({
        width: 25,
        height: 10,
        'xlink:href': 'img/rotation_arrow.png',
        class: 'img_reverse2',
        title: 'Inverser l\'ordre des axes sur le graphique',
        transform: 'rotate(0, 0, 0)'
      }).styles({ cursor: 'pointer', display: 'none' });

      texts.call(function (d) {
        return _this4.wrap(d, cfg.wrapWidth);
      });

      gp_axis_label.on('mouseover mousemove', function () {
        var _this5 = this;

        clearTimeout(tm);
        d3.select(this).selectAll('image').style('display', null).attr('y', function () {
          return +this.parentElement.querySelector('tspan').getAttribute('y') + 15;
        });
        tm = setTimeout(function () {
          d3.select(_this5).selectAll('image').style('display', 'none');
        }, 5000);
      }).on('mouseout', function () {
        var _this6 = this;

        clearTimeout(tm);
        tm = setTimeout(function () {
          d3.select(_this6).selectAll('image').style('display', 'none');
        }, 250);
      });

      this.g.selectAll('.gridCircle').on('mousemove mouseover', function () {
        clearTimeout(tm);
        d3.selectAll('.gp_axis_label').selectAll('image').style('display', 'none');
      });

      // Filter for the outside glow
      var filter = g.append('defs').append('filter').attr('id', 'glow');
      filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur');
      var feMerge = filter.append('feMerge');
      feMerge.append('feMergeNode').attr('in', 'coloredBlur');
      feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

      this.axisGrid = axisGrid;
    }
  }, {
    key: 'makeTooltips',
    value: function makeTooltips() {
      var _this7 = this;

      var self = this;
      this.g.selectAll('.radarInvisibleCircle').on('mouseover', function () {
        clearTimeout(t$2);
        _this7.tooltip.style('display', null);
      }).on('mouseout', function () {
        clearTimeout(t$2);
        t$2 = setTimeout(function () {
          _this7.tooltip.style('display', 'none').selectAll('p').html('');
        }, 250);
      }).on('mousemove mousedown', function (d) {
        var code_variable = d.axis;
        var id_feature = d.id;
        var direction = self.inversedAxis.has(code_variable) ? 'infÃ©rieure' : 'supÃ©rieure';

        clearTimeout(t$2);
        self.tooltip.select('.title').attr('class', d.id === app.current_config.my_region ? 'title myRegion' : 'title').html([app.feature_names[id_feature], ' (', id_feature, ')'].join(''));
        self.tooltip.select('.content').attr('class', 'content').html([formatNumber(100 - d.value, 1) + ' ' + self.cfg.unit + ' des r\xE9gions ont une valeur ' + direction, code_variable + ' : ' + formatNumber(d.raw_value, 1) + ' ' + d.raw_value_unit].join('<br>'));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - self.tooltip.node().getBoundingClientRect().height - 5 + 'px'
        });
      });
    }
  }, {
    key: 'updateLegend',
    value: function updateLegend() {
      var _this8 = this;

      var self = this;
      var menu_selection = d3.select('#menu_selection');
      menu_selection.selectAll('div').remove();
      menu_selection.append('div').attr('class', 'mini-legend-line noselect redline').style('margin', 'auto').html('<div class="mini-legend-item"><p class="color_square" style="background-image:url(\'img/legend_red_line2.png\')"></p><span>M\xE9diane de l\'espace d\'\xE9tude</span></div>');
      menu_selection.selectAll('div').data(this.data.map(function (a) {
        return a.name;
      }), function (d) {
        return d;
      }).enter().append('div').attr('class', 'mini-legend-line noselect').style('margin', 'auto').html(function (d) {
        return d === _this8.id_my_region ? '<div class="mini-legend-item"><p class="color_square" style="background-color:' + app.colors[d] + '"></p><span>' + app.feature_names[d] + '</span></div>' : '<div class="mini-legend-item"><p class="color_square" style="background-color:' + app.colors[d] + '"></p><span>' + app.feature_names[d] + '</span></div><span value="ft_' + d + '" class="btn_delete_mini">\u2718</span>';
      });
      menu_selection.selectAll('.btn_delete_mini').style('cursor', 'pointer').on('click', function () {
        var id = this.getAttribute('value').slice(3);
        if (id === app.current_config.my_region) {
          return;
        }
        app.colors[id] = null;
        self.g.selectAll('#' + id + '.radarWrapper').remove();
        self.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = self.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        })[0];
        self.data.splice(ix, 1);
        self.displayed_ids = self.data.map(function (_d) {
          return _d.name;
        });
        self.update();
        self.updateMapRegio();
      });
    }
  }, {
    key: 'drawArea',
    value: function drawArea() {
      var _this9 = this;

      var cfg = this.cfg;
      var g = this.g;
      var rScale = this.rScale;
      var angleSlice = this.angleSlice;

      // Create a wrapper for the blobs
      var blobWrapper = g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attr('id', function (d) {
        return d.name.indexOf(' ') > -1 ? 'ctx' : d.name;
      }).attr('class', 'radarWrapper');

      // Append the backgrounds
      blobWrapper.append('path').attrs(function (d) {
        return {
          class: 'radarArea',
          d: _this9.radarLine(d.axes)
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.name],
          'fill-opacity': cfg.opacityArea
        };
      }).on('mouseover', function () {
        // Dim all blobs
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', 0.1);
        // Bring back the hovered over blob
        d3.select(this).transition().duration(200).style('fill-opacity', 0.7);
      }).on('mouseout', function () {
        g.selectAll('.radarArea').transition().duration(200).style('fill-opacity', cfg.opacityArea);
      });

      // Create the outlines
      blobWrapper.append('path').attrs(function (d) {
        return {
          class: 'radarStroke',
          d: _this9.radarLine(d.axes)
        };
      }).styles(function (d) {
        return {
          fill: 'none',
          stroke: app.colors[d.name],
          filter: 'url(#glow)',
          'stroke-width': cfg.strokeWidth + 'px'
        };
      });

      // Append the circles
      blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attrs(function (d, i) {
        return {
          class: 'radarCircle',
          r: cfg.dotRadius,
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id],
          'fill-opacity': 0.8
        };
      });

      // ///////////////////////////////////////////////////////
      // ////// Append invisible circles for tooltip ///////////
      // ///////////////////////////////////////////////////////

      // Wrapper for the invisible circles on top
      var blobCircleWrapper = g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      }).enter().append('g').attrs(function (d) {
        return {
          id: d.name.indexOf(' ') > -1 ? 'ctx' : d.name,
          class: 'radarCircleWrapper'
        };
      });

      // Append a set of invisible circles on top for the mouseover pop-up
      blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      }).enter().append('circle').attrs(function (d, i) {
        return {
          class: 'radarInvisibleCircle',
          r: cfg.dotRadius * 1.5,
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles({
        fill: 'none',
        'pointer-events': 'all'
      });

      this.makeTooltips();
    }
  }, {
    key: 'update',
    value: function update() {
      var _this10 = this;

      var rScale = this.rScale;
      var maxValue = this.maxValue;
      var cfg = this.cfg;
      var angleSlice = this.angleSlice;
      // console.log(this.current_ids);
      // if (new_data) {
      //   const new_axis = new_data[0].axes.map(elem => elem.axis);
      //   if (!(JSON.stringify(new_axis) === JSON.stringify(this.allAxis))) {
      //     throw new Error('Expected element with same axes name than existing data.');
      //   }
      //   this.data = new_data;
      //   this.allAxis = new_axis;
      // } else {
      this.allAxis = this.data[0].axes.map(function (elem) {
        return elem.axis;
      });
      // }
      var update_axis = this.axisGrid.selectAll('.axis').data(this.allAxis);

      var tn = this.g.selectAll('.radarWrapper').transition().duration(225);

      var _g = update_axis.select('g');
      _g.select('.rectlabel').attr('class', 'rectlabel');
      _g.select('.img_reverse').attr('xlink:href', function (d) {
        return _this10.inversedAxis.has(d) ? 'img/reverse_moins.png' : 'img/reverse_plus.png';
      }).style('display', 'none');
      _g.select('.img_reverse2').style('display', 'none');
      _g.select('text.legend').attrs(function (d, i) {
        return {
          'title-tooltip': variables_info.find(function (ft) {
            return ft.id === d;
          }).name,
          id: i,
          x: rScale(maxValue * cfg.labelFactor) * math_cos(angleSlice * i - HALF_PI),
          y: rScale(maxValue * cfg.labelFactor) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          fill: _this10.inversedAxis.has(d) ? 'red' : 'black'
        };
      }).text(function (d) {
        return d;
      }).call(function (d) {
        return _this10.wrap(d, cfg.wrapWidth);
      });

      var update_blobWrapper = this.g.selectAll('.radarWrapper').data(this.data, function (d) {
        return d.name;
      });

      update_blobWrapper.select('.radarArea').transition(tn).attr('d', function (d) {
        return _this10.radarLine(d.axes);
      });

      update_blobWrapper.select('.radarStroke').transition(tn).attr('d', function (d) {
        return _this10.radarLine(d.axes);
      });

      var circle = update_blobWrapper.selectAll('.radarCircle').data(function (d) {
        return d.axes;
      });
      circle.transition(tn).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      }).styles(function (d) {
        return {
          fill: app.colors[d.id],
          'fill-opacity': 0.8
        };
      });

      var update_blobCircleWrapper = this.g.selectAll('.radarCircleWrapper').data(this.data, function (d) {
        return d.name;
      });

      var invisibleCircle = update_blobCircleWrapper.selectAll('.radarInvisibleCircle').data(function (d) {
        return d.axes;
      });
      invisibleCircle.transition(tn).attrs(function (d, i) {
        return {
          cx: rScale(d.value) * math_cos(angleSlice * i - HALF_PI),
          cy: rScale(d.value) * math_sin(angleSlice * i - HALF_PI)
        };
      });

      this.updateLegend();
    }
  }, {
    key: 'round_stroke',
    value: function round_stroke(val) {
      var _this11 = this;

      if (val === undefined) {
        return this.cfg.roundStrokes;
      } else if (val !== this.cfg.roundStrokes) {
        this.cfg.roundStrokes = val;
        this.radarLine = d3.radialLine().curve(this.cfg.roundStrokes ? d3.curveCardinalClosed : d3.curveLinearClosed).radius(function (d) {
          return _this11.rScale(d.value);
        }).angle(function (d, i) {
          return i * _this11.angleSlice;
        });
        this.update();
      }
      return val;
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(2);
      this.updateMapRegio();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.table_stats.remove();
      this.table_stats = null;
      this.map_elem.layers.selectAll('.cloned').remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      d3.select('#svg_bar').text('').html('');
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.changeStudyZone();
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this12 = this;

      var old_my_region = this.id_my_region;
      var other_features = this.displayed_ids.filter(function (d) {
        return d !== old_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.id_my_region = app.current_config.my_region;
      this.prepareData(app.current_data);
      Array.from(this.inversedAxis).forEach(function (v) {
        _this12.inverse_data(v);
      });
      this.drawAxisGrid();
      this.drawArea();
      other_features.forEach(function (id) {
        if (_this12.current_ids.indexOf(id) > -1 && id !== _this12.id_my_region) {
          var a = prepare_data_radar_ft(_this12.ref_data, _this12.variables, id);
          _this12.add_element(a);
        }
      });
      this.updateMapRegio();
      this.updateCompletude();
      this.updateTableStat();
      this.updateLegend();
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable) {
      var _this13 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this13.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      Array.from(this.inversedAxis).forEach(function (v) {
        _this13.inverse_data(v);
      });
      this.drawAxisGrid();
      this.drawArea();
      other_features.forEach(function (id) {
        if (_this13.current_ids.indexOf(id) > -1) {
          var a = prepare_data_radar_ft(_this13.ref_data, _this13.variables, id);
          _this13.add_element(a);
        }
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      this.updateLegend();
      Tooltipsify('[title-tooltip]');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this14 = this;

      var other_features = this.displayed_ids.filter(function (d) {
        return d !== _this14.id_my_region;
      });
      this.g.remove();
      this.g = svg_bar$2.append('g').attr('id', 'RadarGrp').attr('transform', 'translate(' + (this.cfg.w / 2 + this.cfg.margin.left) + ',' + (this.cfg.h / 2 + this.cfg.margin.top) + ')');

      this.prepareData(app.current_data);
      Array.from(this.inversedAxis).forEach(function (v) {
        _this14.inverse_data(v);
      });
      this.drawAxisGrid();
      this.drawArea();
      other_features.forEach(function (id) {
        var a = prepare_data_radar_ft(_this14.ref_data, _this14.variables, id);
        _this14.add_element(a);
      });
      this.updateCompletude();
      this.updateMapRegio();
      this.updateTableStat();
      Tooltipsify('[title-tooltip]');
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this15 = this;

      var all_values = this.variables.map(function (v) {
        return _this15.ref_data.map(function (d) {
          return d[v];
        });
      });
      var my_region = this.ref_data.find(function (d) {
        return d.id === _this15.id_my_region;
      });
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moy: getMean(values),
          Med: d3.median(values),
          id: _this15.variables[i],
          Variable: _this15.variables[i],
          'Ma rÃ©gion': my_region[_this15.variables[i]]
        };
      });
      return features;
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === this.id_my_region) return;
      if (this.displayed_ids.indexOf(id) < 0) {
        if (this.data.length > 6) {
          alertify.warning('Le nombre maximal de rÃ©gions sÃ©lectionnÃ©es est atteint.');
          return;
        }
        var a = prepare_data_radar_ft(this.ref_data, this.variables, id);
        this.add_element(a);
        this.update();
      } else {
        app.colors[id] = null;
        this.g.selectAll('#' + id + '.radarWrapper').remove();
        this.g.selectAll('#' + id + '.radarCircleWrapper').remove();
        var ix = this.data.map(function (_d, i) {
          return [i, _d.name === id];
        }).find(function (_d) {
          return _d[1] === true;
        })[0];
        this.data.splice(ix, 1);
        this.displayed_ids = this.data.map(function (_d) {
          return _d.name;
        });
        this.update();
      }
      this.updateMapRegio();
    }
  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.variables, 'array'), calcPopCompletudeSubset(app, this.variables));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this16 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        if (d.id === _this16.id_my_region) {
          return color_highlight;
        } else if (_this16.current_ids.indexOf(d.id) > -1) {
          if (_this16.displayed_ids.indexOf(d.id) > -1) {
            return app.colors[d.id];
          }
          return color_countries;
        }
        return color_disabled;
      });
      // .attr('fill', d => (d.id === this.id_my_region
      //   ? color_highlight
      //   : this.current_ids.indexOf(d.id) > -1
      //     ? (this.displayed_ids.indexOf(d.id) > -1
      //       ? app.colors[d.id] : color_countries) : color_disabled));
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }, {
    key: 'getHelpMessage',
    value: function getHelpMessage() {
      return '\n<h3>Position  - 3 indicateurs</h3>\n\n<b>Aide g\xE9n\xE9rale</b>\n\nCe graphique construit tel \xAB une cible \xBB permet de repr\xE9senter la position de l\u2019unit\xE9 territoriale de r\xE9f\xE9rence pour 3 \xE0 8 indicateurs simultan\xE9ment. Les cercles concentriques qui constituent le graphique expriment les d\xE9ciles de la distribution pour chacun des indicateurs s\xE9lectionn\xE9s (premier cercle = premier d\xE9cile, valeurs minimales par d\xE9faut / cercle ext\xE9rieur = dernier d\xE9cile, valeurs maximales par d\xE9faut). Les indicateurs repr\xE9sent\xE9s sur ce graphique sont de fait normalis\xE9s selon leur rang respectif dans la distribution statistique pour chacun des indicateurs : 0 correspondant \xE0 la valeur minimale (100 % des unit\xE9s territoriales disposent de valeurs plus fortes) et 100 la valeur maximale (100 % des unit\xE9 territoriales sont caract\xE9ris\xE9es par des valeurs moins fortes).\n\nLe cercle repr\xE9sent\xE9 en tiret\xE9 rouge repr\xE9sente la valeur m\xE9diane (50) pour l\u2019espace d\u2019\xE9tude. Si pour un indicateur la unit\xE9 territoriale se situe \xE0 l\u2019int\xE9rieur de ce cercle, cela signifie que la valeur pour cet indicateur se situe en-dessous de la m\xE9diane de l\u2019espace d\u2019\xE9tude. Si pour un autre indicateur la unit\xE9 territoriale se situe \xE0 l\u2019ext\xE9rieur de ce cercle, cela signifie que la valeur pour cet indicateur se situe au dessus de la m\xE9diane de l\u2019espace d\u2019\xE9tude.\n\nIl est possible de cliquer sur la carte pour visualiser le positionnement d\u2019autres unit\xE9s territoriales par rapport \xE0 l\u2019unit\xE9 territoriale de r\xE9f\xE9rence. Il est d\xE9conseill\xE9 de repr\xE9senter simultan\xE9ment plus de 3 unit\xE9s territoriales sur le m\xEAme graphique, au risque de rendre sa lecture al\xE9atoire.\n\nCe n\u2019est pas tant la forme cr\xE9\xE9e sur ce graphique qu\u2019il faut analyser (la forme d\xE9pend largement de la position des indicateurs sur le graphique, al\xE9atoire par d\xE9finition) que la position au regard de l\u2019espace de r\xE9f\xE9rence ou d\u2019autres unit\xE9s territoriales s\xE9lectionn\xE9es sur le graphique. L\u2019utilisateur peut d\xE8s lors inverser le sens du classement (clic droit sur le label de l\u2019indicateur, adapt\xE9 pour des indicateurs comme le taux de ch\xF4mage ou un taux \xE9lev\xE9 ne signifie pas forc\xE9ment une situation favorable) ou peut inverser l\u2019ordre d\u2019apparition des variables sur le graphique (clic gauche) si l\u2019on souhaite par exemple rapprocher des indicateurs de m\xEAme th\xE9matique c\xF4te \xE0 c\xF4te.';
    }
  }, {
    key: 'getTemplateHelp',
    value: function getTemplateHelp() {
      var info_var = {};
      this.variables.forEach(function (v, i) {
        info_var[i + 1] = variables_info.find(function (ft) {
          return ft.id === v;
        });
      });

      // eslint-disable-next-line no-nested-ternary
      var name_study_zone = !app.current_config.filter_key ? 'UE28' : app.current_config.filter_key instanceof Array ? ['RÃ©gions dans un voisinage de ', document.getElementById('dist_filter').value, 'km'].join('') : study_zones.find(function (d) {
        return d.id === app.current_config.filter_key;
      }).name;
      var help1 = [];
      this.variables.forEach(function (v, i) {
        help1.push('<b>Indicateur ' + (i + 1) + '</b> : ' + info_var[i + 1].name + ' (' + info_var[i + 1].id + ')<br>');
      });
      help1.push('<b>Maillage territorial d\'analyse</b> : ' + territorial_mesh.find(function (d) {
        return d.id === app.current_config.current_level;
      }).name + '<br>');
      if (app.current_config.my_category) {
        help1.push('<b>Espace d\'\xE9tude</b> : ' + app.current_config.filter_key + '<br><b>Cat\xE9gorie</b> : ' + app.current_config.my_category);
      } else if (app.current_config.filter_key) {
        help1.push('<b>Espace d\'\xE9tude</b> : UE28 (R\xE9gions dans un voisinage de ' + document.getElementById('dist_filter').value + ' km)');
      } else {
        help1.push( // eslint-disable-next-line quotes
        '<b>Espace d\'\xE9tude</b> : UE28');
      }

      var help2 = [this.variables.length + ' indicateurs sont simultan\xE9ment repr\xE9sent\xE9s sur ce graphique.'];
      // `Pour lâ€™espace dâ€™Ã©tude ${name_study_zone}, lâ€™unitÃ© territoriale ${app.current_config.my_region_pretty_name} se positionne au-dessus de la valeur mÃ©diane (50) pour les indicateurs suivants (position plus favorable) :
      // <Nom de lâ€™indicateur 1>, indice <valeur normalisÃ©e 1>, valeur <valeur brute 1>Â <unitÃ© de mesure 1>;
      // <Â Nom de lâ€™indicateur n>Â , indice <valeur normalisÃ©e n>, valeur <valeur brute n><unitÃ© de mesure n>Â ;
      // Cette unitÃ© territoriale se positionne sous la valeur mÃ©diane pour les indicateurs suivantsÂ :
      // <Nom de lâ€™indicateur y>, indice <valeur normalisÃ©e y>, valeur <valeur brute y><unitÃ© de mesure y>
      // Si sÃ©lection dâ€™unitÃ©s territoriales supplÃ©mentaires, rÃ©pÃ©ter lâ€™opÃ©ration en fonction du nombre de unitÃ© territoriales sÃ©lectionnÃ©es.
      // En comparaison Ã  lâ€™unitÃ© territoriale <nom de lâ€™unitÃ© territoriale sÃ©lectionnÃ©e> (<pays dâ€™appartenance>), lâ€™unitÃ© territoriale <nom de unitÃ© territoriale de rÃ©fÃ©rence> est caractÃ©risÃ©e par des indices normalisÃ©s plus importants pour les indicateurs suivantsÂ :
      // <Nom de lâ€™indicateur 1>, (<Ã©cart de points normalisÃ©s du plus grand au plus petit>).
      // Etc.
      // Inversement, lâ€™unitÃ© territoriale <nom de lâ€™unitÃ© territoriale de rÃ©fÃ©rence> est caractÃ©risÃ©e par des scores moins importants pour ces indicateursÂ 
      // `;

      var source = [];
      this.variables.map(function (v, i) {
        return '<b>Indicateur ' + (i + 1) + '</b> : ' + info_var[i + 1].source + ' (Date de t\xE9l\xE9chargement de la donn\xE9e : ' + info_var[i + 1].update + ')';
      });
      source = source.join('<br>');
      return { section_selection: help1.join(''), section_help: help2.join(''), section_source: source };
    }
  }]);
  return RadarChart3;
}();

var svg_bar$3 = void 0;
var margin$3 = void 0;
var width$3 = void 0;
var height$3 = void 0;
var svg_container$2 = void 0;
var t$3 = void 0;

var updateDimensions$3 = function updateDimensions() {
  svg_bar$3 = d3.select('svg#svg_bar').on('contextmenu', noContextMenu);
  margin$3 = { top: 20, right: 20, bottom: 40, left: 50 };
  width$3 = fixed_dimension.chart.width - margin$3.left - margin$3.right;
  height$3 = fixed_dimension.chart.height - margin$3.top - margin$3.bottom;
  var width_value = document.getElementById('bar_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.cchart').style('padding-top', fixed_dimension.chart.height / fixed_dimension.chart.width * width_value + 'px');
  svg_container$2 = svg_bar$3.append('g').attr('class', 'container');
};

var Similarity1plus = function () {
  function Similarity1plus(ref_data) {
    var _this = this;

    classCallCheck(this, Similarity1plus);

    updateDimensions$3();
    // Set the minimum number of variables to keep selected for this kind of chart:
    app.current_config.nb_var = 1;
    this.ratios = app.current_config.ratio;
    this.nums = app.current_config.num;
    this.data = ref_data.filter(function (ft) {
      return _this.ratios.map(function (v) {
        return !!ft[v];
      }).every(function (v) {
        return v === true;
      });
    }).slice();
    this.prepareData();
    resetColors();
    this.highlight_selection = [];
    this.serie_inversed = false;
    this.proportionnal_symbols = false;
    this.draw_group = svg_container$2.append('g').attr('transform', 'translate(' + margin$3.left + ', ' + margin$3.top + ')');

    // Prepare the tooltip displayed on mouseover:
    this.tooltip = prepareTooltip2(d3.select(svg_bar$3.node().parentElement), null);

    this.completude = new CompletudeSection();
    this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));

    // To decide wether to inverse the positive/negative color for an axis
    this.inversedAxis = new Set();

    // Create the section containing the input element allowing to chose
    // how many "close" regions we want to highlight.
    var menu_selection = d3.select('#bar_section').append('div').attr('id', 'menu_selection').styles({ position: 'relative', color: '#4f81bd', 'text-align': 'center' });
    var selection_close = menu_selection.append('p').attr('class', 'selection_display');
    selection_close.append('span').html('SÃ©lection des');
    selection_close.append('input').attrs({ class: 'nb_select', type: 'number' }).styles({ color: '#4f81bd', 'margin-left': '1px' }).property('value', 1);
    selection_close.append('span').html('rÃ©gions les plus proches');
    var section = menu_selection.append('section').attr('class', 'slider-checkbox');
    section.append('input').attrs({ type: 'checkbox', id: 'check_prop' });
    section.append('label').attrs({ class: 'label not_selected noselect', for: 'check_prop' }).text('Cercles proportionnels au numÃ©rateur');

    this.bindMenu();
    this.makeTableStat();
  }

  createClass(Similarity1plus, [{
    key: 'applySelection',
    value: function applySelection(nb) {
      var _this2 = this;

      app.colors = {};
      if (nb > 0) {
        this.data.forEach(function (ft) {
          // eslint-disable-next-line no-param-reassign
          ft.dist = math_sqrt(_this2.ratios.map(function (v) {
            return 'dist_' + v;
          }).map(function (v) {
            return math_pow(ft[v], 2);
          }).reduce(function (a, b) {
            return a + b;
          }));
        });
        this.data.sort(function (a, b) {
          return a.dist - b.dist;
        });
        this.data.forEach(function (el, i) {
          el.globalrank = i;
        }); // eslint-disable-line no-param-reassign
        this.highlight_selection = this.data.slice(1, nb + 1);
      } else {
        this.highlight_selection = [];
      }
      this.removeLines();
      this.update();
      this.updateMapRegio();
    }

    /* eslint-disable no-loop-func */

  }, {
    key: 'update',
    value: function update() {
      var _this3 = this;

      var self = this;
      var data = self.data;
      var highlight_selection = self.highlight_selection;
      var nb_variables = self.ratios.length;
      var offset = height$3 / nb_variables + 1;
      var height_to_use = offset / 2;

      var _loop = function _loop(i) {
        var ratio_name = self.ratios[i];
        var selector_ratio_name = 'l_' + ratio_name;
        var ratio_pretty_name = app.current_config.ratio_pretty_name[i];
        var num_name = self.nums[i];
        var my_region_value = self.my_region[ratio_name];
        var g = _this3.draw_group.select('#' + selector_ratio_name);
        var axis = _this3.draw_group.select('g.axis--x.' + selector_ratio_name);
        var layer_other = void 0;
        var layer_highlighted = void 0;
        var layer_top = void 0;
        if (!g.node()) {
          g = _this3.draw_group.append('g').attrs({
            id: selector_ratio_name,
            num: num_name,
            class: 'grp_var'
          });
          axis = g.append('g').attrs({
            class: 'axis axis--x ' + selector_ratio_name,
            transform: 'translate(0, 10)'
          });

          g.append('text').attrs({
            // x: 0,
            x: 20,
            y: -7.5,
            class: 'title_axis ' + selector_ratio_name + ' noselect',
            fill: '#4f81bd',
            'font-size': '11px',
            'font-weight': 'bold',
            'font-family': '"Signika",sans-serif',
            'title-tooltip': ratio_pretty_name
          }).text(ratio_name);

          g.append('image').attrs({
            x: 0,
            // x: txt.node().getBoundingClientRect().width + 5,
            y: -18,
            width: 14,
            height: 14,
            'xlink:href': 'img/reverse_plus.png',
            id: 'img_reverse'
          }).style('cursor', 'pointer').on('click', function () {
            if (self.inversedAxis.has(ratio_name)) {
              this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_plus.png');
              var title_ax = this.previousSibling;
              title_ax.setAttribute('title-tooltip', ratio_pretty_name);
              title_ax.setAttribute('fill', '#4f81bd');
              self.inversedAxis.delete(ratio_name);
            } else {
              this.setAttributeNS(d3.namespaces.xlink, 'xlink:href', 'img/reverse_moins.png');
              self.inversedAxis.add(ratio_name);
              var _title_ax = this.previousSibling;
              _title_ax.setAttribute('title-tooltip', ratio_pretty_name + ' (axe invers\xE9)');
              _title_ax.setAttribute('fill', 'red');
            }
            self.update();
          });

          g.append('image').attrs({
            // x: txt.node().getBoundingClientRect().width + 22.5,
            x: -19,
            y: -6,
            width: 12,
            height: 15,
            'xlink:href': 'img/Up-Arrow.svg',
            id: 'up_arrow',
            title: 'Changer l\'ordre des axes (vers le haut)'
          }).style('cursor', 'pointer').on('mousedown', function () {
            this.classList.add('arrow-shadow');
          }).on('mouseup mouseout', function () {
            this.classList.remove('arrow-shadow');
          }).on('click', function () {
            var that_ratio = this.parentElement.id.slice(2);
            var current_position = self.ratios.indexOf(that_ratio);
            if (current_position === 0) {
              return;
            }
            self.ratios.splice(current_position, 1);
            self.ratios.splice(current_position - 1, 0, that_ratio);
            self.removeLines();
            self.update();
          });

          g.append('image').attrs({
            // x: txt.node().getBoundingClientRect().width + 22.5,
            x: -19,
            y: 13,
            width: 12,
            height: 15,
            'xlink:href': 'img/Down-Arrow.svg',
            id: 'down_arrow',
            title: 'Changer l\'ordre des axes (vers le bas)'
          }).style('cursor', 'pointer').on('mousedown', function () {
            this.classList.add('arrow-shadow');
          }).on('mouseup mouseout', function () {
            this.classList.remove('arrow-shadow');
          }).on('click', function () {
            var that_ratio = this.parentElement.id.slice(2);
            var current_position = self.ratios.indexOf(that_ratio);
            if (current_position === self.ratios.length) {
              return;
            }
            self.ratios.splice(current_position, 1);
            self.ratios.splice(current_position + 1, 0, that_ratio);
            self.removeLines();
            self.update();
          });

          layer_other = g.append('g').attr('class', 'otherfeature');
          layer_highlighted = g.append('g').attr('class', 'highlighted');
          layer_top = g.append('g').attr('class', 'top');
        } else {
          layer_other = g.select('g.otherfeature');
          layer_highlighted = g.select('g.highlighted');
          layer_top = g.select('g.top');
        }
        // g.attr('transform', `translate(0, ${height_to_use})`);
        var _trans = _this3.draw_group.select('#' + selector_ratio_name).transition().duration(225);
        g = _this3.draw_group.select('#' + selector_ratio_name).transition(_trans).attr('transform', 'translate(0, ' + height_to_use + ')');
        g.select('#up_arrow')
        // .transition(_trans)
        .style('display', i === 0 ? 'none' : '');
        g.select('#down_arrow')
        // .transition(_trans)
        .style('display', i === nb_variables - 1 ? 'none' : '');
        var _min = void 0;
        var _max = void 0;
        _this3.data.sort(function (a, b) {
          return b['dist_' + ratio_name] - a['dist_' + ratio_name];
        });
        _this3.data.forEach(function (ft, _ix) {
          ft['rank_' + ratio_name] = _ix; // eslint-disable-line no-param-reassign
        });
        _this3.data.splice(_this3.data.indexOf(_this3.my_region), 1);
        _this3.data.push(_this3.my_region);
        if (highlight_selection.length > 0) {
          var dist_axis = math_max(math_abs(my_region_value - +d3.min(highlight_selection, function (d) {
            return d[ratio_name];
          })), math_abs(+d3.max(highlight_selection, function (d) {
            return d[ratio_name];
          }) - my_region_value));
          var margin_min_max = math_round(dist_axis) / 8;
          _min = my_region_value - dist_axis - margin_min_max;
          _max = my_region_value + dist_axis + margin_min_max;
          if (_min === _max) {
            var _dist_axis = (my_region_value + _this3.data[_this3.data.length - 2][ratio_name] - (my_region_value - _this3.data[_this3.data.length - 2][ratio_name])) / 2;
            _min = my_region_value - _dist_axis - _dist_axis / 8;
            _max = my_region_value + _dist_axis + _dist_axis / 8;
          }
        } else {
          var ratio_values = _this3.data.map(function (d) {
            return d[ratio_name];
          });
          var _dist_axis2 = math_max(math_abs(my_region_value - d3.min(ratio_values)), math_abs(d3.max(ratio_values) - my_region_value));
          var _margin_min_max = math_round(_dist_axis2) / 8;
          _min = my_region_value - _dist_axis2 - _margin_min_max;
          _max = my_region_value + _dist_axis2 + _margin_min_max;
        }
        _this3.highlight_selection.forEach(function (elem) {
          app.colors[elem.id] = comp(elem[ratio_name], my_region_value, !self.inversedAxis.has(ratio_name));
        });

        app.colors[app.current_config.my_region] = color_highlight;

        var size_func = _this3.proportionnal_symbols ? new PropSizer(d3.max(data, function (d) {
          return d[num_name];
        }), 33).scale : function () {
          return 7.5;
        };
        var xScale = d3.scaleLinear().domain([_min, _max]).range([0, width$3]);

        axis.transition().duration(125).call(d3.axisBottom(xScale).tickFormat(formatNumber));

        var bubbles1 = layer_other.selectAll('.bubble').data(data.filter(function (d) {
          return app.colors[d.id] === undefined;
        }), function (d) {
          return d.id;
        });

        bubbles1.transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        }).styles({
          fill: color_countries,
          'fill-opacity': 0.1,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        });

        bubbles1.enter().insert('circle').styles({
          fill: color_countries,
          'fill-opacity': 0.1,
          stroke: 'darkgray',
          'stroke-width': 0.75,
          'stroke-opacity': 0.75
        }).transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            id: d.id,
            class: 'bubble',
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        });

        bubbles1.exit().remove();

        var bubbles2 = layer_highlighted.selectAll('.bubble').data(data.filter(function (d) {
          return d.id !== app.current_config.my_region && app.colors[d.id] !== undefined;
        }), function (d) {
          return d.id;
        });

        bubbles2.transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id],
            'fill-opacity': d.id === app.current_config.my_region ? 1 : 0.7,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        });

        bubbles2.enter().insert('circle').styles(function (d) {
          return {
            fill: app.colors[d.id],
            'fill-opacity': d.id === app.current_config.my_region ? 1 : 0.7,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        }).transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            id: d.id,
            class: 'bubble',
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        });

        bubbles2.exit().remove();

        var bubbles3 = layer_top.selectAll('.bubbleMyRegion').data(data.filter(function (d) {
          return d.id === app.current_config.my_region;
        }), function (d) {
          return d.id;
        });

        bubbles3.transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        }).styles(function (d) {
          return {
            fill: app.colors[d.id],
            'fill-opacity': 1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        });

        bubbles3.enter().insert('circle').styles(function (d) {
          return {
            fill: app.colors[d.id],
            'fill-opacity': 1,
            stroke: 'darkgray',
            'stroke-width': 0.75,
            'stroke-opacity': 0.75
          };
        }).transition().duration(125).attrs(function (d) {
          var x_value = xScale(d[ratio_name]);
          if (x_value > width$3) x_value = width$3 + 200;else if (x_value < 0) x_value = -200;
          return {
            globalrank: d.globalrank,
            id: d.id,
            class: 'bubbleMyRegion',
            cx: x_value,
            cy: 10,
            r: size_func(d[num_name])
          };
        });

        bubbles3.exit().remove();

        height_to_use += offset;
        setTimeout(function () {
          bubbles1.order();
          bubbles2.order();
        }, 145);
      };

      for (var i = 0; i < nb_variables; i++) {
        _loop(i);
      }
      setTimeout(function () {
        _this3.makeTooltips();
      }, 145);
    }
    /* eslint-enable no-loop-func */

  }, {
    key: 'updateCompletude',
    value: function updateCompletude() {
      this.completude.update(calcCompletudeSubset(app, this.ratios, 'array'), calcPopCompletudeSubset(app, this.ratios));
    }
  }, {
    key: 'updateMapRegio',
    value: function updateMapRegio() {
      var _this4 = this;

      if (!this.map_elem) return;
      this.map_elem.target_layer.selectAll('path').attr('fill', function (d) {
        var _id = d.id;
        if (_id === app.current_config.my_region) {
          return color_highlight;
        } else if (_this4.current_ids.indexOf(_id) > -1) {
          if (app.colors[_id]) return color_default_dissim;
          return color_countries;
        }
        return color_disabled;
      });
    }
  }, {
    key: 'handleClickMap',
    value: function handleClickMap(d, parent) {
      var _this5 = this;

      var to_display = false;
      var id = d.id;
      if (this.current_ids.indexOf(id) < 0 || id === app.current_config.my_region) return;
      if (app.colors[id] !== undefined) {
        // Remove the clicked feature from the colored selection on the chart:
        var id_to_remove = this.highlight_selection.map(function (ft, i) {
          return ft.id === id ? i : null;
        }).filter(function (ft) {
          return ft;
        })[0];
        this.highlight_selection.splice(id_to_remove, 1);
        // Change its color in the global colors object:
        app.colors[id] = undefined;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_countries);
      } else {
        app.colors[id] = color_default_dissim;
        // Change the color on the map:
        d3.select(parent).attr('fill', color_default_dissim);
        // Add the clicked feature on the colored selection on the chart:
        var obj = this.data.find(function (el) {
          return el.id === id;
        });
        this.highlight_selection.push(obj);
        to_display = true;
      }
      this.highlight_selection.sort(function (a, b) {
        return a.dist - b.dist;
      });
      this.removeLines();
      this.update();
      if (to_display) setTimeout(function () {
        _this5.displayLine(id);
      }, 150);
    }
  }, {
    key: 'makeTooltips',
    value: function makeTooltips() {
      var _this6 = this;

      var self = this;
      this.draw_group.selectAll('g.grp_var').selectAll('circle').on('mouseover', function () {
        clearTimeout(t$3);
        _this6.tooltip.style('display', null);
      }).on('mouseout', function () {
        clearTimeout(t$3);
        t$3 = setTimeout(function () {
          _this6.tooltip.style('display', 'none').selectAll('p').html('');
        }, 250);
      }).on('mousemove mousedown', function (d) {
        var content = [];
        var _h = 75;
        var ratio_n = this.parentElement.parentElement.id.replace('l_', '');
        var unit_ratio = variables_info.find(function (ft) {
          return ft.id === ratio_n;
        }).unit;
        var globalrank = +this.getAttribute('globalrank');
        var indic_rank = self.current_ids.length - +d['rank_' + ratio_n];
        content.push(ratio_n + ' : ' + formatNumber(d[ratio_n], 1) + ' ' + unit_ratio);
        if (self.proportionnal_symbols) {
          _h += 25;
          var num_n = this.parentElement.parentElement.getAttribute('num');
          var o = variables_info.find(function (ft) {
            return ft.id === num_n;
          });
          var unit_num = o.unit;
          var coef = +o.formula;
          coef = Number.isNaN(coef) || coef === 0 ? 1 : coef;
          content.push(num_n + ' (num\xE9rateur) : ' + formatNumber(d[num_n] * coef, 1) + ' ' + unit_num);
        }
        if (+globalrank > 0) {
          // No need to display that part if this is "my region":
          _h += 30;
          // content.push(
          //   `Ã‰cart absolu normalisÃ© : ${formatNumber(
          //     math_abs(100 * (d[ratio_n] - self.my_region[ratio_n]) / self.my_region[ratio_n]), 1)} %`);
          if (+indic_rank === 2) {
            content.push('<br><b>RÃ©gion la plus proche</b> sur cet indicateur');
          } else {
            content.push('<br><b>' + (indic_rank - 1) + '\xE8me</b> r\xE9gion la plus proche sur cet indicateur');
          }
        }
        if (!Number.isNaN(globalrank)) {
          _h += 30;
          if (+globalrank === 0) {
            content.push('<br><b>Ma rÃ©gion</b>');
          } else if (+globalrank === 1) {
            content.push('<b>R\xE9gion la plus proche</b> sur ces <b>' + self.ratios.length + '</b> indicateurs');
          } else {
            content.push('<b>' + globalrank + '\xE8me</b> r\xE9gion la plus proche sur ces <b>' + self.ratios.length + '</b> indicateurs');
          }
        }
        clearTimeout(t$3);
        self.tooltip.select('.title').attr('class', d.id === app.current_config.my_region ? 'title myRegion' : 'title').html([d.name, ' (', d.id, ')'].join(''));
        self.tooltip.select('.content').html(content.join('<br>'));
        self.tooltip.styles({
          display: null,
          left: d3.event.pageX - window.scrollX - 5 + 'px',
          top: d3.event.pageY - window.scrollY - _h + 'px'
        });
      }).on('click', function (d) {
        if (this.style.fill !== color_countries) {
          self.displayLine(d.id);
        }
        self.map_elem.target_layer.selectAll('path').each(function (ft) {
          if (ft.id === d.id) {
            var cloned = this.cloneNode();
            cloned.style.fill = 'red';
            cloned.style.stroke = 'orange';
            cloned.style.strokeWidth = '2.25px';
            cloned.classList.add('cloned');
            self.map_elem.layers.select('#temp').node().appendChild(cloned);
            setTimeout(function () {
              cloned.remove();
            }, 5000);
          }
        });
      });
    }
  }, {
    key: 'displayLine',
    value: function displayLine(id_region) {
      if (this.ratios.length === 1) return;
      var coords = [];
      Array.prototype.forEach.call(document.querySelectorAll('.grp_var'), function (el) {
        var ty = +el.getAttribute('transform').split('translate(0')[1].replace(',', '').replace(')', '').trim();
        var bubble = el.querySelector('#' + id_region);
        coords.push([bubble.cx.baseVal.value, bubble.cy.baseVal.value + ty]);
      });
      coords.sort(function (a, b) {
        return a[1] - b[1];
      });
      var l = this.draw_group.append('path').datum(coords).attrs({
        class: 'regio_line',
        fill: 'none',
        stroke: 'steelblue',
        'stroke-linejoin': 'round',
        'stroke-linecap': 'round',
        'stroke-width': 1.5,
        d: d3.line().x(function (_d) {
          return _d[0];
        }).y(function (_d) {
          return _d[1];
        })
      });
      setTimeout(function () {
        l.remove();
      }, 5000);
    }
  }, {
    key: 'updateChangeRegion',
    value: function updateChangeRegion() {
      this.removeLines();
      if (app.current_config.filter_key !== undefined) {
        this.changeStudyZone();
      } else {
        this.map_elem.updateLegend();
        this.prepareData();
        this.updateTableStat();
        this.updateMapRegio();
        this.applySelection(+d3.select('#menu_selection').select('.nb_select').property('value'));
      }
    }
  }, {
    key: 'changeStudyZone',
    value: function changeStudyZone() {
      var _this7 = this;

      this.removeLines();
      this.map_elem.updateLegend();
      this.ratios = app.current_config.ratio;
      this.nums = app.current_config.num;
      this.data = app.current_data.filter(function (ft) {
        return _this7.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.prepareData();
      var temp = this.highlight_selection.length;
      this.highlight_selection = [];
      this.updateTableStat();
      this.updateCompletude();
      this.applySelection(temp);
      this.updateMapRegio();
    }
  }, {
    key: 'prepareData',
    value: function prepareData() {
      var _this8 = this;

      this.means = {};
      this.stddevs = {};
      this.ratios.forEach(function (v) {
        var values = _this8.data.map(function (ft) {
          return +ft[v];
        });
        var mean = getMean(values);
        _this8.means[v] = mean;
        _this8.stddevs[v] = getStdDev(values, mean);
      });
      this.data.forEach(function (ft) {
        _this8.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['cr_' + v] = (+ft[v] - _this8.means[v]) / _this8.stddevs[v];
          // // eslint-disable-next-line no-param-reassign
          // ft[`dist_${v}`] = math_abs(+ft[v] - +this.my_region[v]);
        });
      });
      this.my_region = this.data.find(function (d) {
        return d.id === app.current_config.my_region;
      });
      this.data.forEach(function (ft) {
        _this8.ratios.forEach(function (v) {
          // eslint-disable-next-line no-param-reassign
          ft['dist_' + v] = math_abs(+ft['cr_' + v] - +_this8.my_region['cr_' + v]);
        });
      });
      this.current_ids = this.data.map(function (d) {
        return d.id;
      });
      this.data.forEach(function (ft) {
        // eslint-disable-next-line no-param-reassign, no-restricted-properties
        ft.dist = math_sqrt(_this8.ratios.map(function (_v) {
          return 'dist_' + _v;
        }).map(function (_v) {
          return math_pow(ft[_v], 2);
        }).reduce(function (a, b) {
          return a + b;
        }));
      });
      this.data.sort(function (a, b) {
        return a.dist - b.dist;
      });
      // eslint-disable-next-line no-param-reassign
      this.data.forEach(function (el, i) {
        el.globalrank = i;
      });
    }
  }, {
    key: 'addVariable',
    value: function addVariable$$1(code_variable) {
      var _this9 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this9.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.prepareData();
      // To keep the same selection :
      // this.highlight_selection = this.highlight_selection.map((d) => {
      //   return this.data.find(el => el.id === d.id);
      // }).filter(d => !!d);
      // this.update();

      // To use a new selection according to 'nb_select' value:
      this.applySelection(+d3.select('#menu_selection').select('.nb_select').property('value'));

      this.updateTableStat();
      this.updateMapRegio();
      Tooltipsify('[title-tooltip]');
    }
  }, {
    key: 'removeVariable',
    value: function removeVariable$$1(code_variable) {
      var _this10 = this;

      this.removeLines();
      this.ratios = app.current_config.ratio.slice();
      this.nums = app.current_config.num.slice();
      this.data = app.current_data.filter(function (ft) {
        return _this10.ratios.map(function (v) {
          return !!ft[v];
        }).every(function (v) {
          return v === true;
        });
      }).slice();
      this.prepareData();

      this.draw_group.select('g#l_' + code_variable).remove();

      // And use it immediatly:
      this.updateTableStat();
      this.updateMapRegio();
      // To use a new selection according to 'nb_select' value:
      this.applySelection(+d3.select('#menu_selection').select('.nb_select').property('value'));
    }
  }, {
    key: 'bindMenu',
    value: function bindMenu() {
      var self = this;
      var menu = d3.select('#menu_selection');
      var applychange = function applychange() {
        // self.map_elem.removeRectBrush();
        var value = +this.value;
        if (value < 1) {
          this.value = 1;
          return;
        }
        self.applySelection(value);
      };
      menu.select('.nb_select').on('change', applychange);
      menu.select('.nb_select').on('wheel', applychange);
      menu.select('.nb_select').on('keyup', applychange);
      menu.select('#check_prop').on('change', function () {
        if (this.checked) {
          menu.select('.slider-checkbox > .label').attr('class', 'label noselect');
          self.proportionnal_symbols = true;
        } else {
          menu.select('.slider-checkbox > .label').attr('class', 'label noselect not_selected');
          self.proportionnal_symbols = false;
        }
        self.update();
      });
    }
  }, {
    key: 'removeLines',
    value: function removeLines() {
      this.draw_group.selectAll('.regio_line').remove();
    }
  }, {
    key: 'remove',
    value: function remove() {
      this.map_elem.layers.selectAll('.cloned').remove();
      this.map_elem.unbindBrushClick();
      this.map_elem = null;
      this.table_stats.remove();
      this.table_stats = null;
      svg_bar$3.text('').html('');
    }
  }, {
    key: 'bindMap',
    value: function bindMap(map_elem) {
      this.map_elem = map_elem;
      this.map_elem.resetColors(this.current_ids);
      this.map_elem.displayLegend(2);
      this.applySelection(1);
    }
  }, {
    key: 'prepareTableStat',
    value: function prepareTableStat() {
      var _this11 = this;

      var ratios = this.ratios;
      var all_values = ratios.map(function (v) {
        return _this11.data.map(function (d) {
          return +d[v];
        });
      });
      var my_region = this.my_region;
      var features = all_values.map(function (values, i) {
        return {
          Min: d3.min(values),
          Max: d3.max(values),
          Moy: getMean(values),
          Med: d3.median(values),
          id: _this11.ratios[i],
          Variable: _this11.ratios[i],
          'Ma rÃ©gion': my_region[_this11.ratios[i]]
        };
      });
      return features;
    }
  }, {
    key: 'updateTableStat',
    value: function updateTableStat() {
      this.table_stats.removeAll();
      this.table_stats.addFeatures(this.prepareTableStat());
    }
  }, {
    key: 'makeTableStat',
    value: function makeTableStat() {
      var features = this.prepareTableStat();
      this.table_stats = new TableResumeStat(features);
    }
  }, {
    key: 'getHelpMessage',
    value: function getHelpMessage() {
      return '\n<h3>Ressemblances</h3>\n\n<b>Aide g\xE9n\xE9rale</b>\n\nLes graphiques de ressemblance permettent de visualiser pour 1 \xE0 8 indicateurs les unit\xE9s territoriales les plus proches statistiquement \xE0 l\u2019unit\xE9 territoriale de r\xE9f\xE9rence.\n\nCette proximit\xE9 est mesur\xE9e par la distance euclidienne. Cette fonction permet d\u2019\xE9valuer la distance normalis\xE9e globale (exprim\xE9e en rang) s\xE9parant l\u2019unit\xE9 territoriale de r\xE9f\xE9rence avec l\u2019ensemble des autres unit\xE9s territoriales pour un ensemble d\u2019indicateurs. La formule de la fonction est la suivante :\n\n<p style="text-align:center;font-size: 1em;"><b>\u03A3(xi - yi)\xB2</b></p>\n\nSi la valeur de l\u2019indice \xE9quivaut \xE0 0, la similarit\xE9 est totale entre deux unit\xE9s territoriales. Plus la valeur de l\u2019indice est \xE9lev\xE9e, plus la dissimilarit\xE9 est importante. A noter que cette m\xE9trique euclidienne est assez sensible aux ordres de grandeur h\xE9t\xE9rog\xE8nes entre plusieurs indicateurs (un fort \xE9cart pour un indicateur peut affecter significativement la valeur de l\u2019indice).\n\nPour \xE9viter de potentielles erreurs d\u2019interpr\xE9tation li\xE9es \xE0 cet indice de similarit\xE9 synth\xE9tique, Regioviz propose syst\xE9matiquement une repr\xE9sentation graphique permettant d\u2019\xE9valuer visuellement le degr\xE9 de similarit\xE9 indicateur par indicateur.\n\nPar d\xE9faut, l\u2019application renvoie les 5 unit\xE9s territoriales pour l\u2019espace d\u2019\xE9tude et les indicateurs s\xE9lectionn\xE9es qui sont d\xE9finis par la distance euclidienne la plus faible. Libre \xE0 l\u2019utilisateur de choisir plus ou moins d\u2019unit\xE9s territoriales de comparaison en fonction de ses objectifs d\u2019analyse.\n\nSur le graphique apparaissent les n unit\xE9s territoriales les plus proches pour chaque indicateur dans leurs unit\xE9s de mesure respectives. L\u2019unit\xE9 territoriale de r\xE9f\xE9rence appara\xEEt syst\xE9matiquement au centre de chacun des graphiques. Un clic gauche sur une des unit\xE9s territoriales sur le graphique ou sur la carte g\xE9n\xE8re une ligne entre chaque indicateur permettant d\u2019\xE9valuer le degr\xE9 de ressemblance avec l\u2019unit\xE9 territoriale de r\xE9f\xE9rence et visualiser ainsi si celle-ci se positionne au-dessus ou en dessous, et pour quel indicateur.\n\nPar d\xE9faut, la taille des cercles sur le graphique est constante. Mais l\u2019utilisateur peut activer l\u2019option \xAB cercles proportionnels au num\xE9rateur \xBB pour visualiser graphiquement la masse des unit\xE9s territoriales. Par exemple, si l\u2019indicateur PIB par habitant est s\xE9lectionn\xE9, la taille des cercles sera proportionnelle \xE0 la masse de PIB des unit\xE9s territoriales. Si c\u2019est la part des 0-24 ans dans la population totale, la taille des figur\xE9s sera proportionnelle \xE0 la masse de la population \xE2g\xE9e de 0 \xE0 24 ans. Cette option a \xE9t\xE9 cr\xE9\xE9e afin de pouvoir restituer les ordres de grandeur potentiellement h\xE9t\xE9rog\xE8nes des unit\xE9s territoriales propos\xE9es dans l\u2019application.';
    }
  }, {
    key: 'getTemplateHelp',
    value: function getTemplateHelp() {
      return '';
    }
  }]);
  return Similarity1plus;
}();

var variables_info = [];

var study_zones = [{ id: 'no_filter', name: 'UE28', display_level: '' }, { id: 'filter_dist', name: 'RÃ©gion dans un rayon de ', display_level: '' }];
var territorial_mesh = [];

var app = {
  // A mapping id -> color, containing the color to use for each
  // feature not using the default color or the disabled color
  colors: {},
  // The filtered dataset (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) selected on the left menu:
  current_data: [],
  // The full dataset provided (containing all the features at any level in one table)
  // Row without data are expected to be empty or to contain the "NA" string.
  full_dataset: [],
  // The ids of the current feature in use (acccording to: the current territorial level,
  // the filter key (if any) and the ratio(s) used in the current chart; filtered
  // to not contain feature with empty ratio values within the ratios in use).
  current_ids: [],
  // The current version number (not used for now, except for displaying it):
  version: '0.0.0'
};

function setDefaultConfig() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'REVMEN';
  // }, level = 'NUTS1') {
  var var_info = variables_info.find(function (ft) {
    return ft.id === variable;
  });
  app.current_config = {
    // The name of the field of the dataset containing the ID of each feature:
    id_field: 'id',
    // The name of the field of the dataset containing the name of each feature:
    name_field: 'name',
    // The name of the field of the dataset containing the population of each feature:
    pop_field: 'POP_AGE_T',
    // The name of the field of the geojson layer containing the ID of each feature
    // (these values should match with the values of the "id_field" in the
    // tabular dataset)
    id_field_geom: 'id',
    num: [var_info.id1],
    denum: [var_info.id2],
    ratio: [variable],
    ratio_pretty_name: [var_info.name],
    ratio_unit: [var_info.unit],
    // The level currently in use:
    current_level: 'N1',
    // The ID of the region currently in use:
    my_region: code,
    // The name of the region currently in use:
    my_region_pretty_name: app.feature_names[code],
    // How many ratio on the current chart:
    nb_var: 1
  };
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Function to update the availables ratios in the left menu (after changing region)
* If a selected variable is not available anymore it will be deselected.
* If there selected variable (all the previously selected variables are unavailable for this region)
* the first variable on the menu will be selected.
* If the new number of selected feature is inferior to the number of variables on the current
* chart, a new chart (suitable for only 1 variable) will be selected.
*
*
* @param {String} my_region - The ID of the newly selected region.
* @return {Number} - The new number of selected ratios.
*
*/
function updateAvailableRatios(my_region) {
  var data_my_feature = app.full_dataset.filter(function (ft) {
    return ft[app.current_config.id_field] === my_region;
  })[0];
  var menu = document.querySelector('#menu');
  var lines = menu.querySelectorAll('.target_variable');
  for (var i = 0, nb_lines = lines.length; i < nb_lines; i++) {
    var code_variable = lines[i].getAttribute('value');
    if (data_my_feature[code_variable] !== undefined && data_my_feature[code_variable] !== 'NA') {
      lines[i].classList.remove('disabled');
      lines[i].nextSibling.classList.remove('disabled');
    } else {
      lines[i].classList.remove('checked');
      lines[i].classList.add('disabled');
      lines[i].nextSibling.classList.add('disabled');
    }
  }
  var new_var = menu.querySelectorAll('.target_variable.checked');
  if (new_var.length !== app.current_config.ratio.length) {
    var new_var_names = void 0;
    if (new_var.length === 0) {
      var name = selectFirstAvailableVar();
      new_var_names = [name];
    } else {
      new_var_names = Array.prototype.slice.call(new_var).map(function (elem) {
        return elem.getAttribute('value');
      });
    }
    resetVariables(app, new_var_names);
  }
  return new_var.length;
}

function setDefaultConfigMenu() {
  var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'FRE';
  var variable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'REVMEN';
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'N1';

  document.querySelector('.target_region.square[value="' + code + '"]').classList.add('checked');
  document.querySelector('.target_variable.small_square[value="' + variable + '"]').classList.add('checked');
  document.querySelector('.filter_v.square[filter-value="no_filter"]').classList.add('checked');
  document.querySelector('.territ_level.square[value="' + level + '"]').classList.add('checked');
  document.querySelector('.regio_name > #search').value = app.feature_names[code];
  document.querySelector('.regio_name > #autocomplete').value = app.feature_names[code];
  updateAvailableRatios(code);
}

function updateMenuStudyZones() {
  Array.prototype.forEach.call(document.querySelectorAll('#menu_studyzone > p'), function (elem) {
    var val = elem.querySelector('.filter_v.square').getAttribute('display_level');
    if (val === '' || val === app.current_config.current_level) {
      // eslint-disable-next-line no-param-reassign
      elem.style.display = null;
    } else {
      // eslint-disable-next-line no-param-reassign
      elem.style.display = 'none';
    }
  });
}

function resetColors() {
  app.colors = {};
  // for (let i = 0, len_i = current_ids.length; i < len_i; i++) {
  //   app.colors[current_ids[i]] = color_countries;
  // }
  app.colors[app.current_config.my_region] = color_highlight;
}

/**
* Update the menu located on the top of the window the display the available
* charts, according to the current number of selected variables.
*
* @param {Number} nb_var - How many variables are currently selected.
* @return {void}
*
*/
function updateAvailableCharts(nb_var) {
  if (nb_var === 1) {
    // Allow all kind of vizu with 1 variable:
    d3.selectAll('.chart_t1').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t2, .chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var === 2) {
    // Allow all kind of vizu with 2 variables:
    d3.selectAll('.chart_t1, .chart_t2').each(function () {
      this.classList.remove('disabled');
    });
    d3.selectAll('.chart_t3').each(function () {
      this.classList.add('disabled');
    });
  } else if (nb_var > 2) {
    // Allow all kind of vizu with 3 variables:
    d3.selectAll('.chart_t1, .chart_t2, .chart_t3').each(function () {
      this.classList.remove('disabled');
    });
  }
}

function updateMyCategorySection() {
  if (app.current_config.my_category) {
    document.querySelector('.filter_info').innerHTML = app.current_config.my_category;
  } else if (app.current_config.filter_key instanceof Array) {
    document.querySelector('.filter_info').innerHTML = 'R\xE9gions dans un voisinage de ' + +d3.select('#dist_filter').property('value') + ' km';
  } else {
    document.querySelector('.filter_info').innerHTML = 'Ensemble des rÃ©gions';
  }
}

/**
* Create handlers for user event on the left menu and on the map for charts only
* allowing to use 1 variable.
*
* @param {Object} chart - The chart object.
* @param {Object} map_elem - The map object.
* @return {void}
*
*/
function bindUI_chart(chart, map_elem) {
  // User click on the arrow next to the input element in the first section
  // of the left menu:
  d3.select('span.down_arrow').on('click', function () {
    var list_regio = document.getElementById('list_regio');
    if (list_regio.classList.contains('hidden')) {
      list_regio.classList.remove('hidden');
    } else {
      list_regio.classList.add('hidden');
    }
  });
  // User change the study zone:
  d3.selectAll('span.filter_v').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.filter_v').attr('class', 'filter_v square');
      this.classList.add('checked');
      var filter_type = this.getAttribute('filter-value');
      if (filter_type === 'filter_dist') {
        var input_elem = document.getElementById('dist_filter');
        input_elem.removeAttribute('disabled');
        var dist = +input_elem.value;
        var ids = map_elem.getUnitsWithin(dist);
        applyFilter(app, ids);
      } else {
        document.getElementById('dist_filter').setAttribute('disabled', 'disabled');
        applyFilter(app, filter_type);
      }
      updateMyCategorySection();
      chart.changeStudyZone();
      chart.updateCompletude();
    }
  });

  d3.select('#dist_filter').on('change, keyup', function () {
    var ids = map_elem.getUnitsWithin(+this.value);
    applyFilter(app, ids);
    chart.changeStudyZone();
    chart.updateCompletude();
  });

  // User change the targeted region:
  d3.selectAll('span.target_region').on('click', function () {
    if (!this.classList.contains('checked')) {
      d3.selectAll('span.target_region').attr('class', 'target_region square');
      this.classList.add('checked');

      var id_region = this.getAttribute('value');
      var old_nb_var = app.current_config.ratio.length;
      changeRegion(app, id_region, map_elem);

      document.getElementById('list_regio').classList.add('hidden');
      document.querySelector('.regio_name > #search').value = app.feature_names[id_region];
      document.querySelector('.regio_name > #autocomplete').value = app.feature_names[id_region];
      // Update the availables ratio on the left menu
      // (this may change the current selected ratio(s) as some variables are
      // not available for some features) and fetch the number of selected
      // variables after that:
      var new_nb_var = updateAvailableRatios(id_region);
      updateAvailableCharts(new_nb_var);
      updateMyCategorySection();
      if (new_nb_var >= app.current_config.nb_var) {
        if (old_nb_var === new_nb_var) {
          chart.updateChangeRegion();
        } else {
          d3.select('span.type_chart.selected').dispatch('click');
          alertify.warning('Une variable prÃ©cÃ©demment sÃ©lectionnÃ©e n\'est pas disponible pour cette rÃ©gion.');
        }
      } else {
        // If there fewer selected variables than requested by the current chart,
        // redraw the first (default) kind of chart:
        d3.select('span.chart_t1[value="BarChart1"]').dispatch('click');
        alertify.warning('Des variables sÃ©lectionnÃ©es sont indisponibles pour cette rÃ©gion. Un changement de reprÃ©sentation est nÃ©cessaire.');
      }
    }
  });

  // User click on the name of a group of variables
  // to expand or collapse its content:
  d3.selectAll('.name_group_var').on('click', function () {
    var group_var = this.nextSibling;
    var title_arrow = this.querySelector('span.arrow');
    if (group_var.style.display === 'none') {
      title_arrow.classList.remove('arrow_down');
      title_arrow.classList.add('arrow_right');
      group_var.style.display = null;
    } else {
      title_arrow.classList.remove('arrow_right');
      title_arrow.classList.add('arrow_down');
      group_var.style.display = 'none';
    }
  });

  // User click to add/remove a variable from the comparison:
  d3.selectAll('span.target_variable').on('click', function () {
    if (this.classList.contains('disabled')) return;
    var nb_var = Array.prototype.slice.call(document.querySelectorAll('span.target_variable')).filter(function (elem) {
      return !!elem.classList.contains('checked');
    }).length;
    // Select a new variable and trigger the appropriate changes on the current chart:
    if (!this.classList.contains('checked')) {
      // We don't want the user to be able to select more than
      // MAX_VARIABLES (default = 7) variables simultaneously:
      if (nb_var >= MAX_VARIABLES) {
        alertify.warning('Le nombre maximal de variables sÃ©lectionnÃ©es est atteint.');
        return;
      }
      this.classList.add('checked');
      var code_variable = this.getAttribute('value');
      // const name_variable = variables_info.find(d => d.id === code_variable).name;
      addVariable(app, code_variable);

      chart.addVariable(code_variable);
      nb_var += 1;
    } else {
      // Remove a variable from the selection:
      nb_var -= 1;
      // We don't want to let the user remove the variable if
      // it's the only one selected or if the currently displayed
      // chart need a minimum number of variables:
      if (nb_var < app.current_config.nb_var) {
        return;
      }
      var _code_variable = this.getAttribute('value');
      this.classList.remove('checked');
      removeVariable(app, _code_variable);
      chart.removeVariable(_code_variable);
      // makeTable(app.current_data, app.current_config);
    }
    // Update the top menu to display available charts according to the current
    // number of available variables:
    updateAvailableCharts(nb_var);
  });

  d3.selectAll('span.territ_level').on('click', function () {
    if (!this.classList.contains('checked')) {
      // Reset the study zone :
      d3.select('span.filter_v[filter-value="no_filter"]').dispatch('click');
      d3.selectAll('span.territ_level').attr('class', 'territ_level square');
      this.classList.add('checked');
      var level_value = this.getAttribute('value');
      app.current_config.current_level = level_value;
      updateMenuStudyZones();
      filterLevelVar(app);
      resetColors();
      map_elem.updateLevelRegion(level_value);
      map_elem.unbindBrushClick();
      map_elem.bindBrushClick(chart);
      chart.changeStudyZone();
    }
  });

  // Dispatch a click event on the associated checkbox when the text is clicked:
  d3.selectAll('span.label_chk').on('click', function () {
    this.previousSibling.click();
  });

  var header_map_section = d3.select('#map_section > #header_map');

  header_map_section.select('#img_rect_selec').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').style('display', null);
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_zoom').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_select').classList.remove('active');
      svg_map.call(map_elem.zoom_map);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  });

  header_map_section.select('#img_map_select').on('click', function () {
    if (!this.classList.contains('active')) {
      this.classList.add('active');
      document.getElementById('img_rect_selec').classList.remove('active');
      document.getElementById('img_map_zoom').classList.remove('active');
      svg_map.on('.zoom', null);
      if (map_elem.brush_map) {
        svg_map.select('.brush_map').call(map_elem.brush_map.move, null);
        svg_map.select('.brush_map').style('display', 'none');
      }
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    }
  });

  header_map_section.select('#zoom_in').on('click', zoomClick);

  header_map_section.select('#zoom_out').on('click', zoomClick);

  if (!map_elem.brush_map) {
    if (chart.handleClickMap) {
      map_elem.target_layer.selectAll('path').on('click', function (d) {
        chart.handleClickMap(d, this);
      });
    } else {
      map_elem.target_layer.selectAll('path').on('click', null);
    }
  }
  bindTopButtons(chart, map_elem);
}

/**
* Function to handle click on the top menu, in order to choose
* between available representations.
*
* @param {Object} chart -
* @param {Object} map_elem -
* @return {void}
*/
function bindTopButtons(chart, map_elem) {
  d3.selectAll('.type_chart').on('click', function () {
    if (this.classList.contains('disabled')) return;
    // if (this.classList.contains('selected')) return;
    document.querySelector('.type_chart.selected').classList.remove('selected');
    this.classList.add('selected');
    chart.remove();
    chart = null; // eslint-disable-line no-param-reassign
    unbindUI();
    map_elem.resetZoom();
    app.colors = {};
    var value = this.getAttribute('value');
    if (value === 'BarChart1') {
      chart = new BarChart1(app.current_data); // eslint-disable-line no-param-reassign
    } else if (value === 'ScatterPlot2') {
      chart = new ScatterPlot2(app.current_data); // eslint-disable-line no-param-reassign
    } else if (value === 'RadarChart3') {
      chart = new RadarChart3(app.current_data); // eslint-disable-line no-param-reassign
    } else if (value === 'Similarity1plus') {
      chart = new Similarity1plus(app.current_data); // eslint-disable-line no-param-reassign
    }
    bindUI_chart(chart, map_elem);
    map_elem.bindBrushClick(chart);
    chart.bindMap(map_elem);
    app.chart = chart;
    app.map = map_elem;
    Tooltipsify('[title-tooltip]');
  });
}

function bindHelpMenu() {
  var help_buttons_var = document.querySelector('#menu_variables').querySelectorAll('span.i_info');
  Array.prototype.slice.call(help_buttons_var).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign
    btn_i.onclick = function () {
      var code_variable = this.previousSibling.previousSibling.getAttribute('value');
      var o = variables_info.find(function (d) {
        return d.id === code_variable;
      });
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      modal.setContent('<p style="color: #4f81bd;font-size: 1.2rem;">Description de l\'indicateur</p>\n        <p style="text-align: justify;">' + o.methodo.split('\n').join('<br>') + '</p>\n        <p>' + o.source + '</p>\n        <p>Date de t\xE9l\xE9chargement de la donn\xE9e : ' + o.last_update + '</p>');
      modal.open();
    };
  });

  var helps_buttons_study_zone = document.querySelector('#menu_studyzone').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_study_zone).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign, func-names
    btn_i.onclick = function () {
      var filter_id = this.previousSibling.previousSibling.getAttribute('filter-value');
      var o = study_zones.find(function (d) {
        return d.id === filter_id;
      });
      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      var content = '<p style="color: #4f81bd;font-size: 1.2rem;"><b>' + o.name + '</b></p>\n<p style="text-align: justify;">' + o.methodology.split('\n').join('<br>') + '</p>';

      if (['SPAT', 'UNIT_SUP'].indexOf(filter_id) < 0) {
        content += '<p><a class="buttonDownload" href="data/' + o.url + '">M\xE9thodologie d\xE9taill\xE9e (.pdf)</a></p>';
      }
      modal.setContent(content);
      modal.open();
      document.querySelector('a.buttonDownload').onclick = clickDlPdf;
    };
  });

  var helps_buttons_territ_unit = document.querySelector('#menu_territ_level').querySelectorAll('span.i_info');
  Array.prototype.slice.call(helps_buttons_territ_unit).forEach(function (btn_i) {
    // eslint-disable-next-line no-param-reassign, func-names
    btn_i.onclick = function () {
      var territ_level_id = this.previousSibling.previousSibling.getAttribute('value');
      var o = territorial_mesh.find(function (d) {
        return d.id === territ_level_id;
      });

      // eslint-disable-next-line new-cap
      var modal = new tingle_min.modal({
        stickyFooter: false,
        closeMethods: ['overlay', 'button', 'escape'],
        closeLabel: 'Close',
        onOpen: function onOpen() {
          document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0,0.4)';
        },
        onClose: function onClose() {
          modal.destroy();
        }
      });
      var content = '<p style="color: #4f81bd;font-size: 1.2rem;"><b>' + o.name + '</b></p>\n<p style="text-align: justify;">' + o.methodology.split('\n').join('<br>') + '</p>';
      if (o.id === 'N12_POL') {
        content += '<p><a class="buttonDownload" href="data/Doc_Maille_infranationale_decision.pdf">MÃ©thodologie dÃ©taillÃ©e (.pdf)</a></p>';
      }
      modal.setContent(content);
      modal.open();
    };
  });
}

function bindCreditsSource() {
  var credits_btn = document.querySelector('#link_credits_source');
  credits_btn.onclick = function () {
    // eslint-disable-next-line new-cap
    var modal = new tingle_min.modal({
      stickyFooter: false,
      closeMethods: ['overlay', 'button', 'escape'],
      closeLabel: 'Close',
      onOpen: function onOpen() {
        document.querySelector('div.tingle-modal.tingle-modal--visible').style.background = 'rgba(0,0,0,0.4)';
      },
      onClose: function onClose() {
        modal.destroy();
      }
    });
    modal.setContent('<p style="color: #4f81bd;font-size: 1.2rem;"><b>Regioviz</b> - \xC0 propos</p>\n      <br><br><br>\n      <p style="text-align: justify;">Code source : <a href="https://github.com/riatelab/regioviz/">https://github.com/riatelab/regioviz/</a></p>\n      <p style="text-align: justify;">Version <b>' + app.version + '</b></p>\n      <p style="text-align: justify;">D\xE9veloppement : ...</p>\n      <p style="text-align: justify;">Financement : ...</p>');
    modal.open();
  };
}

function loadData() {
  d3.queue(4).defer(d3.csv, 'data/REGIOVIZ_DATA.csv').defer(d3.json, 'data/CGET_nuts_all3035.geojson').defer(d3.json, 'data/borders3035.geojson').defer(d3.json, 'data/countries3035.geojson').defer(d3.json, 'data/countries-remote3035.geojson').defer(d3.json, 'data/coasts3035.geojson').defer(d3.json, 'data/coasts-remote3035.geojson').defer(d3.json, 'data/cyprus_non_espon_space3035.geojson').defer(d3.json, 'data/countries-remote-boundaries3035.geojson').defer(d3.json, 'data/frame3035.geojson').defer(d3.json, 'data/boxes3035.geojson').defer(d3.json, 'data/line3035.geojson').defer(d3.json, 'data/styles.json').defer(d3.csv, 'data/indicateurs_meta.csv').awaitAll(function (error, results) {
    if (error) throw error;
    document.body.classList.remove('loading');
    document.querySelector('.spinner').remove();
    app.ratioToWide = getRatioToWide();

    var _results = slicedToArray(results, 14),
        full_dataset = _results[0],
        nuts = _results[1],
        borders = _results[2],
        countries = _results[3],
        countries_remote = _results[4],
        coasts = _results[5],
        coasts_remote = _results[6],
        cyprus_non_espon_space = _results[7],
        countries_remote_boundaries = _results[8],
        frame = _results[9],
        boxes = _results[10],
        line = _results[11],
        styles_map = _results[12],
        metadata_indicateurs = _results[13];

    alertify.set('notifier', 'position', 'bottom-left');
    prepareVariablesInfo(metadata_indicateurs);
    // TODO : Reorder it in the dataset :
    var features_menu = full_dataset.filter(function (ft) {
      return ft.REGIOVIZ === '1';
    });
    features_menu = features_menu.slice(0, 1).concat(features_menu.slice(6)).concat(features_menu.slice(1, 6));
    // eslint-disable-next-line no-param-reassign
    features_menu.forEach(function (ft) {
      ft.name = ft.name.replace(' â€” ', ' - ');
    });
    var start_region = getRandom(features_menu.map(function (d) {
      return d.id;
    }), 12);
    var start_variable = getRandom(['REVMEN', 'CHOM1574', 'CHOM1524']);
    prepare_dataset(full_dataset, app);
    setDefaultConfig(start_region, start_variable, 'N1');
    prepareGeomLayerId(nuts, app.current_config.id_field_geom);
    createMenu(features_menu, variables_info.filter(function (d) {
      return d.group;
    }), study_zones, territorial_mesh);
    bindCreditsSource();
    updateMenuStudyZones();
    bindHelpMenu();
    makeTopMenu();
    handleInputRegioName(features_menu);
    makeHeaderChart();
    makeHeaderMapSection();
    setDefaultConfigMenu(start_region, start_variable, 'N1');
    filterLevelVar(app);
    var other_layers = new Map([['borders', borders], ['boxes', boxes], ['countries', countries], ['countries_remote', countries_remote], ['coasts', coasts], ['coasts_remote', coasts_remote], ['cyprus_non_espon_space', cyprus_non_espon_space], ['countries_remote_boundaries', countries_remote_boundaries], ['frame', frame], ['line', line], ['boxes2', boxes]]);
    var map_elem = new MapSelect(nuts, other_layers, styles_map);
    var chart = new BarChart1(app.current_data);
    makeSourceSection();
    bindUI_chart(chart, map_elem);
    map_elem.bindBrushClick(chart);
    chart.bindMap(map_elem);
    app.chart = chart;
    app.map = map_elem;
    Tooltipsify('[title-tooltip]');
  });
}

loadData();

window.onresize = function () {
  var width_value_map = document.getElementById('map_section').getBoundingClientRect().width * 0.98;
  var width_value_chart = document.getElementById('bar_section').getBoundingClientRect().width * 0.98;
  d3.select('.cont_svg.cmap').style('padding-top', fixed_dimension.map.height / fixed_dimension.map.width * width_value_map + 'px');
  d3.select('.cont_svg.cchart').style('padding-top', fixed_dimension.chart.height / fixed_dimension.chart.width * width_value_chart + 'px');
  d3.select('.cont_svg.clgd').style('padding-top', fixed_dimension.legend.height / fixed_dimension.legend.width * width_value_map + 'px');
};

exports.variables_info = variables_info;
exports.study_zones = study_zones;
exports.territorial_mesh = territorial_mesh;
exports.app = app;
exports.resetColors = resetColors;
exports.bindTopButtons = bindTopButtons;

return exports;

}({}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy90aW5nbGUuanMvZGlzdC90aW5nbGUubWluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2FsZXJ0aWZ5anMvYnVpbGQvYWxlcnRpZnkuanMiLCIuLi8uLi9zcmMvc3R5bGVzL21haW4uY3NzIiwiLi4vLi4vc3JjL3N0eWxlcy90aW5nbGUubWluLmNzcyIsIi4uLy4uL3NyYy9zdHlsZXMvdGlwcHkuY3NzIiwiLi4vLi4vc3JjL3N0eWxlcy9hbGVydGlmeS5taW4uY3NzIiwiLi4vLi4vc3JjL3N0eWxlcy9zZW1hbnRpYy5taW4uY3NzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9vcHRpb25zLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9oZWxwZXJzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9tZW51bGVmdC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWVudXRvcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdHVyZi9oZWxwZXJzL21haW4uZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHR1cmYvbWV0YS9tYWluLmVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0dXJmL2NlbnRyb2lkL21haW4uZXMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3ByZXBhcmVfZGF0YS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvbWFwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9kZWJ1Zy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvdGFibGVSZXN1bWVTdGF0LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jb21wbGV0dWRlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jb250ZXh0TWVudS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvc2NhdHRlclBsb3RfMnYuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2NoYXJ0cy9yYWRhckNoYXJ0XzN2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jaGFydHMvc2ltaWxhcml0eTF2LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxvKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKG8pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW8oKTp0LnRpbmdsZT1vKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBvPXtvbkNsb3NlOm51bGwsb25PcGVuOm51bGwsYmVmb3JlT3BlbjpudWxsLGJlZm9yZUNsb3NlOm51bGwsc3RpY2t5Rm9vdGVyOiExLGZvb3RlcjohMSxjc3NDbGFzczpbXSxjbG9zZUxhYmVsOlwiQ2xvc2VcIixjbG9zZU1ldGhvZHM6W1wib3ZlcmxheVwiLFwiYnV0dG9uXCIsXCJlc2NhcGVcIl19O3RoaXMub3B0cz1yKHt9LG8sdCksdGhpcy5pbml0KCl9ZnVuY3Rpb24gbygpe3RoaXMubW9kYWxCb3hGb290ZXImJih0aGlzLm1vZGFsQm94Rm9vdGVyLnN0eWxlLndpZHRoPXRoaXMubW9kYWxCb3guY2xpZW50V2lkdGgrXCJweFwiLHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUubGVmdD10aGlzLm1vZGFsQm94Lm9mZnNldExlZnQrXCJweFwiKX1mdW5jdGlvbiBlKCl7dGhpcy5tb2RhbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbFwiKSwwIT09dGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5sZW5ndGgmJnRoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcIm92ZXJsYXlcIikhPT0tMXx8dGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLS1ub092ZXJsYXlDbG9zZVwiKSx0aGlzLm1vZGFsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5vcHRzLmNzc0NsYXNzLmZvckVhY2goZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCh0KX0sdGhpcyksdGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiYnV0dG9uXCIpIT09LTEmJih0aGlzLm1vZGFsQ2xvc2VCdG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG4uY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbF9fY2xvc2VcIiksdGhpcy5tb2RhbENsb3NlQnRuSWNvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5JY29uLmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWxfX2Nsb3NlSWNvblwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5JY29uLmlubmVySFRNTD1cIsOXXCIsdGhpcy5tb2RhbENsb3NlQnRuTGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksdGhpcy5tb2RhbENsb3NlQnRuTGFiZWwuY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbF9fY2xvc2VMYWJlbFwiKSx0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbC5pbm5lckhUTUw9dGhpcy5vcHRzLmNsb3NlTGFiZWwsdGhpcy5tb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKHRoaXMubW9kYWxDbG9zZUJ0bkljb24pLHRoaXMubW9kYWxDbG9zZUJ0bi5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQ2xvc2VCdG5MYWJlbCkpLHRoaXMubW9kYWxCb3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1vZGFsQm94LmNsYXNzTGlzdC5hZGQoXCJ0aW5nbGUtbW9kYWwtYm94XCIpLHRoaXMubW9kYWxCb3hDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tb2RhbEJveENvbnRlbnQuY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbC1ib3hfX2NvbnRlbnRcIiksdGhpcy5tb2RhbEJveC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Q29udGVudCksdGhpcy5vcHRzLmNsb3NlTWV0aG9kcy5pbmRleE9mKFwiYnV0dG9uXCIpIT09LTEmJnRoaXMubW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbENsb3NlQnRuKSx0aGlzLm1vZGFsLmFwcGVuZENoaWxkKHRoaXMubW9kYWxCb3gpfWZ1bmN0aW9uIHMoKXt0aGlzLm1vZGFsQm94Rm9vdGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tb2RhbEJveEZvb3Rlci5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLWJveF9fZm9vdGVyXCIpLHRoaXMubW9kYWxCb3guYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEJveEZvb3Rlcil9ZnVuY3Rpb24gaSgpe3RoaXMuX2V2ZW50cz17Y2xpY2tDbG9zZUJ0bjp0aGlzLmNsb3NlLmJpbmQodGhpcyksY2xpY2tPdmVybGF5OmwuYmluZCh0aGlzKSxyZXNpemU6dGhpcy5jaGVja092ZXJmbG93LmJpbmQodGhpcyksa2V5Ym9hcmROYXY6bi5iaW5kKHRoaXMpfSx0aGlzLm9wdHMuY2xvc2VNZXRob2RzLmluZGV4T2YoXCJidXR0b25cIikhPT0tMSYmdGhpcy5tb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2V2ZW50cy5jbGlja0Nsb3NlQnRuKSx0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9ldmVudHMuY2xpY2tPdmVybGF5KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX2V2ZW50cy5yZXNpemUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fZXZlbnRzLmtleWJvYXJkTmF2KX1mdW5jdGlvbiBuKHQpe3RoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcImVzY2FwZVwiKSE9PS0xJiYyNz09PXQud2hpY2gmJnRoaXMuaXNPcGVuKCkmJnRoaXMuY2xvc2UoKX1mdW5jdGlvbiBsKHQpe3RoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcIm92ZXJsYXlcIikhPT0tMSYmIWQodC50YXJnZXQsXCJ0aW5nbGUtbW9kYWxcIikmJnQuY2xpZW50WDx0aGlzLm1vZGFsLmNsaWVudFdpZHRoJiZ0aGlzLmNsb3NlKCl9ZnVuY3Rpb24gZCh0LG8pe2Zvcig7KHQ9dC5wYXJlbnRFbGVtZW50KSYmIXQuY2xhc3NMaXN0LmNvbnRhaW5zKG8pOyk7cmV0dXJuIHR9ZnVuY3Rpb24gYSgpe3RoaXMub3B0cy5jbG9zZU1ldGhvZHMuaW5kZXhPZihcImJ1dHRvblwiKSE9PS0xJiZ0aGlzLm1vZGFsQ2xvc2VCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fZXZlbnRzLmNsaWNrQ2xvc2VCdG4pLHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2V2ZW50cy5jbGlja092ZXJsYXkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fZXZlbnRzLnJlc2l6ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9ldmVudHMua2V5Ym9hcmROYXYpfWZ1bmN0aW9uIHIoKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWZvcih2YXIgbyBpbiBhcmd1bWVudHNbdF0pYXJndW1lbnRzW3RdLmhhc093blByb3BlcnR5KG8pJiYoYXJndW1lbnRzWzBdW29dPWFyZ3VtZW50c1t0XVtvXSk7cmV0dXJuIGFyZ3VtZW50c1swXX1mdW5jdGlvbiBoKCl7dmFyIHQsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGluZ2xlLXRlc3QtdHJhbnNpdGlvblwiKSxlPXt0cmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLFdlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJ9O2Zvcih0IGluIGUpaWYodm9pZCAwIT09by5zdHlsZVt0XSlyZXR1cm4gZVt0XX12YXIgYz1oKCk7cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLm1vZGFsfHwoZS5jYWxsKHRoaXMpLGkuY2FsbCh0aGlzKSxkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLm1vZGFsLGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCksdGhpcy5vcHRzLmZvb3RlciYmdGhpcy5hZGRGb290ZXIoKSl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5tb2RhbCYmKGEuY2FsbCh0aGlzKSx0aGlzLm1vZGFsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tb2RhbCksdGhpcy5tb2RhbD1udWxsKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vcHRzLmJlZm9yZU9wZW4mJnQub3B0cy5iZWZvcmVPcGVuKCksdGhpcy5tb2RhbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eT90aGlzLm1vZGFsLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiZGlzcGxheVwiKTp0aGlzLm1vZGFsLnN0eWxlLnJlbW92ZUF0dHJpYnV0ZShcImRpc3BsYXlcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLWVuYWJsZWRcIiksdGhpcy5zZXRTdGlja3lGb290ZXIodGhpcy5vcHRzLnN0aWNreUZvb3RlciksdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLS12aXNpYmxlXCIpLGM/dGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKGMsZnVuY3Rpb24gbygpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQub3B0cy5vbk9wZW4mJnQub3B0cy5vbk9wZW4uY2FsbCh0KSx0Lm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxvLCExKX0sITEpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub3B0cy5vbk9wZW4mJnQub3B0cy5vbk9wZW4uY2FsbCh0KSx0aGlzLmNoZWNrT3ZlcmZsb3coKX0sdC5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcInRpbmdsZS1tb2RhbC0tdmlzaWJsZVwiKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdHMuYmVmb3JlQ2xvc2Upe3ZhciB0PXRoaXMub3B0cy5iZWZvcmVDbG9zZS5jYWxsKHRoaXMpO2lmKCF0KXJldHVybn1kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtZW5hYmxlZFwiKSx0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtbW9kYWwtLXZpc2libGVcIik7dmFyIG89dGhpcztjP3RoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihjLGZ1bmN0aW9uIHQoKXtvLm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyx0LCExKSxvLm1vZGFsLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsXCJmdW5jdGlvblwiPT10eXBlb2Ygby5vcHRzLm9uQ2xvc2UmJm8ub3B0cy5vbkNsb3NlLmNhbGwodGhpcyl9LCExKTooby5tb2RhbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLFwiZnVuY3Rpb25cIj09dHlwZW9mIG8ub3B0cy5vbkNsb3NlJiZvLm9wdHMub25DbG9zZS5jYWxsKHRoaXMpKX0sdC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLm1vZGFsQm94Q29udGVudC5pbm5lckhUTUw9dDoodGhpcy5tb2RhbEJveENvbnRlbnQuaW5uZXJIVE1MPVwiXCIsdGhpcy5tb2RhbEJveENvbnRlbnQuYXBwZW5kQ2hpbGQodCkpfSx0LnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kYWxCb3hDb250ZW50fSx0LnByb3RvdHlwZS5hZGRGb290ZXI9ZnVuY3Rpb24oKXtzLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLnNldEZvb3RlckNvbnRlbnQ9ZnVuY3Rpb24odCl7dGhpcy5tb2RhbEJveEZvb3Rlci5pbm5lckhUTUw9dH0sdC5wcm90b3R5cGUuZ2V0Rm9vdGVyQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGFsQm94Rm9vdGVyfSx0LnByb3RvdHlwZS5zZXRTdGlja3lGb290ZXI9ZnVuY3Rpb24odCl7dGhpcy5pc092ZXJmbG93KCl8fCh0PSExKSx0P3RoaXMubW9kYWxCb3guY29udGFpbnModGhpcy5tb2RhbEJveEZvb3RlcikmJih0aGlzLm1vZGFsQm94LnJlbW92ZUNoaWxkKHRoaXMubW9kYWxCb3hGb290ZXIpLHRoaXMubW9kYWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEJveEZvb3RlciksdGhpcy5tb2RhbEJveEZvb3Rlci5jbGFzc0xpc3QuYWRkKFwidGluZ2xlLW1vZGFsLWJveF9fZm9vdGVyLS1zdGlja3lcIiksby5jYWxsKHRoaXMpLHRoaXMubW9kYWxCb3hDb250ZW50LnN0eWxlW1wicGFkZGluZy1ib3R0b21cIl09dGhpcy5tb2RhbEJveEZvb3Rlci5jbGllbnRIZWlnaHQrMjArXCJweFwiKTp0aGlzLm1vZGFsQm94Rm9vdGVyJiYodGhpcy5tb2RhbEJveC5jb250YWlucyh0aGlzLm1vZGFsQm94Rm9vdGVyKXx8KHRoaXMubW9kYWwucmVtb3ZlQ2hpbGQodGhpcy5tb2RhbEJveEZvb3RlciksdGhpcy5tb2RhbEJveC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsQm94Rm9vdGVyKSx0aGlzLm1vZGFsQm94Rm9vdGVyLnN0eWxlLndpZHRoPVwiYXV0b1wiLHRoaXMubW9kYWxCb3hGb290ZXIuc3R5bGUubGVmdD1cIlwiLHRoaXMubW9kYWxCb3hDb250ZW50LnN0eWxlW1wicGFkZGluZy1ib3R0b21cIl09XCJcIix0aGlzLm1vZGFsQm94Rm9vdGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aW5nbGUtbW9kYWwtYm94X19mb290ZXItLXN0aWNreVwiKSkpfSx0LnByb3RvdHlwZS5hZGRGb290ZXJCdG49ZnVuY3Rpb24odCxvLGUpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cmV0dXJuIHMuaW5uZXJIVE1MPXQscy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmby5sZW5ndGgmJm8uc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24odCl7cy5jbGFzc0xpc3QuYWRkKHQpfSksdGhpcy5tb2RhbEJveEZvb3Rlci5hcHBlbmRDaGlsZChzKSxzfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJSZXNpemUgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMS4wXCIpfSx0LnByb3RvdHlwZS5pc092ZXJmbG93PWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LmlubmVySGVpZ2h0LG89dGhpcy5tb2RhbEJveC5jbGllbnRIZWlnaHQ7cmV0dXJuIG8+PXR9LHQucHJvdG90eXBlLmNoZWNrT3ZlcmZsb3c9ZnVuY3Rpb24oKXt0aGlzLm1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcInRpbmdsZS1tb2RhbC0tdmlzaWJsZVwiKSYmKHRoaXMuaXNPdmVyZmxvdygpP3RoaXMubW9kYWwuY2xhc3NMaXN0LmFkZChcInRpbmdsZS1tb2RhbC0tb3ZlcmZsb3dcIik6dGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwidGluZ2xlLW1vZGFsLS1vdmVyZmxvd1wiKSwhdGhpcy5pc092ZXJmbG93KCkmJnRoaXMub3B0cy5zdGlja3lGb290ZXI/dGhpcy5zZXRTdGlja3lGb290ZXIoITEpOnRoaXMuaXNPdmVyZmxvdygpJiZ0aGlzLm9wdHMuc3RpY2t5Rm9vdGVyJiYoby5jYWxsKHRoaXMpLHRoaXMuc2V0U3RpY2t5Rm9vdGVyKCEwKSkpfSx7bW9kYWw6dH19KTsiLCIvKipcclxuICogYWxlcnRpZnlqcyAxLjExLjAgaHR0cDovL2FsZXJ0aWZ5anMuY29tXHJcbiAqIEFsZXJ0aWZ5SlMgaXMgYSBqYXZhc2NyaXB0IGZyYW1ld29yayBmb3IgZGV2ZWxvcGluZyBwcmV0dHkgYnJvd3NlciBkaWFsb2dzIGFuZCBub3RpZmljYXRpb25zLlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBNb2hhbW1hZCBZb3VuZXMgPE1vaGFtbWFkQGFsZXJ0aWZ5anMuY29tPiAoaHR0cDovL2FsZXJ0aWZ5anMuY29tKSBcclxuICogTGljZW5zZWQgdW5kZXIgR1BMIDMgPGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvZ3BsLTMuMD4qL1xyXG4oIGZ1bmN0aW9uICggd2luZG93ICkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEtleXMgZW51bVxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGtleXMgPSB7XHJcbiAgICAgICAgRU5URVI6IDEzLFxyXG4gICAgICAgIEVTQzogMjcsXHJcbiAgICAgICAgRjE6IDExMixcclxuICAgICAgICBGMTI6IDEyMyxcclxuICAgICAgICBMRUZUOiAzNyxcclxuICAgICAgICBSSUdIVDogMzlcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucyBcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvUmVzZXQ6dHJ1ZSxcclxuICAgICAgICBiYXNpYzpmYWxzZSxcclxuICAgICAgICBjbG9zYWJsZTp0cnVlLFxyXG4gICAgICAgIGNsb3NhYmxlQnlEaW1tZXI6dHJ1ZSxcclxuICAgICAgICBmcmFtZWxlc3M6ZmFsc2UsXHJcbiAgICAgICAgbWFpbnRhaW5Gb2N1czp0cnVlLCAvL2dsb2JhbCBkZWZhdWx0IG5vdCBwZXIgaW5zdGFuY2UsIGFwcGxpZXMgdG8gYWxsIGRpYWxvZ3NcclxuICAgICAgICBtYXhpbWl6YWJsZTp0cnVlLFxyXG4gICAgICAgIG1vZGFsOnRydWUsXHJcbiAgICAgICAgbW92YWJsZTp0cnVlLFxyXG4gICAgICAgIG1vdmVCb3VuZGVkOmZhbHNlLFxyXG4gICAgICAgIG92ZXJmbG93OnRydWUsXHJcbiAgICAgICAgcGFkZGluZzogdHJ1ZSxcclxuICAgICAgICBwaW5uYWJsZTp0cnVlLFxyXG4gICAgICAgIHBpbm5lZDp0cnVlLFxyXG4gICAgICAgIHByZXZlbnRCb2R5U2hpZnQ6ZmFsc2UsIC8vZ2xvYmFsIGRlZmF1bHQgbm90IHBlciBpbnN0YW5jZSwgYXBwbGllcyB0byBhbGwgZGlhbG9nc1xyXG4gICAgICAgIHJlc2l6YWJsZTp0cnVlLFxyXG4gICAgICAgIHN0YXJ0TWF4aW1pemVkOmZhbHNlLFxyXG4gICAgICAgIHRyYW5zaXRpb246J3B1bHNlJyxcclxuICAgICAgICBub3RpZmllcjp7XHJcbiAgICAgICAgICAgIGRlbGF5OjUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOidib3R0b20tcmlnaHQnLFxyXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbjpmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2xvc3Nhcnk6e1xyXG4gICAgICAgICAgICB0aXRsZTonQWxlcnRpZnlKUycsXHJcbiAgICAgICAgICAgIG9rOiAnT0snLFxyXG4gICAgICAgICAgICBjYW5jZWw6ICdDYW5jZWwnLFxyXG4gICAgICAgICAgICBhY2NjcHQ6ICdBY2NlcHQnLFxyXG4gICAgICAgICAgICBkZW55OiAnRGVueScsXHJcbiAgICAgICAgICAgIGNvbmZpcm06ICdDb25maXJtJyxcclxuICAgICAgICAgICAgZGVjbGluZTogJ0RlY2xpbmUnLFxyXG4gICAgICAgICAgICBjbG9zZTogJ0Nsb3NlJyxcclxuICAgICAgICAgICAgbWF4aW1pemU6ICdNYXhpbWl6ZScsXHJcbiAgICAgICAgICAgIHJlc3RvcmU6ICdSZXN0b3JlJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRoZW1lOntcclxuICAgICAgICAgICAgaW5wdXQ6J2Fqcy1pbnB1dCcsXHJcbiAgICAgICAgICAgIG9rOidhanMtb2snLFxyXG4gICAgICAgICAgICBjYW5jZWw6J2Fqcy1jYW5jZWwnLFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vaG9sZHMgb3BlbiBkaWFsb2dzIGluc3RhbmNlc1xyXG4gICAgdmFyIG9wZW5EaWFsb2dzID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBbSGVscGVyXSAgQWRkcyB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKSB0byB0aGUgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZWxlbWVudCB7bm9kZX0gICAgICBUaGUgZWxlbWVudFxyXG4gICAgICogQGNsYXNzTmFtZSB7c3RyaW5nfSAgT25lIG9yIG1vcmUgc3BhY2Utc2VwYXJhdGVkIGNsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZXMpe1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgZnJvbSB0aGUgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZWxlbWVudCB7bm9kZX0gICAgICBUaGUgZWxlbWVudFxyXG4gICAgICogQGNsYXNzTmFtZSB7c3RyaW5nfSAgT25lIG9yIG1vcmUgc3BhY2Utc2VwYXJhdGVkIGNsYXNzZXMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgdGhlIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lcykge1xyXG4gICAgICAgIHZhciBvcmlnaW5hbCA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdmFyIHRvQmVSZW1vdmVkID0gY2xhc3NOYW1lcy5zcGxpdCgnICcpO1xyXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdG9CZVJlbW92ZWQubGVuZ3RoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gb3JpZ2luYWwuaW5kZXhPZih0b0JlUmVtb3ZlZFt4XSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKXtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG9yaWdpbmFsLmpvaW4oJyAnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFtIZWxwZXJdICBDaGVja3MgaWYgdGhlIGRvY3VtZW50IGlzIFJUTFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGRvY3VtZW50IGlzIFJUTCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpc1JpZ2h0VG9MZWZ0KCl7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFtIZWxwZXJdICBHZXQgdGhlIGRvY3VtZW50IGN1cnJlbnQgc2Nyb2xsVG9wXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjdXJyZW50IGRvY3VtZW50IHNjcm9sbFRvcCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoKXtcclxuICAgICAgICByZXR1cm4gKChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogW0hlbHBlcl0gIEdldCB0aGUgZG9jdW1lbnQgY3VycmVudCBzY3JvbGxMZWZ0XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjdXJyZW50IGRvY3VtZW50IHNjcm9sbExlZnQgdmFsdWVcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2Nyb2xsTGVmdCgpe1xyXG4gICAgICAgIHJldHVybiAoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogSGVscGVyOiBjbGVhciBjb250ZW50c1xyXG4gICAgKlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNsZWFyQ29udGVudHMoZWxlbWVudCl7XHJcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQubGFzdENoaWxkKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXh0ZW5kcyBhIGdpdmVuIHByb3RvdHlwZSBieSBtZXJnaW5nIHByb3BlcnRpZXMgZnJvbSBiYXNlIGludG8gc3ViLlxyXG4gICAgICpcclxuICAgICAqIEBzdWIge09iamVjdH0gc3ViIFRoZSBwcm90b3R5cGUgYmVpbmcgb3ZlcndyaXR0ZW4uXHJcbiAgICAgKiBAYmFzZSB7T2JqZWN0fSBiYXNlIFRoZSBwcm90b3R5cGUgYmVpbmcgd3JpdHRlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBleHRlbmRlZCBwcm90b3R5cGUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNvcHkoc3JjKSB7XHJcbiAgICAgICAgaWYobnVsbCA9PT0gc3JjKXtcclxuICAgICAgICAgICAgcmV0dXJuIHNyYztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNweTtcclxuICAgICAgICBpZihBcnJheS5pc0FycmF5KHNyYykpe1xyXG4gICAgICAgICAgICBjcHkgPSBbXTtcclxuICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxzcmMubGVuZ3RoO3grPTEpe1xyXG4gICAgICAgICAgICAgICAgY3B5LnB1c2goY29weShzcmNbeF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3B5O1xyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICAgaWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShzcmMuZ2V0VGltZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgIGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XHJcbiAgICAgICAgICAgIGNweSA9IG5ldyBSZWdFeHAoc3JjLnNvdXJjZSk7XHJcbiAgICAgICAgICAgIGNweS5nbG9iYWwgPSBzcmMuZ2xvYmFsO1xyXG4gICAgICAgICAgICBjcHkuaWdub3JlQ2FzZSA9IHNyYy5pZ25vcmVDYXNlO1xyXG4gICAgICAgICAgICBjcHkubXVsdGlsaW5lID0gc3JjLm11bHRpbGluZTtcclxuICAgICAgICAgICAgY3B5Lmxhc3RJbmRleCA9IHNyYy5sYXN0SW5kZXg7XHJcbiAgICAgICAgICAgIHJldHVybiBjcHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHR5cGVvZiBzcmMgPT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgY3B5ID0ge307XHJcbiAgICAgICAgICAgIC8vIGNvcHkgZGlhbG9nIHBvdG90eXBlIG92ZXIgZGVmaW5pdGlvbi5cclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzcmMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcHlbcHJvcF0gPSBjb3B5KHNyY1twcm9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNweTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNyYztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICAqIEhlbHBlcjogZGVzdHJ1Y3QgdGhlIGRpYWxvZ1xyXG4gICAgICAqXHJcbiAgICAgICovXHJcbiAgICBmdW5jdGlvbiBkZXN0cnVjdChpbnN0YW5jZSwgaW5pdGlhbGl6ZSl7XHJcbiAgICAgICAgLy9kZWxldGUgdGhlIGRvbSBhbmQgaXQncyByZWZlcmVuY2VzLlxyXG4gICAgICAgIHZhciByb290ID0gaW5zdGFuY2UuZWxlbWVudHMucm9vdDtcclxuICAgICAgICByb290LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocm9vdCk7XHJcbiAgICAgICAgZGVsZXRlIGluc3RhbmNlLmVsZW1lbnRzO1xyXG4gICAgICAgIC8vY29weSBiYWNrIGluaXRpYWwgc2V0dGluZ3MuXHJcbiAgICAgICAgaW5zdGFuY2Uuc2V0dGluZ3MgPSBjb3B5KGluc3RhbmNlLl9fc2V0dGluZ3MpO1xyXG4gICAgICAgIC8vcmUtcmVmZXJlbmNlIGluaXQgZnVuY3Rpb24uXHJcbiAgICAgICAgaW5zdGFuY2UuX19pbml0ID0gaW5pdGlhbGl6ZTtcclxuICAgICAgICAvL2RlbGV0ZSBfX2ludGVybmFsIHZhcmlhYmxlIHRvIGFsbG93IHJlLWluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgIGRlbGV0ZSBpbnN0YW5jZS5fX2ludGVybmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIGEgY2xvc3VyZSB0byByZXR1cm4gcHJvcGVyIGV2ZW50IGxpc3RlbmVyIG1ldGhvZC4gVHJ5IHRvIHVzZVxyXG4gICAgICogYGFkZEV2ZW50TGlzdGVuZXJgIGJ5IGRlZmF1bHQgYnV0IGZhbGxiYWNrIHRvIGBhdHRhY2hFdmVudGAgZm9yXHJcbiAgICAgKiB1bnN1cHBvcnRlZCBicm93c2VyLiBUaGUgY2xvc3VyZSBzaW1wbHkgZW5zdXJlcyB0aGF0IHRoZSB0ZXN0IGRvZXNuJ3RcclxuICAgICAqIGhhcHBlbiBldmVyeSB0aW1lIHRoZSBtZXRob2QgaXMgY2FsbGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgICB7Tm9kZX0gICAgIGVsICAgIE5vZGUgZWxlbWVudFxyXG4gICAgICogQHBhcmFtICAgIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgdHlwZVxyXG4gICAgICogQHBhcmFtICAgIHtGdW5jdGlvbn0gZm4gICAgQ2FsbGJhY2sgb2YgZXZlbnRcclxuICAgICAqIEByZXR1cm4gICB7RnVuY3Rpb259XHJcbiAgICAgKi9cclxuICAgIHZhciBvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgZXZlbnQsIGZuLCB1c2VDYXB0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgdXNlQ2FwdHVyZSA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4pIHtcclxuICAgICAgICAgICAgICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgZm4pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0oKSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgYSBjbG9zdXJlIHRvIHJldHVybiBwcm9wZXIgZXZlbnQgbGlzdGVuZXIgbWV0aG9kLiBUcnkgdG8gdXNlXHJcbiAgICAgKiBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgYnkgZGVmYXVsdCBidXQgZmFsbGJhY2sgdG8gYGRldGFjaEV2ZW50YCBmb3JcclxuICAgICAqIHVuc3VwcG9ydGVkIGJyb3dzZXIuIFRoZSBjbG9zdXJlIHNpbXBseSBlbnN1cmVzIHRoYXQgdGhlIHRlc3QgZG9lc24ndFxyXG4gICAgICogaGFwcGVuIGV2ZXJ5IHRpbWUgdGhlIG1ldGhvZCBpcyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgIHtOb2RlfSAgICAgZWwgICAgTm9kZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gICAge1N0cmluZ30gICBldmVudCBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBmbiAgICBDYWxsYmFjayBvZiBldmVudFxyXG4gICAgICogQHJldHVybiAgIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgdmFyIG9mZiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgZXZlbnQsIGZuLCB1c2VDYXB0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgdXNlQ2FwdHVyZSA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5kZXRhY2hFdmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBldmVudCwgZm4pIHtcclxuICAgICAgICAgICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgZm4pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0oKSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmV2ZW50IGRlZmF1bHQgZXZlbnQgZnJvbSBmaXJpbmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtFdmVudH0gZXZlbnQgRXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJldmVudCAoIGV2ZW50ICkge1xyXG4gICAgICAgIGlmICggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgIGlmICggZXZlbnQucHJldmVudERlZmF1bHQgKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICovXHJcbiAgICB2YXIgdHJhbnNpdGlvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHQsIHR5cGU7XHJcbiAgICAgICAgdmFyIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IHtcclxuICAgICAgICAgICAgJ2FuaW1hdGlvbicgICAgICAgIDogJ2FuaW1hdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICdPQW5pbWF0aW9uJyAgICAgICA6ICdvQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAnbXNBbmltYXRpb24nICAgICAgOiAnTVNBbmltYXRpb25FbmQnLFxyXG4gICAgICAgICAgICAnTW96QW5pbWF0aW9uJyAgICAgOiAnYW5pbWF0aW9uZW5kJyxcclxuICAgICAgICAgICAgJ1dlYmtpdEFuaW1hdGlvbicgIDogJ3dlYmtpdEFuaW1hdGlvbkVuZCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKHQgaW4gdHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVt0XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gdHJhbnNpdGlvbnNbdF07XHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIHN1cHBvcnRlZDogc3VwcG9ydGVkXHJcbiAgICAgICAgfTtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgZXZlbnQgaGFuZGxlciBkZWxlZ2F0ZSB0aGF0IHNlbmRzIHRoZSBpbnN0YW5jZSBhcyBsYXN0IGFyZ3VtZW50LlxyXG4gICAgKiBcclxuICAgICogQHJldHVybiB7RnVuY3Rpb259ICAgIGEgZnVuY3Rpb24gd3JhcHBlciB3aGljaCBzZW5kcyB0aGUgaW5zdGFuY2UgYXMgbGFzdCBhcmd1bWVudC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBkZWxlZ2F0ZShjb250ZXh0LCBtZXRob2QpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGFyZ3VtZW50cy5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbeF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIFtudWxsLCBjb250ZXh0XSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKiBIZWxwZXIgZm9yIGNyZWF0aW5nIGEgZGlhbG9nIGNsb3NlIGV2ZW50LlxyXG4gICAgKiBcclxuICAgICogQHJldHVybiB7b2JqZWN0fVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb3NlRXZlbnQoaW5kZXgsIGJ1dHRvbikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgYnV0dG9uOiBidXR0b24sXHJcbiAgICAgICAgICAgIGNhbmNlbDogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEhlbHBlciBmb3IgZGlzcGF0Y2hpbmcgZXZlbnRzLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW5UeXBlIFRoZSB0eXBlIG9mIHRoZSBldmVudCB0byBkaXNwdGFjaC5cclxuICAgICogQHBhcmFtICB7b2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlhbG9nIGluc3RhbmNlIGRpc3B0YWNoaW5nIHRoZSBldmVudC5cclxuICAgICpcclxuICAgICogQHJldHVybiAgIHthbnl9ICAgVGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBmdW5jdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgaW5zdGFuY2UpIHtcclxuICAgICAgICBpZiAoIHR5cGVvZiBpbnN0YW5jZS5nZXQoZXZlbnRUeXBlKSA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLmdldChldmVudFR5cGUpLmNhbGwoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdXBlciBjbGFzcyBmb3IgYWxsIGRpYWxvZ3NcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHRcdGJhc2UgZGlhbG9nIHByb3RvdHlwZVxyXG4gICAgICovXHJcbiAgICB2YXIgZGlhbG9nID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgLy9ob2xkcyB0aGUgbGlzdCBvZiB1c2VkIGtleXMuXHJcbiAgICAgICAgICAgIHVzZWRLZXlzID0gW10sXHJcbiAgICAgICAgICAgIC8vZHVtbXkgdmFyaWFibGUsIHVzZWQgdG8gdHJpZ2dlciBkb20gcmVmbG93LlxyXG4gICAgICAgICAgICByZWZsb3cgPSBudWxsLFxyXG4gICAgICAgICAgICAvL2NvbmRpdGlvbiBmb3IgZGV0ZWN0aW5nIHNhZmFyaVxyXG4gICAgICAgICAgICBpc1NhZmFyaSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpID4gLTEgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPCAwLFxyXG4gICAgICAgICAgICAvL2RpYWxvZyBidWlsZGluZyBibG9ja3NcclxuICAgICAgICAgICAgdGVtcGxhdGVzID0ge1xyXG4gICAgICAgICAgICAgICAgZGltbWVyOic8ZGl2IGNsYXNzPVwiYWpzLWRpbW1lclwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAvKnRhYiBpbmRleCByZXF1aXJlZCB0byBmaXJlIGNsaWNrIGV2ZW50IGJlZm9yZSBib2R5IGZvY3VzKi9cclxuICAgICAgICAgICAgICAgIG1vZGFsOiAnPGRpdiBjbGFzcz1cImFqcy1tb2RhbFwiIHRhYmluZGV4PVwiMFwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBkaWFsb2c6ICc8ZGl2IGNsYXNzPVwiYWpzLWRpYWxvZ1wiIHRhYmluZGV4PVwiMFwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICByZXNldDogJzxidXR0b24gY2xhc3M9XCJhanMtcmVzZXRcIj48L2J1dHRvbj4nLFxyXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6ICc8ZGl2IGNsYXNzPVwiYWpzLWNvbW1hbmRzXCI+PGJ1dHRvbiBjbGFzcz1cImFqcy1waW5cIj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYWpzLW1heGltaXplXCI+PC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImFqcy1jbG9zZVwiPjwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXI6ICc8ZGl2IGNsYXNzPVwiYWpzLWhlYWRlclwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBib2R5OiAnPGRpdiBjbGFzcz1cImFqcy1ib2R5XCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICc8ZGl2IGNsYXNzPVwiYWpzLWNvbnRlbnRcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVyOiAnPGRpdiBjbGFzcz1cImFqcy1mb290ZXJcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uczogeyBwcmltYXJ5OiAnPGRpdiBjbGFzcz1cImFqcy1wcmltYXJ5IGFqcy1idXR0b25zXCI+PC9kaXY+JywgYXV4aWxpYXJ5OiAnPGRpdiBjbGFzcz1cImFqcy1hdXhpbGlhcnkgYWpzLWJ1dHRvbnNcIj48L2Rpdj4nIH0sXHJcbiAgICAgICAgICAgICAgICBidXR0b246ICc8YnV0dG9uIGNsYXNzPVwiYWpzLWJ1dHRvblwiPjwvYnV0dG9uPicsXHJcbiAgICAgICAgICAgICAgICByZXNpemVIYW5kbGU6ICc8ZGl2IGNsYXNzPVwiYWpzLWhhbmRsZVwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vY29tbW9uIGNsYXNzIG5hbWVzXHJcbiAgICAgICAgICAgIGNsYXNzZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25JbjogJ2Fqcy1pbicsXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25PdXQ6ICdhanMtb3V0JyxcclxuICAgICAgICAgICAgICAgIGJhc2U6ICdhbGVydGlmeScsXHJcbiAgICAgICAgICAgICAgICBiYXNpYzonYWpzLWJhc2ljJyxcclxuICAgICAgICAgICAgICAgIGNhcHR1cmU6ICdhanMtY2FwdHVyZScsXHJcbiAgICAgICAgICAgICAgICBjbG9zYWJsZTonYWpzLWNsb3NhYmxlJyxcclxuICAgICAgICAgICAgICAgIGZpeGVkOiAnYWpzLWZpeGVkJyxcclxuICAgICAgICAgICAgICAgIGZyYW1lbGVzczonYWpzLWZyYW1lbGVzcycsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46ICdhanMtaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgIG1heGltaXplOiAnYWpzLW1heGltaXplJyxcclxuICAgICAgICAgICAgICAgIG1heGltaXplZDogJ2Fqcy1tYXhpbWl6ZWQnLFxyXG4gICAgICAgICAgICAgICAgbWF4aW1pemFibGU6J2Fqcy1tYXhpbWl6YWJsZScsXHJcbiAgICAgICAgICAgICAgICBtb2RlbGVzczogJ2Fqcy1tb2RlbGVzcycsXHJcbiAgICAgICAgICAgICAgICBtb3ZhYmxlOiAnYWpzLW1vdmFibGUnLFxyXG4gICAgICAgICAgICAgICAgbm9TZWxlY3Rpb246ICdhanMtbm8tc2VsZWN0aW9uJyxcclxuICAgICAgICAgICAgICAgIG5vT3ZlcmZsb3c6ICdhanMtbm8tb3ZlcmZsb3cnLFxyXG4gICAgICAgICAgICAgICAgbm9QYWRkaW5nOidhanMtbm8tcGFkZGluZycsXHJcbiAgICAgICAgICAgICAgICBwaW46J2Fqcy1waW4nLFxyXG4gICAgICAgICAgICAgICAgcGlubmFibGU6J2Fqcy1waW5uYWJsZScsXHJcbiAgICAgICAgICAgICAgICBwcmVmaXg6ICdhanMtJyxcclxuICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogJ2Fqcy1yZXNpemFibGUnLFxyXG4gICAgICAgICAgICAgICAgcmVzdG9yZTogJ2Fqcy1yZXN0b3JlJyxcclxuICAgICAgICAgICAgICAgIHNoYWtlOidhanMtc2hha2UnLFxyXG4gICAgICAgICAgICAgICAgdW5waW5uZWQ6J2Fqcy11bnBpbm5lZCcsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogaW5pdGlhbGl6ZXMgdGhlIGRpYWxvZyBpbnN0YW5jZVxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm5cdHtOdW1iZXJ9XHRUaGUgdG90YWwgY291bnQgb2YgY3VycmVudGx5IG9wZW4gbW9kYWxzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoIWluc3RhbmNlLl9faW50ZXJuYWwpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbm8gbmVlZCB0byBleHBvc2UgaW5pdCBhZnRlciB0aGlzLlxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGluc3RhbmNlLl9faW5pdDtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8va2VlcCBhIGNvcHkgb2YgaW5pdGlhbCBkaWFsb2cgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIGlmKCFpbnN0YW5jZS5fX3NldHRpbmdzKXtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX3NldHRpbmdzID0gY29weShpbnN0YW5jZS5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2luIGNhc2UgdGhlIHNjcmlwdCB3YXMgaW5jbHVkZWQgYmVmb3JlIGJvZHkuXHJcbiAgICAgICAgICAgICAgICAvL2FmdGVyIGZpcnN0IGRpYWxvZyBnZXRzIGluaXRpYWxpemVkLCBpdCB3b24ndCBiZSBudWxsIGFueW1vcmUhXHJcbiAgICAgICAgICAgICAgICBpZihudWxsID09PSByZWZsb3cpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB0YWJpbmRleCBhdHRyaWJ1dGUgb24gYm9keSBlbGVtZW50IHRoaXMgYWxsb3dzIHNjcmlwdCB0byBnaXZlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXMgYWZ0ZXIgdGhlIGRpYWxvZyBpcyBjbG9zZWRcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSggJ3RhYmluZGV4JywgJzAnICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXQgZGlhbG9nIGJ1dHRvbnMvZm9jdXMgc2V0dXBcclxuICAgICAgICAgICAgICAgIHZhciBzZXR1cDtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBpbnN0YW5jZS5zZXR1cCA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXAgPSBpbnN0YW5jZS5zZXR1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHVwLm9wdGlvbnMgPSBzZXR1cC5vcHRpb25zICB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR1cC5mb2N1cyA9IHNldHVwLmZvY3VzICB8fCB7fTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHVwID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOltdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Om51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6ZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2luaXRpYWxpemUgaG9va3Mgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLmhvb2tzICE9PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuaG9va3MgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvcHkgYnV0dG9ucyBkZWZpbnRpb25cclxuICAgICAgICAgICAgICAgIHZhciBidXR0b25zRGVmaW5pdGlvbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzZXR1cC5idXR0b25zKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBiPTA7YjxzZXR1cC5idXR0b25zLmxlbmd0aDtiKz0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZiAgPSBzZXR1cC5idXR0b25zW2JdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3B5W2ldID0gcmVmW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNEZWZpbml0aW9uLnB1c2goY3B5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGludGVybmFsID0gaW5zdGFuY2UuX19pbnRlcm5hbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgKiBGbGFnIGhvbGRpbmcgdGhlIG9wZW4gc3RhdGUgb2YgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgICAqIFxyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlzT3BlbjpmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgKiBBY3RpdmUgZWxlbWVudCBpcyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgcmVjZWl2ZSBmb2N1cyBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAqIGNsb3NpbmcgdGhlIGRpYWxvZy4gSXQgZGVmYXVsdHMgYXMgdGhlIGJvZHkgdGFnLCBidXQgZ2V0cyB1cGRhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICogdG8gdGhlIGxhc3QgZm9jdXNlZCBlbGVtZW50IGJlZm9yZSB0aGUgZGlhbG9nIHdhcyBvcGVuZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Tm9kZX1cclxuICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50OmRvY3VtZW50LmJvZHksXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXJJbjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXJPdXQ6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGJ1dHRvbnNEZWZpbml0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiBzZXR1cC5mb2N1cyxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2ljOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVsZXNzOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlubmVkOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmFibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUJvdW5kZWQ6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Jlc2V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NhYmxlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NhYmxlQnlEaW1tZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW1pemFibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNYXhpbWl6ZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlubmFibGU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbnNob3c6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsb3Npbmc6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsb3NlOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25mb2N1czp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubW92ZTp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubW92ZWQ6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbnJlc2l6ZTp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzaXplZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubWF4aW1pemU6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbm1heGltaXplZDp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzdG9yZTp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzdG9yZWQ6dW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByZXNldEhhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luTW92ZUhhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luUmVzaXplSGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYnJpbmdUb0Zyb250SGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxDbGlja0hhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNDbGlja0hhbmRsZXI6dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzQ2xpY2tIYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uSW5IYW5kbGVyOnVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uT3V0SGFuZGxlcjp1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveTp1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0ge307XHJcbiAgICAgICAgICAgICAgICAvL3Jvb3Qgbm9kZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yb290LmNsYXNzTmFtZSA9IGNsYXNzZXMuYmFzZSArICcgJyArIGNsYXNzZXMuaGlkZGVuICsgJyAnO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJvb3QuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmRpbW1lciArIHRlbXBsYXRlcy5tb2RhbDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9kaW1tZXJcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmRpbW1lciA9IGVsZW1lbnRzLnJvb3QuZmlyc3RDaGlsZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMubW9kYWwgPSBlbGVtZW50cy5yb290Lmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLm1vZGFsLmlubmVySFRNTCA9IHRlbXBsYXRlcy5kaWFsb2c7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5kaWFsb2cgPSBlbGVtZW50cy5tb2RhbC5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZGlhbG9nLmlubmVySFRNTCA9IHRlbXBsYXRlcy5yZXNldCArIHRlbXBsYXRlcy5jb21tYW5kcyArIHRlbXBsYXRlcy5oZWFkZXIgKyB0ZW1wbGF0ZXMuYm9keSArIHRlbXBsYXRlcy5mb290ZXIgKyB0ZW1wbGF0ZXMucmVzaXplSGFuZGxlICsgdGVtcGxhdGVzLnJlc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgbGlua3NcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJlc2V0ID0gW107XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5yZXNldC5wdXNoKGVsZW1lbnRzLmRpYWxvZy5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnJlc2V0LnB1c2goZWxlbWVudHMuZGlhbG9nLmxhc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vY29tbWFuZHNcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzID0ge307XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jb21tYW5kcy5jb250YWluZXIgPSBlbGVtZW50cy5yZXNldFswXS5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmNvbW1hbmRzLnBpbiA9IGVsZW1lbnRzLmNvbW1hbmRzLmNvbnRhaW5lci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29tbWFuZHMubWF4aW1pemUgPSBlbGVtZW50cy5jb21tYW5kcy5waW4ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jb21tYW5kcy5jbG9zZSA9IGVsZW1lbnRzLmNvbW1hbmRzLm1heGltaXplLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2hlYWRlclxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuaGVhZGVyID0gZWxlbWVudHMuY29tbWFuZHMuY29udGFpbmVyLm5leHRTaWJsaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYm9keVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYm9keSA9IGVsZW1lbnRzLmhlYWRlci5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJvZHkuaW5uZXJIVE1MID0gdGVtcGxhdGVzLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jb250ZW50ID0gZWxlbWVudHMuYm9keS5maXJzdENoaWxkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZm9vdGVyXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb290ZXIgPSBlbGVtZW50cy5ib2R5Lm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9vdGVyLmlubmVySFRNTCA9IHRlbXBsYXRlcy5idXR0b25zLmF1eGlsaWFyeSArIHRlbXBsYXRlcy5idXR0b25zLnByaW1hcnk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vcmVzaXplIGhhbmRsZVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMucmVzaXplSGFuZGxlID0gZWxlbWVudHMuZm9vdGVyLm5leHRTaWJsaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYnV0dG9uc1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucy5hdXhpbGlhcnkgPSBlbGVtZW50cy5mb290ZXIuZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeSA9IGVsZW1lbnRzLmJ1dHRvbnMuYXV4aWxpYXJ5Lm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5LmlubmVySFRNTCA9IHRlbXBsYXRlcy5idXR0b247XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25UZW1wbGF0ZSA9IGVsZW1lbnRzLmJ1dHRvbnMucHJpbWFyeS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgYnV0dG9uIHRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLnByaW1hcnkucmVtb3ZlQ2hpbGQoZWxlbWVudHMuYnV0dG9uVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHg9MDsgeCA8IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGg7IHgrPTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0byB0aGUgbGlzdCBvZiB1c2VkIGtleXMuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodXNlZEtleXMuaW5kZXhPZihidXR0b24ua2V5KSA8IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VkS2V5cy5wdXNoKGJ1dHRvbi5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmVsZW1lbnQgPSBlbGVtZW50cy5idXR0b25UZW1wbGF0ZS5jbG9uZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uZWxlbWVudC5pbm5lckhUTUwgPSBidXR0b24udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgYnV0dG9uLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycgJiYgIGJ1dHRvbi5jbGFzc05hbWUgIT09ICcnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoYnV0dG9uLmVsZW1lbnQsIGJ1dHRvbi5jbGFzc05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBidXR0b24uYXR0cnMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihrZXkgIT09ICdjbGFzc05hbWUnICYmIGJ1dHRvbi5hdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5lbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGJ1dHRvbi5hdHRyc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihidXR0b24uc2NvcGUgPT09ICdhdXhpbGlhcnknKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMuYnV0dG9ucy5hdXhpbGlhcnkuYXBwZW5kQ2hpbGQoYnV0dG9uLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQoYnV0dG9uLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vbWFrZSBlbGVtZW50cyBwdWJpY1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9zYXZlIGV2ZW50IGhhbmRsZXJzIGRlbGVnYXRlc1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwucmVzZXRIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIG9uUmVzZXQpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYmVnaW5Nb3ZlSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBiZWdpbk1vdmUpO1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGJlZ2luUmVzaXplKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLmJyaW5nVG9Gcm9udEhhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgYnJpbmdUb0Zyb250KTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLm1vZGFsQ2xpY2tIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIG1vZGFsQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLmJ1dHRvbnNDbGlja0hhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgYnV0dG9uc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5jb21tYW5kc0NsaWNrSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCBjb21tYW5kc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC50cmFuc2l0aW9uSW5IYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGhhbmRsZVRyYW5zaXRpb25JbkV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGludGVybmFsLnRyYW5zaXRpb25PdXRIYW5kbGVyID0gZGVsZWdhdGUoaW5zdGFuY2UsIGhhbmRsZVRyYW5zaXRpb25PdXRFdmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBvcEtleSBpbiBpbnRlcm5hbC5vcHRpb25zKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihzZXR1cC5vcHRpb25zW29wS2V5XSAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgZm91bmQgaW4gdXNlciBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnNldChvcEtleSwgc2V0dXAub3B0aW9uc1tvcEtleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGFsZXJ0aWZ5LmRlZmF1bHRzLmhhc093blByb3BlcnR5KG9wS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGlmIGZvdW5kIGluIGRlZmF1bHRzIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KG9wS2V5LCBhbGVydGlmeS5kZWZhdWx0c1tvcEtleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKG9wS2V5ID09PSAndGl0bGUnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGlmIHRpdGxlIGtleSwgdXNlIGFsZXJ0aWZ5LmRlZmF1bHRzLmdsb3NzYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnNldChvcEtleSwgYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3Nhcnlbb3BLZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgZG9tIGN1c3RvbWl6YXRpb25cclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBpbnN0YW5jZS5idWlsZCA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYnVpbGQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9hZGQgdG8gdGhlIGVuZCBvZiB0aGUgRE9NIHRyZWUuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuZWxlbWVudHMucm9vdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IG1haW50YWlucyBzY3JvbGwgcG9zaXRpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciBzY3JvbGxYLCBzY3JvbGxZO1xyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbigpe1xyXG4gICAgICAgICAgICBzY3JvbGxYID0gZ2V0U2Nyb2xsTGVmdCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxZID0gZ2V0U2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3RvcmVTY3JvbGxQb3NpdGlvbigpe1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsWCwgc2Nyb2xsWSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IGFkZHMvcmVtb3ZlcyBuby1vdmVyZmxvdyBjbGFzcyBmcm9tIGJvZHlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGVuc3VyZU5vT3ZlcmZsb3coKXtcclxuICAgICAgICAgICAgdmFyIHJlcXVpcmVzTm9PdmVyZmxvdyA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIgeD0wO3g8b3BlbkRpYWxvZ3MubGVuZ3RoO3grPTEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3NbeF07XHJcbiAgICAgICAgICAgICAgICBpZihpbnN0YW5jZS5pc01vZGFsKCkgfHwgaW5zdGFuY2UuaXNNYXhpbWl6ZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXNOb092ZXJmbG93Kz0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcXVpcmVzTm9PdmVyZmxvdyA9PT0gMCAmJiBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubm9PdmVyZmxvdykgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICAvL2xhc3Qgb3BlbiBtb2RhbCBvciBsYXN0IG1heGltaXplZCBvbmVcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzZXMubm9PdmVyZmxvdyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50Qm9keVNoaWZ0KGZhbHNlKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYocmVxdWlyZXNOb092ZXJmbG93ID4gMCAmJiBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubm9PdmVyZmxvdykgPCAwKXtcclxuICAgICAgICAgICAgICAgIC8vZmlyc3Qgb3BlbiBtb2RhbCBvciBmaXJzdCBtYXhpbWl6ZWQgb25lXHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50Qm9keVNoaWZ0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG9wID0gJycsIHRvcFNjcm9sbCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBwcmV2ZW50cyBib2R5IHNoaWZ0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcHJldmVudEJvZHlTaGlmdChhZGQpe1xyXG4gICAgICAgICAgICBpZihhbGVydGlmeS5kZWZhdWx0cy5wcmV2ZW50Qm9keVNoaWZ0ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIGlmKGFkZCApey8vJiYgb3BlbkRpYWxvZ3Nbb3BlbkRpYWxvZ3MubGVuZ3RoLTFdLmVsZW1lbnRzLmRpYWxvZy5jbGllbnRIZWlnaHQgPD0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wU2Nyb2xsID0gc2Nyb2xsWTtcclxuICAgICAgICAgICAgICAgICAgICB0b3AgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5maXhlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAtc2Nyb2xsWSArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgPSB0b3BTY3JvbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSB0b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5maXhlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uIHVzZWQgdG8gc2hvdy9oaWRlIHRoZSBkaWFsb2dcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVHJhbnNpdGlvbihpbnN0YW5jZSwgdmFsdWUsIG9sZFZhbHVlKXtcclxuICAgICAgICAgICAgaWYodHlwZW9mIG9sZFZhbHVlID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LGNsYXNzZXMucHJlZml4ICsgIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnByZWZpeCArIHZhbHVlKTtcclxuICAgICAgICAgICAgcmVmbG93ID0gaW5zdGFuY2UuZWxlbWVudHMucm9vdC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB9XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUb2dnbGVzIHRoZSBkaWFsb2cgZGlzcGxheSBtb2RlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlNb2RlKGluc3RhbmNlKXtcclxuICAgICAgICAgICAgaWYoaW5zdGFuY2UuZ2V0KCdtb2RhbCcpKXtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2UgbW9kYWxcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubW9kZWxlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vb25seSBpZiBvcGVuXHJcbiAgICAgICAgICAgICAgICBpZihpbnN0YW5jZS5pc09wZW4oKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5iaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2luIGNhc2UgYSBwaW5uZWQgbW9kbGVzcyBkaWFsb2cgd2FzIG1hZGUgbW9kYWwgd2hpbGUgb3Blbi5cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvL21ha2UgbW9kZWxzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb2RlbGVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbmx5IGlmIG9wZW5cclxuICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmlzT3BlbigpKXtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2luIGNhc2UgcGluL3VucGluIHdhcyBjYWxsZWQgd2hpbGUgYSBtb2RhbCBpcyBvcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVOb092ZXJmbG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBiYXNpYyB2aWV3IG1vZGUgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJhc2ljTW9kZShpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ2Jhc2ljJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5iYXNpYyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuYmFzaWMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUb2dnbGVzIHRoZSBkaWFsb2cgZnJhbWVsZXNzIHZpZXcgbW9kZSBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRnJhbWVsZXNzTW9kZShpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ2ZyYW1lbGVzcycpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuZnJhbWVsZXNzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5mcmFtZWxlc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cdFx0XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBCcmluZ3MgdGhlIG1vZGVsZXNzIGRpYWxvZyB0byBmcm9udCwgYXR0YWNoZWQgdG8gbW9kZWxlc3MgZGlhbG9ncy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEZvY3VzIGV2ZW50XHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBicmluZ1RvRnJvbnQoZXZlbnQsIGluc3RhbmNlKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIERvIG5vdCBicmluZyB0byBmcm9udCBpZiBwcmVjZWVkZWQgYnkgYW4gb3BlbiBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBvcGVuRGlhbG9ncy5pbmRleE9mKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgZm9yKHZhciB4PWluZGV4KzE7eDxvcGVuRGlhbG9ncy5sZW5ndGg7eCs9MSl7XHJcbiAgICAgICAgICAgICAgICBpZihvcGVuRGlhbG9nc1t4XS5pc01vZGFsKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cdFx0XHRcclxuICAgICAgICAgICAgLy8gQnJpbmcgdG8gZnJvbnQgYnkgbWFraW5nIGl0IHRoZSBsYXN0IGNoaWxkLlxyXG4gICAgICAgICAgICBpZihkb2N1bWVudC5ib2R5Lmxhc3RDaGlsZCAhPT0gaW5zdGFuY2UuZWxlbWVudHMucm9vdCl7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QpO1xyXG4gICAgICAgICAgICAgICAgLy9hbHNvIG1ha2Ugc3VyZSBpdHMgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgb3BlbkRpYWxvZ3Muc3BsaWNlKG9wZW5EaWFsb2dzLmluZGV4T2YoaW5zdGFuY2UpLDEpO1xyXG4gICAgICAgICAgICAgICAgb3BlbkRpYWxvZ3MucHVzaChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRGb2N1cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdFx0XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHJlZmxlY3RzIGRpYWxvZ3Mgb3B0aW9ucyB1cGRhdGVzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb24gVGhlIHVwZGF0ZWQgb3B0aW9uIG5hbWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuXHR7dW5kZWZpbmVkfVx0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gb3B0aW9uVXBkYXRlZChpbnN0YW5jZSwgb3B0aW9uLCBvbGRWYWx1ZSwgbmV3VmFsdWUpe1xyXG4gICAgICAgICAgICBzd2l0Y2gob3B0aW9uKXtcclxuICAgICAgICAgICAgY2FzZSAndGl0bGUnOlxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0SGVhZGVyKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtb2RhbCc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEaXNwbGF5TW9kZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYmFzaWMnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlQmFzaWNNb2RlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmcmFtZWxlc3MnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnJhbWVsZXNzTW9kZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGlubmVkJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVBpbm5lZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY2xvc2FibGUnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2xvc2FibGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21heGltaXphYmxlJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU1heGltaXphYmxlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaW5uYWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVQaW5uYWJsZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbW92YWJsZSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVNb3ZhYmxlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyZXNpemFibGUnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzaXphYmxlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0cmFuc2l0aW9uJzpcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zaXRpb24oaW5zdGFuY2UsbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYWRkaW5nJzpcclxuICAgICAgICAgICAgICAgIGlmKG5ld1ZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm5vUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihpbnN0YW5jZS5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubm9QYWRkaW5nKSA8IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubm9QYWRkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdvdmVyZmxvdyc6XHJcbiAgICAgICAgICAgICAgICBpZihuZXdWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5ub092ZXJmbG93KTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3Nlcy5ub092ZXJmbG93KSA8IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubm9PdmVyZmxvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndHJhbnNpdGlvbic6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc2l0aW9uKGluc3RhbmNlLG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaW50ZXJuYWwgb24gb3B0aW9uIHVwZGF0ZWQgZXZlbnRcclxuICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlLmhvb2tzLm9udXBkYXRlID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmhvb2tzLm9udXBkYXRlLmNhbGwoaW5zdGFuY2UsIG9wdGlvbiwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHRcdFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogcmVmbGVjdHMgZGlhbG9ncyBvcHRpb25zIHVwZGF0ZXNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHNldC9nZXQgYSB2YWx1ZSBvbi9mcm9tLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIGlmIHRoZSBrZXkgd2FzIGZvdW5kLlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0ga2V5IEEgc3RyaW5nIHNwZWNpZnlpbmcgYSBwcm9wZXJ5IG5hbWUgb3IgYSBjb2xsZWN0aW9uIG9mIGtleSB2YWx1ZSBwYWlycy5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgT3B0aW9uYWwsIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGtleSAoaW4gY2FzZSBpdCB3YXMgYSBzdHJpbmcpLlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb24gVGhlIHVwZGF0ZWQgb3B0aW9uIG5hbWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuXHR7T2JqZWN0fSByZXN1bHQgb2JqZWN0IFxyXG4gICAgICAgICAqXHRUaGUgcmVzdWx0IG9iamVjdHMgaGFzIGFuICdvcCcgcHJvcGVydHksIGluZGljYXRpbmcgb2YgdGhpcyBpcyBhIFNFVCBvciBHRVQgb3BlcmF0aW9uLlxyXG4gICAgICAgICAqXHRcdEdFVDogXHJcbiAgICAgICAgICpcdFx0LSBmb3VuZDogYSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGtleSB3YXMgZm91bmQgb3Igbm90LlxyXG4gICAgICAgICAqXHRcdC0gdmFsdWU6IHRoZSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgICAgICAgKlx0XHRTRVQ6XHJcbiAgICAgICAgICpcdFx0LSBpdGVtczogYSBsaXN0IG9mIGtleSB2YWx1ZSBwYWlycyBvZiB0aGUgcHJvcGVydGllcyBiZWluZyBzZXQuXHJcbiAgICAgICAgICpcdFx0XHRcdGVhY2ggY29udGFpbnM6XHJcbiAgICAgICAgICpcdFx0XHRcdFx0LSBmb3VuZDogYSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGtleSB3YXMgZm91bmQgb3Igbm90LlxyXG4gICAgICAgICAqXHRcdFx0XHRcdC0ga2V5OiB0aGUgcHJvcGVydHkga2V5LlxyXG4gICAgICAgICAqXHRcdFx0XHRcdC0gdmFsdWU6IHRoZSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoaW5zdGFuY2UsIG9iaiwgY2FsbGJhY2ssIGtleSwgdmFsdWUpe1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge29wOnVuZGVmaW5lZCwgaXRlbXM6IFtdIH07XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2V0XHJcbiAgICAgICAgICAgICAgICByZXN1bHQub3AgPSAnZ2V0JztcclxuICAgICAgICAgICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IG9ialtrZXldO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZDtcclxuICAgICAgICAgICAgICAgIC8vc2V0XHJcbiAgICAgICAgICAgICAgICByZXN1bHQub3AgPSAnc2V0JztcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgICAgICAgICAvL3NldCBtdWx0aXBsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvYmpbcHJvcF0gIT09IGFyZ3NbcHJvcF0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IG9ialtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBhcmdzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoaW5zdGFuY2UscHJvcCwgb2xkLCBhcmdzW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHsgJ2tleSc6IHByb3AsICd2YWx1ZSc6IGFyZ3NbcHJvcF0sICdmb3VuZCc6dHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHsgJ2tleSc6IHByb3AsICd2YWx1ZSc6IGFyZ3NbcHJvcF0sICdmb3VuZCc6ZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0IHNpbmdsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvYmpba2V5XSAhPT0gdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkICA9IG9ialtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoaW5zdGFuY2Usa2V5LCBvbGQsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaXRlbXMucHVzaCh7J2tleSc6IGtleSwgJ3ZhbHVlJzogdmFsdWUgLCAnZm91bmQnOnRydWV9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHsna2V5Jzoga2V5LCAndmFsdWUnOiB2YWx1ZSAsICdmb3VuZCc6ZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaW52YWxpZCBwYXJhbXNcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FyZ3MgbXVzdCBiZSBhIHN0cmluZyBvciBvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXJzIGEgY2xvc2UgZXZlbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlckNsb3NlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZDtcclxuICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQgPSAoYnV0dG9uLmludm9rZU9uQ2xvc2UgPT09IHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9ub25lIG9mIHRoZSBidXR0b25zIHJlZ2lzdGVyZWQgYXMgb25jbG9zZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAvL2Nsb3NlIHRoZSBkaWFsb2dcclxuICAgICAgICAgICAgaWYgKCFmb3VuZCAmJiBpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGlhbG9ncyBjb21tYW5kcyBldmVudCBoYW5kbGVyLCBhdHRhY2hlZCB0byB0aGUgZGlhbG9nIGNvbW1hbmRzIGVsZW1lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY29tbWFuZHNDbGlja0hhbmRsZXIoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgY2FzZSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5waW46XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzUGlubmVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaW4oaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1bnBpbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5tYXhpbWl6ZTpcclxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNNYXhpbWl6ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heGltaXplKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5jbG9zZTpcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJDbG9zZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHBpbnMgdGhlIG1vZGVsZXNzIGRpYWxvZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcGluKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vcGluIHRoZSBkaWFsb2dcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0KCdwaW5uZWQnLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogdW5waW5zIHRoZSBtb2RlbGVzcyBkaWFsb2cuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdW5waW4oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy91bnBpbiB0aGUgZGlhbG9nIFxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zZXQoJ3Bpbm5lZCcsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IGVubGFyZ2VzIHRoZSBkaWFsb2cgdG8gZmlsbCB0aGUgZW50aXJlIHNjcmVlbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtYXhpbWl6ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ubWF4aW1pemVgIG1ldGhvZFxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbm1heGltaXplJywgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAvL21heGltaXplIHRoZSBkaWFsb2cgXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubWF4aW1pemVkKTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBlbnN1cmVOb092ZXJmbG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1heGltaXplZGAgbWV0aG9kXHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubWF4aW1pemVkJywgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiByZXR1cm5zIHRoZSBkaWFsb2cgdG8gaXRzIGZvcm1lciBzaXplLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHRUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3RvcmUoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbnJlc3RvcmVgIG1ldGhvZFxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc3RvcmUnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vbWF4aW1pemUgdGhlIGRpYWxvZyBcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tYXhpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIGVuc3VyZU5vT3ZlcmZsb3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzdG9yZWRgIG1ldGhvZFxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc3RvcmVkJywgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2hvdyBvciBoaWRlIHRoZSBtYXhpbWl6ZSBib3guXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb24gVHJ1ZSB0byBhZGQgdGhlIGJlaGF2aW9yLCByZW1vdmVzIGl0IG90aGVyd2lzZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQaW5uYWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdwaW5uYWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMucGlubmFibGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnBpbm5hYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBGaXhlcyB0aGUgYWJzb2x1dGx5IHBvc2l0aW9uZWQgbW9kYWwgZGl2IHBvc2l0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGxMZWZ0KCk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpblRvcCA9IGdldFNjcm9sbFRvcCgpICsgJ3B4JztcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luTGVmdCA9IHNjcm9sbExlZnQgKyAncHgnO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zdHlsZS5tYXJnaW5SaWdodCA9ICgtc2Nyb2xsTGVmdCkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBSZW1vdmVzIHRoZSBhYnNvbHV0bHkgcG9zaXRpb25lZCBtb2RhbCBkaXYgcG9zaXRpb24gZml4LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpblRvcCwgMTApO1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpbkxlZnQsIDEwKTtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luVG9wID0gJyc7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLm1vZGFsLnN0eWxlLm1hcmdpbkxlZnQgPSAnJztcclxuICAgICAgICAgICAgaW5zdGFuY2UuZWxlbWVudHMubW9kYWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IDBcclxuICAgICAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2cuc3R5bGUudG9wICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHBhcnNlSW50KGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS50b3AsIDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS50b3AgPSAodG9wICsgKG1hcmdpblRvcCAtIGdldFNjcm9sbFRvcCgpKSkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2cuc3R5bGUubGVmdCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcGFyc2VJbnQoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLnN0eWxlLmxlZnQsIDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZy5zdHlsZS5sZWZ0ID0gKGxlZnQgKyAobWFyZ2luTGVmdCAtIGdldFNjcm9sbExlZnQoKSkpICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IEFkZHMvUmVtb3ZlcyB0aGUgYWJzb2x1dGx5IHBvc2l0aW9uZWQgbW9kYWwgZGl2IHBvc2l0aW9uIGZpeCBiYXNlZCBvbiBpdHMgcGlubmVkIHNldHRpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpYWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVBYnNQb3NpdGlvbkZpeChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBpZiBtb2RlbGVzcyBhbmQgdW5waW5uZWQgYWRkIGZpeFxyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmdldCgnbW9kYWwnKSAmJiAhaW5zdGFuY2UuZ2V0KCdwaW5uZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgYWRkQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgdGhlIGRpYWxvZyBwb3NpdGlvbiBsb2NrIHwgbW9kZWxlc3Mgb25seS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIG1ha2UgaXQgbW9kYWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQaW5uZWQoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgncGlubmVkJykpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMudW5waW5uZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWJzUG9zaXRpb25GaXgoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy51bnBpbm5lZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkgJiYgIWluc3RhbmNlLmlzTW9kYWwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEFic1Bvc2l0aW9uRml4KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2hvdyBvciBoaWRlIHRoZSBtYXhpbWl6ZSBib3guXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb24gVHJ1ZSB0byBhZGQgdGhlIGJlaGF2aW9yLCByZW1vdmVzIGl0IG90aGVyd2lzZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVNYXhpbWl6YWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdtYXhpbWl6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubWF4aW1pemFibGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLm1heGltaXphYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2hvdyBvciBoaWRlIHRoZSBjbG9zZSBib3guXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb24gVHJ1ZSB0byBhZGQgdGhlIGJlaGF2aW9yLCByZW1vdmVzIGl0IG90aGVyd2lzZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDbG9zYWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdjbG9zYWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuY2xvc2FibGUpO1xyXG4gICAgICAgICAgICAgICAgYmluZENsb3NhYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5jbG9zYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB1bmJpbmRDbG9zYWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZsYWcgdG8gY2FuY2VsIGNsaWNrIGV2ZW50IGlmIGFscmVhZHkgaGFuZGxlZCBieSBlbmQgcmVzaXplIGV2ZW50ICh0aGUgbW91c2Vkb3duLCBtb3VzZW1vdmUsIG1vdXNldXAgc2VxdWVuY2UgZmlyZXMgYSBjbGljayBldmVudC4pLlxyXG4gICAgICAgIHZhciBjYW5jZWxDbGljayA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IGNsb3NlcyB0aGUgbW9kYWwgZGlhbG9nIHdoZW4gY2xpY2tpbmcgdGhlIG1vZGFsXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vZGFsQ2xpY2tIYW5kbGVyKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghY2FuY2VsQ2xpY2sgJiYgdGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbCAmJiBpbnN0YW5jZS5nZXQoJ2Nsb3NhYmxlQnlEaW1tZXInKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNsb3NlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW5jZWxDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmbGFnIHRvIGNhbmNlbCBrZXl1cCBldmVudCBpZiBhbHJlYWR5IGhhbmRsZWQgYnkgY2xpY2sgZXZlbnQgKHByZXNzaW5nIEVudGVyIG9uIGEgZm9jdXN0ZWQgYnV0dG9uKS5cclxuICAgICAgICB2YXIgY2FuY2VsS2V5dXAgPSBmYWxzZTtcclxuICAgICAgICAvKiogXHJcbiAgICAgICAgICogSGVscGVyOiB0cmlnZ2VycyBhIGJ1dHRvbiBjYWxsYmFja1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9XHRcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufVx0Q2FsbGJhY2sgdG8gY2hlY2sgd2hpY2ggYnV0dG9uIHRyaWdnZXJlZCB0aGUgZXZlbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBjaGVjaykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoOyBpZHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9uc1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFidXR0b24uZWxlbWVudC5kaXNhYmxlZCAmJiBjaGVjayhidXR0b24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlRXZlbnQgPSBjcmVhdGVDbG9zZUV2ZW50KGlkeCwgYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNhbGxiYWNrLmFwcGx5KGluc3RhbmNlLCBbY2xvc2VFdmVudF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2Nsb3NlIHRoZSBkaWFsb2cgb25seSBpZiBub3QgY2FuY2VsZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlRXZlbnQuY2FuY2VsID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2xpY2tzIGV2ZW50IGhhbmRsZXIsIGF0dGFjaGVkIHRvIHRoZSBkaWFsb2cgZm9vdGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH1cdFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBidXR0b25zQ2xpY2tIYW5kbGVyKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRyaWdnZXJDYWxsYmFjayhpbnN0YW5jZSwgZnVuY3Rpb24gKGJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBidXR0b24gY2F1c2VkIHRoZSBjbGljaywgY2FuY2VsIGtleXVwIGV2ZW50XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uLmVsZW1lbnQgPT09IHRhcmdldCAmJiAoY2FuY2VsS2V5dXAgPSB0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBLZXl1cCBldmVudCBoYW5kbGVyLCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH1cdFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBrZXl1cEhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy9oaXR0aW5nIGVudGVyIHdoaWxlIGJ1dHRvbiBoYXMgZm9jdXMgd2lsbCB0cmlnZ2VyIGtleXVwIHRvby5cclxuICAgICAgICAgICAgLy9pZ25vcmUgaWYgaGFuZGxlZCBieSBjbGlja0hhbmRsZXJcclxuICAgICAgICAgICAgaWYgKGNhbmNlbEtleXVwKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxLZXl1cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG9wZW5EaWFsb2dzW29wZW5EaWFsb2dzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnMubGVuZ3RoID09PSAwICYmIGtleUNvZGUgPT09IGtleXMuRVNDICYmIGluc3RhbmNlLmdldCgnY2xvc2FibGUnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNsb3NlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKHVzZWRLZXlzLmluZGV4T2Yoa2V5Q29kZSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNhbGxiYWNrKGluc3RhbmNlLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi5rZXkgPT09IGtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEtleWRvd24gZXZlbnQgaGFuZGxlciwgYXR0YWNoZWQgdG8gdGhlIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICogQHBhcmFtIHtPYmplY3R9XHRcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAqIFxyXG4gICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3BlbkRpYWxvZ3Nbb3BlbkRpYWxvZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IGtleXMuTEVGVCB8fCBrZXlDb2RlID09PSBrZXlzLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9ucyA9IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYnV0dG9ucy5sZW5ndGg7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBidXR0b25zW3hdLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Uga2V5cy5MRUZUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1soeCB8fCBidXR0b25zLmxlbmd0aCkgLSAxXS5lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Uga2V5cy5SSUdIVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNbKHggKyAxKSAlIGJ1dHRvbnMubGVuZ3RoXS5lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChrZXlDb2RlIDwga2V5cy5GMTIgKyAxICYmIGtleUNvZGUgPiBrZXlzLkYxIC0gMSAmJiB1c2VkS2V5cy5pbmRleE9mKGtleUNvZGUpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJDYWxsYmFjayhpbnN0YW5jZSwgZnVuY3Rpb24gKGJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidXR0b24ua2V5ID09PSBrZXlDb2RlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIGZvY3VzIHRvIHByb3BlciBkaWFsb2cgZWxlbWVudFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IFtyZXNldFRhcmdldD11bmRlZmluZWRdIERPTSBlbGVtZW50IHRvIHJlc2V0IGZvY3VzIHRvLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEZvY3VzKGluc3RhbmNlLCByZXNldFRhcmdldCkge1xyXG4gICAgICAgICAgICAvLyByZXNldCB0YXJnZXQgaGFzIGFscmVhZHkgYmVlbiBkZXRlcm1pbmVkLlxyXG4gICAgICAgICAgICBpZiAocmVzZXRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJlc2V0VGFyZ2V0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGluc3RhbmNlIGZvY3VzIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9jdXMgPSBpbnN0YW5jZS5fX2ludGVybmFsLmZvY3VzO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGZvY3VzIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGZvY3VzLmVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgZm9jdXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYSBudW1iZXIgbWVhbnMgYSBidXR0b24gaW5kZXhcclxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9ucy5sZW5ndGggPiBmb2N1cy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaW4gYmFzaWMgdmlldywgc2tpcCBmb2N1c2luZyB0aGUgYnV0dG9ucy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnYmFzaWMnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9uc1tmb2N1cy5lbGVtZW50XS5lbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gYSBzdHJpbmcgbWVhbnMgcXVlcnlTZWxlY3RvciB0byBzZWxlY3QgZnJvbSBkaWFsb2cgYm9keSBjb250ZW50cy5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmJvZHkucXVlcnlTZWxlY3Rvcihmb2N1cy5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIGEgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgZm9jdXMgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZm9jdXMuZWxlbWVudC5jYWxsKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gZm9jdXMgZWxlbWVudCwgZGVmYXVsdCB0byBmaXJzdCByZXNldCBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgZWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgZWxlbWVudCA9PT0gbnVsbCkgJiYgaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGZvY3VzXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHNlbGVjdGFibGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXMuc2VsZWN0ICYmIGVsZW1lbnQuc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGb2N1cyBldmVudCBoYW5kbGVyLCBhdHRhY2hlZCB0byBkb2N1bWVudC5ib2R5IGFuZCBkaWFsb2dzIG93biByZXNldCBsaW5rcy5cclxuICAgICAgICAgKiBoYW5kbGVzIHRoZSBmb2N1cyBmb3IgbW9kYWwgZGlhbG9ncyBvbmx5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRE9NIGZvY3VzIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uUmVzZXQoZXZlbnQsIGluc3RhbmNlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBzaG91bGQgd29yayBvbiBsYXN0IG1vZGFsIGlmIHRyaWdnZXJlZCBmcm9tIGRvY3VtZW50LmJvZHkgXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSBvcGVuRGlhbG9ncy5sZW5ndGggLSAxOyB4ID4gLTE7IHggLT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVuRGlhbG9nc1t4XS5pc01vZGFsKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBvcGVuRGlhbG9nc1t4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIG1vZGFsXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc01vZGFsKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSByZXNldCB0YXJnZXQgdG8gZW5hYmxlIGZvcndhcmQvYmFja3dhcmQgdGFiIGN5Y2xlLlxyXG4gICAgICAgICAgICAgICAgdmFyIHJlc2V0VGFyZ2V0LCB0YXJnZXQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0UmVzZXRFbGVtZW50ID0gdGFyZ2V0ID09PSBpbnN0YW5jZS5lbGVtZW50cy5yZXNldFsxXSB8fCAoaW5zdGFuY2UuX19pbnRlcm5hbC5idXR0b25zLmxlbmd0aCA9PT0gMCAmJiB0YXJnZXQgPT09IGRvY3VtZW50LmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIGxhc3QgcmVzZXQgbGluaywgdGhlbiBnbyB0byBtYXhpbWl6ZSBvciBjbG9zZVxyXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RSZXNldEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdtYXhpbWl6YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGFyZ2V0ID0gaW5zdGFuY2UuZWxlbWVudHMuY29tbWFuZHMubWF4aW1pemU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5nZXQoJ2Nsb3NhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUYXJnZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5jbG9zZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBubyByZXNldCB0YXJnZXQgZm91bmQsIHRyeSBmaW5kaW5nIHRoZSBiZXN0IGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc2V0VGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLl9faW50ZXJuYWwuZm9jdXMuZWxlbWVudCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0dG9uIGZvY3VzIGVsZW1lbnQsIGdvIHRvIGZpcnN0IGF2YWlsYWJsZSBidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGFyZ2V0ID0gaW5zdGFuY2UuZWxlbWVudHMuYnV0dG9ucy5hdXhpbGlhcnkuZmlyc3RDaGlsZCB8fCBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0UmVzZXRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc3RhcnQgdGhlIGN5Y2xlIGJ5IGdvaW5nIHRvIGZpcnN0IHJlc2V0IGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGFyZ2V0ID0gaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIHJlYWNoIGhlcmUgd2hlbiB0YXBwaW5nIGJhY2t3YXJkcywgc28gZ28gdG8gbGFzdCBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZm9jdXMgZWxlbWVudCBTSE9VTEQgTk9UIGJlIGEgYnV0dG9uIChsb2dpY2FsbHkhKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VGFyZ2V0ID0gaW5zdGFuY2UuZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5Lmxhc3RDaGlsZCB8fCBpbnN0YW5jZS5lbGVtZW50cy5idXR0b25zLmF1eGlsaWFyeS5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBmb2N1c1xyXG4gICAgICAgICAgICAgICAgc2V0Rm9jdXMoaW5zdGFuY2UsIHJlc2V0VGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmFuc2l0aW9uIGluIHRyYW5zaXRpb25lbmQgZXZlbnQgaGFuZGxlci4gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fVx0XHRUcmFuc2l0aW9uRW5kIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH1cdFx0VGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRyYW5zaXRpb25JbkV2ZW50KGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgdGltZXJcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGluc3RhbmNlLl9faW50ZXJuYWwudGltZXJJbik7XHJcblxyXG4gICAgICAgICAgICAvLyBvbmNlIHRyYW5zaXRpb24gaXMgY29tcGxldGUsIHNldCBmb2N1c1xyXG4gICAgICAgICAgICBzZXRGb2N1cyhpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAvL3Jlc3RvcmUgc2Nyb2xsIHRvIHByZXZlbnQgZG9jdW1lbnQganVtcFxyXG4gICAgICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFsbG93IGhhbmRsaW5nIGtleSB1cCBhZnRlciB0cmFuc2l0aW9uIGVuZGVkLlxyXG4gICAgICAgICAgICBjYW5jZWxLZXl1cCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbmZvY3VzYCBtZXRob2RcclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25mb2N1cycsIGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVuYmluZCB0aGUgZXZlbnRcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgdHJhbnNpdGlvbi50eXBlLCBpbnN0YW5jZS5fX2ludGVybmFsLnRyYW5zaXRpb25JbkhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5hbmltYXRpb25Jbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmFuc2l0aW9uIG91dCB0cmFuc2l0aW9uZW5kIGV2ZW50IGhhbmRsZXIuIFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH1cdFx0VHJhbnNpdGlvbkVuZCBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9XHRcdFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUcmFuc2l0aW9uT3V0RXZlbnQoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSB0aW1lclxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW5zdGFuY2UuX19pbnRlcm5hbC50aW1lck91dCk7XHJcbiAgICAgICAgICAgIC8vIHVuYmluZCB0aGUgZXZlbnRcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZywgdHJhbnNpdGlvbi50eXBlLCBpbnN0YW5jZS5fX2ludGVybmFsLnRyYW5zaXRpb25PdXRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc2V0IG1vdmUgdXBkYXRlc1xyXG4gICAgICAgICAgICByZXNldE1vdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAvLyByZXNldCByZXNpemUgdXBkYXRlc1xyXG4gICAgICAgICAgICByZXNldFJlc2l6ZShpbnN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXN0b3JlIGlmIG1heGltaXplZFxyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNNYXhpbWl6ZWQoKSAmJiAhaW5zdGFuY2UuZ2V0KCdzdGFydE1heGltaXplZCcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0b3JlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmV0dXJuIGZvY3VzIHRvIHRoZSBsYXN0IGFjdGl2ZSBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmIChhbGVydGlmeS5kZWZhdWx0cy5tYWludGFpbkZvY3VzICYmIGluc3RhbmNlLl9faW50ZXJuYWwuYWN0aXZlRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5hY3RpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmFjdGl2ZUVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2Rlc3RvcnkgdGhlIGluc3RhbmNlXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuX19pbnRlcm5hbC5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX2ludGVybmFsLmRlc3Ryb3kuYXBwbHkoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIENvbnRyb2xzIG1vdmluZyBhIGRpYWxvZyBhcm91bmQgKi9cclxuICAgICAgICAvL2hvbGRlIHRoZSBjdXJyZW50IG1vdmluZyBpbnN0YW5jZVxyXG4gICAgICAgIHZhciBtb3ZhYmxlID0gbnVsbCxcclxuICAgICAgICAgICAgLy9ob2xkcyB0aGUgY3VycmVudCBYIG9mZnNldCB3aGVuIG1vdmUgc3RhcnRzXHJcbiAgICAgICAgICAgIG9mZnNldFggPSAwLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBjdXJyZW50IFkgb2Zmc2V0IHdoZW4gbW92ZSBzdGFydHNcclxuICAgICAgICAgICAgb2Zmc2V0WSA9IDAsXHJcbiAgICAgICAgICAgIHhQcm9wID0gJ3BhZ2VYJyxcclxuICAgICAgICAgICAgeVByb3AgPSAncGFnZVknLFxyXG4gICAgICAgICAgICBib3VuZHMgPSBudWxsLFxyXG4gICAgICAgICAgICByZWZyZXNoVG9wID0gZmFsc2UsXHJcbiAgICAgICAgICAgIG1vdmVEZWxlZ2F0ZSA9IG51bGxcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogc2V0cyB0aGUgZWxlbWVudCB0b3AvbGVmdCBjb29yZGluYXRlc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50IFRoZSBlbGVtZW50IGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlRWxlbWVudChldmVudCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgbGVmdCA9IChldmVudFt4UHJvcF0gLSBvZmZzZXRYKSxcclxuICAgICAgICAgICAgICAgIHRvcCAgPSAoZXZlbnRbeVByb3BdIC0gb2Zmc2V0WSk7XHJcblxyXG4gICAgICAgICAgICBpZihyZWZyZXNoVG9wKXtcclxuICAgICAgICAgICAgICAgIHRvcCAtPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHNldHMgdGhlIGVsZW1lbnQgdG9wL2xlZnQgY29vcmRpbmF0ZXMgd2l0aGluIHNjcmVlbiBib3VuZHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCBUaGUgZWxlbWVudCBiZWluZyBtb3ZlZC5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZUVsZW1lbnRCb3VuZGVkKGV2ZW50LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gKGV2ZW50W3hQcm9wXSAtIG9mZnNldFgpLFxyXG4gICAgICAgICAgICAgICAgdG9wICA9IChldmVudFt5UHJvcF0gLSBvZmZzZXRZKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlZnJlc2hUb3Ape1xyXG4gICAgICAgICAgICAgICAgdG9wIC09IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBNYXRoLm1pbihib3VuZHMubWF4TGVmdCwgTWF0aC5tYXgoYm91bmRzLm1pbkxlZnQsIGxlZnQpKSArICdweCc7XHJcbiAgICAgICAgICAgIGlmKHJlZnJlc2hUb3Ape1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBNYXRoLm1pbihib3VuZHMubWF4VG9wLCBNYXRoLm1heChib3VuZHMubWluVG9wLCB0b3ApKSArICdweCc7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSBNYXRoLm1heChib3VuZHMubWluVG9wLCB0b3ApICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXJzIHRoZSBzdGFydCBvZiBhIG1vdmUgZXZlbnQsIGF0dGFjaGVkIHRvIHRoZSBoZWFkZXIgZWxlbWVudCBtb3VzZSBkb3duIGV2ZW50LlxyXG4gICAgICAgICAqIEFkZHMgbm8tc2VsZWN0aW9uIGNsYXNzIHRvIHRoZSBib2R5LCBkaXNhYmxpbmcgc2VsZWN0aW9uIHdoaWxlIG1vdmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gZmFsc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiZWdpbk1vdmUoZXZlbnQsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemFibGUgPT09IG51bGwgJiYgIWluc3RhbmNlLmlzTWF4aW1pemVkKCkgJiYgaW5zdGFuY2UuZ2V0KCdtb3ZhYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFNyYywgbGVmdD0wLCB0b3A9MDtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB4UHJvcCA9ICdjbGllbnRYJztcclxuICAgICAgICAgICAgICAgICAgICB5UHJvcCA9ICdjbGllbnRZJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTcmMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3Nlcy5jYXB0dXJlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS5sZWZ0LCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS50b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS50b3AsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IGV2ZW50U3JjW3hQcm9wXSAtIGxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSA9IGV2ZW50U3JjW3lQcm9wXSAtIHRvcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5zdGFuY2UuaXNNb2RhbCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WSArPSBpbnN0YW5jZS5lbGVtZW50cy5tb2RhbC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoaW5zdGFuY2UuaXNQaW5uZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgLT0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGluc3RhbmNlLmdldCgnbW92ZUJvdW5kZWQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSAtbGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFRvcCA9IC10b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGMgb2Zmc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wICs9IGN1cnJlbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVmdCA6IG9mZnNldExlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5MZWZ0IDogLW9mZnNldExlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhUb3AgIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIGVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gb2Zmc2V0VG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluVG9wICA6IC1vZmZzZXRUb3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZURlbGVnYXRlID0gbW92ZUVsZW1lbnRCb3VuZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUgPSBtb3ZlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVgIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubW92ZScsIGluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRvcCA9ICFpbnN0YW5jZS5pc01vZGFsKCkgJiYgaW5zdGFuY2UuaXNQaW5uZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZhYmxlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZURlbGVnYXRlKGV2ZW50U3JjLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBjbGFzc2VzLm5vU2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBhY3R1YWwgbW92ZSBoYW5kbGVyLCAgYXR0YWNoZWQgdG8gZG9jdW1lbnQuYm9keSBtb3VzZW1vdmUgZXZlbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFx0RE9NIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZShldmVudCkge1xyXG4gICAgICAgICAgICBpZiAobW92YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50U3JjO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50LnRhcmdldFRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlRGVsZWdhdGUoZXZlbnRTcmMsIG1vdmFibGUuZWxlbWVudHMuZGlhbG9nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlcnMgdGhlIGVuZCBvZiBhIG1vdmUgZXZlbnQsICBhdHRhY2hlZCB0byBkb2N1bWVudC5ib2R5IG1vdXNldXAgZXZlbnQuXHJcbiAgICAgICAgICogUmVtb3ZlcyBuby1zZWxlY3Rpb24gY2xhc3MgZnJvbSBkb2N1bWVudC5ib2R5LCBhbGxvd2luZyBzZWxlY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZW5kTW92ZSgpIHtcclxuICAgICAgICAgICAgaWYgKG1vdmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG1vdmFibGU7XHJcbiAgICAgICAgICAgICAgICBtb3ZhYmxlID0gYm91bmRzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzZXMubm9TZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCBjbGFzc2VzLmNhcHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3VzdG9tIGBvbm1vdmVkYCBtZXRob2RcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29ubW92ZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlc2V0cyBhbnkgY2hhbmdlcyBtYWRlIGJ5IG1vdmluZyB0aGUgZWxlbWVudCB0byBpdHMgb3JpZ2luYWwgc3RhdGUsXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0TW92ZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBtb3ZhYmxlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2c7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGVsZW1lbnQuc3R5bGUudG9wID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBkaWFsb2cgbW92ZSBiZWhhdmlvci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1vdmFibGUoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnbW92YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGluc3RhbmNlLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMubW92YWJsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9yZXNldFxyXG4gICAgICAgICAgICAgICAgcmVzZXRNb3ZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5tb3ZhYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc09wZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuYmluZE1vdmFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBDb250cm9scyBtb3ZpbmcgYSBkaWFsb2cgYXJvdW5kICovXHJcbiAgICAgICAgLy9ob2xkZSB0aGUgY3VycmVudCBpbnN0YW5jZSBiZWluZyByZXNpemVkXHRcdFxyXG4gICAgICAgIHZhciByZXNpemFibGUgPSBudWxsLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBzdGFyaW5nIGxlZnQgb2Zmc2V0IHdoZW4gcmVzaXplIHN0YXJ0cy5cclxuICAgICAgICAgICAgc3RhcnRpbmdMZWZ0ID0gTnVtYmVyLk5hbixcclxuICAgICAgICAgICAgLy9ob2xkcyB0aGUgc3RhcmluZyB3aWR0aCB3aGVuIHJlc2l6ZSBzdGFydHMuXHJcbiAgICAgICAgICAgIHN0YXJ0aW5nV2lkdGggPSAwLFxyXG4gICAgICAgICAgICAvL2hvbGRzIHRoZSBpbml0aWFsIHdpZHRoIHdoZW4gcmVzaXplZCBmb3IgdGhlIGZpcnN0IHRpbWUuXHJcbiAgICAgICAgICAgIG1pbldpZHRoID0gMCxcclxuICAgICAgICAgICAgLy9ob2xkcyB0aGUgb2Zmc2V0IG9mIHRoZSByZXNpemUgaGFuZGxlLlxyXG4gICAgICAgICAgICBoYW5kbGVPZmZzZXQgPSAwXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIZWxwZXI6IHNldHMgdGhlIGVsZW1lbnQgd2lkdGgvaGVpZ2h0IGFuZCB1cGRhdGVzIGxlZnQgY29vcmRpbmF0ZSBpZiBuZWNjZXNzYXJ5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBtb3VzZW1vdmUgZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCBUaGUgZWxlbWVudCBiZWluZyBtb3ZlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHBpbm5lZCBBIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgZWxlbWVudCBiZWluZyByZXNpemVkIGlzIHBpbm5lZCB0byB0aGUgc2NyZWVuLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZXNpemVFbGVtZW50KGV2ZW50LCBlbGVtZW50LCBwYWdlUmVsYXRpdmUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vY2FsY3VsYXRlIG9mZnNldHMgZnJvbSAwLDBcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXRUb3AgPSAwO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDtcclxuICAgICAgICAgICAgICAgIG9mZnNldFRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDtcclxuICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSBYLFkgY29vcmRpbmF0ZXMuXHJcbiAgICAgICAgICAgIHZhciBYLCBZO1xyXG4gICAgICAgICAgICBpZiAocGFnZVJlbGF0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBYID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgICAgICBZID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBYID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICAgICAgICAgIFkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJ0bCBoYW5kbGluZ1xyXG4gICAgICAgICAgICB2YXIgaXNSVEwgPSBpc1JpZ2h0VG9MZWZ0KCk7XHJcbiAgICAgICAgICAgIGlmIChpc1JUTCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJzZSBYIFxyXG4gICAgICAgICAgICAgICAgWCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSBYO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgaGFzIGEgc3RhcnRpbmcgbGVmdCwgY2FsY3VsYXRlIG9mZnNldFJpZ2h0XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHN0YXJ0aW5nTGVmdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIG9mZnNldExlZnQgLSBlbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgd2lkdGgvaGVpZ2h0XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKFkgLSBvZmZzZXRUb3AgKyBoYW5kbGVPZmZzZXQpICsgJ3B4JztcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IChYIC0gb2Zmc2V0TGVmdCArIGhhbmRsZU9mZnNldCkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgYmVpbmcgcmVzaXplZCBoYXMgYSBzdGFydGluZyBsZWZ0LCBtYWludGFpbiBpdC5cclxuICAgICAgICAgICAgLy8gdGhlIGRpYWxvZyBpcyBjZW50ZXJlZCwgZGl2aWRlIGJ5IGhhbGYgdGhlIG9mZnNldCB0byBtYWludGFpbiB0aGUgbWFyZ2lucy5cclxuICAgICAgICAgICAgaWYgKCFpc05hTihzdGFydGluZ0xlZnQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKGVsZW1lbnQub2Zmc2V0V2lkdGggLSBzdGFydGluZ1dpZHRoKSAqIDAuNTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JUTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVnYXRlIHRoZSBkaWZmLCB3aHk/XHJcbiAgICAgICAgICAgICAgICAgICAgLy93aGVuIGdyb3dpbmcgaXQgc2hvdWxkIGRlY3JlYXNlIGxlZnRcclxuICAgICAgICAgICAgICAgICAgICAvL3doZW4gc2hyaW5raW5nIGl0IHNob3VsZCBpbmNyZWFzZSBsZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgZGlmZiAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm9mZnNldFdpZHRoID4gc3RhcnRpbmdXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ3Jvd2luZ1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IChzdGFydGluZ0xlZnQgKyBkaWZmKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQub2Zmc2V0V2lkdGggPj0gbWluV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Nocmlua2luZ1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IChzdGFydGluZ0xlZnQgLSBkaWZmKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXJzIHRoZSBzdGFydCBvZiBhIHJlc2l6ZSBldmVudCwgYXR0YWNoZWQgdG8gdGhlIHJlc2l6ZSBoYW5kbGUgZWxlbWVudCBtb3VzZSBkb3duIGV2ZW50LlxyXG4gICAgICAgICAqIEFkZHMgbm8tc2VsZWN0aW9uIGNsYXNzIHRvIHRoZSBib2R5LCBkaXNhYmxpbmcgc2VsZWN0aW9uIHdoaWxlIG1vdmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHRET00gZXZlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gZmFsc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiZWdpblJlc2l6ZShldmVudCwgaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01heGltaXplZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRTcmM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNyYyA9IGV2ZW50LnRhcmdldFRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzaXplYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc2l6ZScsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXNpemFibGUgPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVPZmZzZXQgPSBpbnN0YW5jZS5lbGVtZW50cy5yZXNpemVIYW5kbGUub2Zmc2V0SGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLmVsZW1lbnRzLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLmNhcHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGVmdCA9IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUubGVmdCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLm9mZnNldEhlaWdodCArIGluc3RhbmNlLmVsZW1lbnRzLmZvb3Rlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAoc3RhcnRpbmdXaWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGgpICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubWF4V2lkdGggIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1pbldpZHRoID0gKG1pbldpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1heFdpZHRoID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzZXMubm9TZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGFjdHVhbCByZXNpemUgaGFuZGxlciwgIGF0dGFjaGVkIHRvIGRvY3VtZW50LmJvZHkgbW91c2Vtb3ZlIGV2ZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcdERPTSBldmVudCBvYmplY3QuXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZShldmVudCkge1xyXG4gICAgICAgICAgICBpZiAocmVzaXphYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRTcmM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U3JjID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTcmMgPSBldmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZUVsZW1lbnQoZXZlbnRTcmMsIHJlc2l6YWJsZS5lbGVtZW50cy5kaWFsb2csICFyZXNpemFibGUuZ2V0KCdtb2RhbCcpICYmICFyZXNpemFibGUuZ2V0KCdwaW5uZWQnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXJzIHRoZSBlbmQgb2YgYSByZXNpemUgZXZlbnQsICBhdHRhY2hlZCB0byBkb2N1bWVudC5ib2R5IG1vdXNldXAgZXZlbnQuXHJcbiAgICAgICAgICogUmVtb3ZlcyBuby1zZWxlY3Rpb24gY2xhc3MgZnJvbSBkb2N1bWVudC5ib2R5LCBhbGxvd2luZyBzZWxlY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZW5kUmVzaXplKCkge1xyXG4gICAgICAgICAgICBpZiAocmVzaXphYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSByZXNpemFibGU7XHJcbiAgICAgICAgICAgICAgICByZXNpemFibGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3Nlcy5ub1NlbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuY2FwdHVyZSk7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxDbGljayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzaXplZGAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc2l6ZWQnLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlc2V0cyBhbnkgY2hhbmdlcyBtYWRlIGJ5IHJlc2l6aW5nIHRoZSBlbGVtZW50IHRvIGl0cyBvcmlnaW5hbCBzdGF0ZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRSZXNpemUoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmVzaXphYmxlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2c7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLm1heFdpZHRoID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIC8vY2xlYXIgaW5saW5lIHN0eWxlcy5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSBlbGVtZW50LnN0eWxlLm1pbldpZHRoID0gZWxlbWVudC5zdHlsZS53aWR0aCA9IGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSBlbGVtZW50LnN0eWxlLmxlZnQgPSAnJztcclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgdmFyaWFibGVzLlxyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdMZWZ0ID0gTnVtYmVyLk5hbjtcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nV2lkdGggPSBtaW5XaWR0aCA9IGhhbmRsZU9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBkaWFsb2cgbW92ZSBiZWhhdmlvci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvbiBUcnVlIHRvIGFkZCB0aGUgYmVoYXZpb3IsIHJlbW92ZXMgaXQgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlc2l6YWJsZShpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdyZXNpemFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsYXNzXHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbnN0YW5jZS5lbGVtZW50cy5yb290LCBjbGFzc2VzLnJlc2l6YWJsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kUmVzaXphYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vcmVzZXRcclxuICAgICAgICAgICAgICAgIHJlc2V0UmVzaXplKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaW5zdGFuY2UuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5yZXNpemFibGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5iaW5kUmVzaXphYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXQgbW92ZS9yZXNpemUgb24gd2luZG93IHJlc2l6ZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XHR3aW5kb3cgcmVzaXplIGV2ZW50IG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB3aW5kb3dSZXNpemUoLypldmVudCovKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgb3BlbkRpYWxvZ3MubGVuZ3RoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG9wZW5EaWFsb2dzW3hdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgnYXV0b1Jlc2V0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1vdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0UmVzaXplKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCaW5kIGRpYWxvZ3MgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgLy8gaWYgZmlyc3QgZGlhbG9nLCBob29rIGdsb2JhbCBoYW5kbGVyc1xyXG4gICAgICAgICAgICBpZiAob3BlbkRpYWxvZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbFxyXG4gICAgICAgICAgICAgICAgb24od2luZG93LCAncmVzaXplJywgd2luZG93UmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmJvZHksICdrZXl1cCcsIGtleXVwSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5ib2R5LCAna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmJvZHksICdmb2N1cycsIG9uUmVzZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbW92ZVxyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2Vtb3ZlJywgbW92ZSk7XHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICd0b3VjaG1vdmUnLCBtb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNldXAnLCBlbmRNb3ZlKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNoZW5kJywgZW5kTW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc2l6ZVxyXG4gICAgICAgICAgICAgICAgb24oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2Vtb3ZlJywgcmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNobW92ZScsIHJlc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZXVwJywgZW5kUmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNoZW5kJywgZW5kUmVzaXplKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY29tbW9uIGV2ZW50c1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5jb250YWluZXIsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwuY29tbWFuZHNDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5mb290ZXIsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwuYnV0dG9uc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzBdLCAnZm9jdXMnLCBpbnN0YW5jZS5fX2ludGVybmFsLnJlc2V0SGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzFdLCAnZm9jdXMnLCBpbnN0YW5jZS5fX2ludGVybmFsLnJlc2V0SGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvL3ByZXZlbnQgaGFuZGxpbmcga2V5IHVwIHdoZW4gZGlhbG9nIGlzIGJlaW5nIG9wZW5lZCBieSBhIGtleSBzdHJva2UuXHJcbiAgICAgICAgICAgIGNhbmNlbEtleXVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gaG9vayBpbiB0cmFuc2l0aW9uIGhhbmRsZXJcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbkluSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvLyBtb2RlbHNzIG9ubHkgZXZlbnRzXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuZ2V0KCdtb2RhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZXNpemFibGVcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmdldCgncmVzaXphYmxlJykpIHtcclxuICAgICAgICAgICAgICAgIGJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZhYmxlXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21vdmFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgYmluZE1vdmFibGVFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgZGlhbG9ncyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdW5iaW5kRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIGxhc3QgZGlhbG9nLCByZW1vdmUgZ2xvYmFsIGhhbmRsZXJzXHJcbiAgICAgICAgICAgIGlmIChvcGVuRGlhbG9ncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICBvZmYod2luZG93LCAncmVzaXplJywgd2luZG93UmVzaXplKTtcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5ib2R5LCAna2V5dXAnLCBrZXl1cEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmJvZHksICdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmJvZHksICdmb2N1cycsIG9uUmVzZXQpO1xyXG4gICAgICAgICAgICAgICAgLy9tb3ZlXHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2Vtb3ZlJywgbW92ZSk7XHJcbiAgICAgICAgICAgICAgICBvZmYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2V1cCcsIGVuZE1vdmUpO1xyXG4gICAgICAgICAgICAgICAgLy9yZXNpemVcclxuICAgICAgICAgICAgICAgIG9mZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZW1vdmUnLCByZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgb2ZmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNldXAnLCBlbmRSZXNpemUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb21tb24gZXZlbnRzXHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5jb21tYW5kcy5jb250YWluZXIsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwuY29tbWFuZHNDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuZm9vdGVyLCAnY2xpY2snLCBpbnN0YW5jZS5fX2ludGVybmFsLmJ1dHRvbnNDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMucmVzZXRbMF0sICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwucmVzZXRIYW5kbGVyKTtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLnJlc2V0WzFdLCAnZm9jdXMnLCBpbnN0YW5jZS5fX2ludGVybmFsLnJlc2V0SGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvLyBob29rIG91dCB0cmFuc2l0aW9uIGhhbmRsZXJcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMuZGlhbG9nLCB0cmFuc2l0aW9uLnR5cGUsIGluc3RhbmNlLl9faW50ZXJuYWwudHJhbnNpdGlvbk91dEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gbW9kZWxzcyBvbmx5IGV2ZW50c1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmdldCgnbW9kYWwnKSkge1xyXG4gICAgICAgICAgICAgICAgdW5iaW5kTW9kZWxlc3NFdmVudHMoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZhYmxlXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5nZXQoJ21vdmFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdW5iaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlc2l6YWJsZVxyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuZ2V0KCdyZXNpemFibGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdW5iaW5kUmVzaXphYmxlRXZlbnRzKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgbW9kZWxlc3Mgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRNb2RlbGVzc0V2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwuYnJpbmdUb0Zyb250SGFuZGxlciwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgbW9kZWxlc3Mgc3BlY2lmaWMgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgVGhlIGRpbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHVuYmluZE1vZGVsZXNzRXZlbnRzKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIG9mZihpbnN0YW5jZS5lbGVtZW50cy5kaWFsb2csICdmb2N1cycsIGluc3RhbmNlLl9faW50ZXJuYWwuYnJpbmdUb0Zyb250SGFuZGxlciwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgbW92YWJsZSBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZE1vdmFibGVFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLCAnbW91c2Vkb3duJywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLCAndG91Y2hzdGFydCcsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5Nb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgbW92YWJsZSBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdW5iaW5kTW92YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMuaGVhZGVyLCAnbW91c2Vkb3duJywgaW5zdGFuY2UuX19pbnRlcm5hbC5iZWdpbk1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLmhlYWRlciwgJ3RvdWNoc3RhcnQnLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCaW5kIHJlc2l6YWJsZSBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBUaGUgZGlsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYmluZFJlc2l6YWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvbihpbnN0YW5jZS5lbGVtZW50cy5yZXNpemVIYW5kbGUsICdtb3VzZWRvd24nLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luUmVzaXplSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG9uKGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZSwgJ3RvdWNoc3RhcnQnLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luUmVzaXplSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmJpbmQgcmVzaXphYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRSZXNpemFibGVFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZSwgJ21vdXNlZG93bicsIGluc3RhbmNlLl9faW50ZXJuYWwuYmVnaW5SZXNpemVIYW5kbGVyKTtcclxuICAgICAgICAgICAgb2ZmKGluc3RhbmNlLmVsZW1lbnRzLnJlc2l6ZUhhbmRsZSwgJ3RvdWNoc3RhcnQnLCBpbnN0YW5jZS5fX2ludGVybmFsLmJlZ2luUmVzaXplSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCaW5kIGNsb3NhYmxlIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBiaW5kQ2xvc2FibGVFdmVudHMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb24oaW5zdGFuY2UuZWxlbWVudHMubW9kYWwsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwubW9kYWxDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVW5iaW5kIGNsb3NhYmxlIHNwZWNpZmljIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIFRoZSBkaWxvZyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB1bmJpbmRDbG9zYWJsZUV2ZW50cyhpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudHMubW9kYWwsICdjbGljaycsIGluc3RhbmNlLl9faW50ZXJuYWwubW9kYWxDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkaWFsb2cgQVBJXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX19pbml0OmluaXRpYWxpemUsXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDaGVjayBpZiBkaWFsb2cgaXMgY3VycmVudGx5IG9wZW5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19pbnRlcm5hbC5pc09wZW47XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzTW9kYWw6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMucm9vdC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc2VzLm1vZGVsZXNzKSA8IDA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzTWF4aW1pemVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5yb290LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzZXMubWF4aW1pemVkKSA+IC0xO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc1Bpbm5lZDpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMucm9vdC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc2VzLnVucGlubmVkKSA8IDA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1heGltaXplOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc01heGltaXplZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICBtYXhpbWl6ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0b3JlOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzTWF4aW1pemVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGluOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc1Bpbm5lZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICBwaW4odGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5waW46ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNQaW5uZWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5waW4odGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBicmluZ1RvRnJvbnQobnVsbCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE1vdmUgdGhlIGRpYWxvZyB0byBhIHNwZWNpZmljIHgveSBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geCAgICBUaGUgbmV3IGRpYWxvZyB4IGNvb3JkaW5hdGUgaW4gcGl4ZWxzLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geSAgICBUaGUgbmV3IGRpYWxvZyB5IGNvb3JkaW5hdGUgaW4gcGl4ZWxzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBtb3ZlVG86ZnVuY3Rpb24oeCx5KXtcclxuICAgICAgICAgICAgICAgIGlmKCFpc05hTih4KSAmJiAhaXNOYU4oeSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25tb3ZlYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbm1vdmUnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHMuZGlhbG9nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFRvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zdWJ0cmFjdCBleGlzdGluZyBsZWZ0LHRvcFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLmxlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCAtPSBwYXJzZUludChlbGVtZW50LnN0eWxlLmxlZnQsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUudG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFRvcCAtPSBwYXJzZUludChlbGVtZW50LnN0eWxlLnRvcCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2NhbGMgb2Zmc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wICs9IGN1cnJlbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsYyBsZWZ0LCB0b3BcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9ICh4IC0gb2Zmc2V0TGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCAgPSAoeSAtIG9mZnNldFRvcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8gcnRsIGhhbmRsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRUb0xlZnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25tb3ZlZGAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25tb3ZlZCcsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZXNpemUgdGhlIGRpYWxvZyB0byBhIHNwZWNpZmljIHdpZHRoL2hlaWdodCAodGhlIGRpYWxvZyBtdXN0IGJlICdyZXNpemFibGUnKS5cclxuICAgICAgICAgICAgICogVGhlIGRpYWxvZyBjYW4gYmUgcmVzaXplZCB0bzpcclxuICAgICAgICAgICAgICogIEEgbWluaW11bSB3aWR0aCBlcXVhbCB0byB0aGUgaW5pdGlhbCBkaXNwbGF5IHdpZHRoXHJcbiAgICAgICAgICAgICAqICBBIG1pbmltdW0gaGVpZ2h0IGVxdWFsIHRvIHRoZSBzdW0gb2YgaGVhZGVyL2Zvb3RlciBoZWlnaHRzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlciBvciBTdHJpbmd9IHdpZHRoICAgIFRoZSBuZXcgZGlhbG9nIHdpZHRoIGluIHBpeGVscyBvciBpbiBwZXJjZW50LlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlciBvciBTdHJpbmd9IGhlaWdodCAgIFRoZSBuZXcgZGlhbG9nIGhlaWdodCBpbiBwaXhlbHMgb3IgaW4gcGVyY2VudC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmVzaXplVG86ZnVuY3Rpb24od2lkdGgsaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIHZhciB3ID0gcGFyc2VGbG9hdCh3aWR0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IHBhcnNlRmxvYXQoaGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IC8oXFxkKlxcLlxcZCt8XFxkKyklL1xyXG4gICAgICAgICAgICAgICAgO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFpc05hTih3KSAmJiAhaXNOYU4oaCkgJiYgdGhpcy5nZXQoJ3Jlc2l6YWJsZScpID09PSB0cnVlKXtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzaXplYCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KCdvbnJlc2l6ZScsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCgnJyArIHdpZHRoKS5tYXRjaChyZWdleCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gdyAvIDEwMCAqIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZigoJycgKyBoZWlnaHQpLm1hdGNoKHJlZ2V4KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBoIC8gMTAwICogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50cy5kaWFsb2c7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUubWF4V2lkdGggIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1pbldpZHRoID0gKG1pbldpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1heFdpZHRoID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gdGhpcy5lbGVtZW50cy5oZWFkZXIub2Zmc2V0SGVpZ2h0ICsgdGhpcy5lbGVtZW50cy5mb290ZXIub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gdyArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9ucmVzaXplZGAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25yZXNpemVkJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEdldHMgb3IgU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucyBcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgQSBzdHJpbmcgc3BlY2lmeWluZyBhIHByb3BlcnkgbmFtZSBvciBhIGNvbGxlY3Rpb24gb2Yga2V5L3ZhbHVlIHBhaXJzLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgT3B0aW9uYWwsIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGtleSAoaW4gY2FzZSBpdCB3YXMgYSBzdHJpbmcpLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXR0aW5nIDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB1cGRhdGUodGhpcywgdGhpcy5fX2ludGVybmFsLm9wdGlvbnMsIGZ1bmN0aW9uKGssbyxuKXsgb3B0aW9uVXBkYXRlZChzZWxmLGssbyxuKTsgfSwga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHQub3AgPT09ICdnZXQnKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZm91bmQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiB0aGlzLnNldHRpbmdzICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGUodGhpcywgdGhpcy5zZXR0aW5ncywgdGhpcy5zZXR0aW5nVXBkYXRlZCB8fCBmdW5jdGlvbigpe30sIGtleSwgdmFsdWUpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5vcCA9PT0gJ3NldCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5pdGVtcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5zZXR0aW5nVXBkYXRlZCB8fCBmdW5jdGlvbigpe307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wO3g8cmVzdWx0Lml0ZW1zLmxlbmd0aDt4Kz0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcmVzdWx0Lml0ZW1zW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWl0ZW0uZm91bmQgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUodGhpcywgdGhpcy5zZXR0aW5ncywgY2FsbGJhY2ssIGl0ZW0ua2V5LCBpdGVtLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucyBcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldDpmdW5jdGlvbihrZXksIHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZyhrZXksdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBbQWxpYXNdIEdldHMgZGlhbG9nIHNldHRpbmdzL29wdGlvbnMgXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6ZnVuY3Rpb24oa2V5KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmcoa2V5KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogU2V0cyBkaWFsb2cgaGVhZGVyXHJcbiAgICAgICAgICAgICogQGNvbnRlbnQge3N0cmluZyBvciBlbGVtZW50fVxyXG4gICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzZXRIZWFkZXI6ZnVuY3Rpb24oY29udGVudCl7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHModGhpcy5lbGVtZW50cy5oZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuaGVhZGVyLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoY29udGVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAmJiB0aGlzLmVsZW1lbnRzLmhlYWRlci5maXJzdENoaWxkICE9PSBjb250ZW50KXtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnRzKHRoaXMuZWxlbWVudHMuaGVhZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmhlYWRlci5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBTZXRzIGRpYWxvZyBjb250ZW50c1xyXG4gICAgICAgICAgICAqIEBjb250ZW50IHtzdHJpbmcgb3IgZWxlbWVudH1cclxuICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0Q29udGVudDpmdW5jdGlvbihjb250ZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnRzLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50cy5jb250ZW50LmZpcnN0Q2hpbGQgIT09IGNvbnRlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHModGhpcy5lbGVtZW50cy5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFNob3cgdGhlIGRpYWxvZyBhcyBtb2RhbFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzaG93TW9kYWw6IGZ1bmN0aW9uKGNsYXNzTmFtZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93KHRydWUsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBTaG93IHRoZSBkaWFsb2dcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgZGlhbG9nIGluc3RhbmNlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKG1vZGFsLCBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIGluaXRpYWxpemF0aW9uXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggIXRoaXMuX19pbnRlcm5hbC5pc09wZW4gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0byBvcGVuIGRpYWxvZ3NcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuRGlhbG9ncy5wdXNoKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIGxhc3QgZm9jdXNlZCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWxlcnRpZnkuZGVmYXVsdHMubWFpbnRhaW5Gb2N1cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5hY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vYWxsb3cgY3VzdG9tIGRvbSBtYW5pcHVsYXRpb24gdXBkYXRlcyBiZWZvcmUgc2hvd2luZyB0aGUgZGlhbG9nLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLnByZXBhcmUgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRFdmVudHModGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG1vZGFsICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCgnbW9kYWwnLCBtb2RhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3NhdmUgc2Nyb2xsIHRvIHByZXZlbnQgZG9jdW1lbnQganVtcFxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmVTY3JvbGxQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVOb092ZXJmbG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBkaWFsb2cgY2xhc3Mgb24gc2hvd1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjbGFzc05hbWUgPT09ICdzdHJpbmcnICYmIGNsYXNzTmFtZSAhPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsZW1lbnRzLnJvb3QsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBtYXhpbWl6ZSBpZiBzdGFydCBtYXhpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaXMuZ2V0KCdzdGFydE1heGltaXplZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF4aW1pemUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmlzTWF4aW1pemVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQWJzUG9zaXRpb25GaXgodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5hbmltYXRpb25PdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5hbmltYXRpb25Jbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCAxcyBmYWxsYmFjayBpbiBjYXNlIHRyYW5zaXRpb24gZXZlbnQgZG9lc24ndCBmaXJlXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzLl9faW50ZXJuYWwudGltZXJJbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLnRpbWVySW4gPSBzZXRUaW1lb3V0KCB0aGlzLl9faW50ZXJuYWwudHJhbnNpdGlvbkluSGFuZGxlciwgdHJhbnNpdGlvbi5zdXBwb3J0ZWQgPyAxMDAwIDogMTAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzU2FmYXJpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgZGVza3RvcCBzYWZhcmkgcmVmbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb290ID0gdGhpcy5lbGVtZW50cy5yb290O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290LnN0eWxlLmRpc3BsYXkgID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cm9vdC5zdHlsZS5kaXNwbGF5ICA9ICdibG9jayc7fSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3JlZmxvd1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZmxvdyA9IHRoaXMuZWxlbWVudHMucm9vdC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBkaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnRzLnJvb3QsIGNsYXNzZXMuaGlkZGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJuYWwgb24gc2hvdyBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLmhvb2tzLm9uc2hvdyA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9va3Mub25zaG93LmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBjdXN0b20gYG9uc2hvd2AgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgnb25zaG93JywgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgbW92ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRNb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHJlc2l6ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRSZXNpemUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hha2UgdGhlIGRpYWxvZyB0byBpbmRpY2F0ZSBpdHMgYWxyZWFkeSBvcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5kaWFsb2csIGNsYXNzZXMuc2hha2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNlbGYuZWxlbWVudHMuZGlhbG9nLCBjbGFzc2VzLnNoYWtlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENsb3NlIHRoZSBkaWFsb2dcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGlhbG9nIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX19pbnRlcm5hbC5pc09wZW4gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIGBvbmNsb3NpbmdgIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGlzcGF0Y2hFdmVudCgnb25jbG9zaW5nJywgdGhpcykgIT09IGZhbHNlKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuYmluZEV2ZW50cyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5hbmltYXRpb25Jbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgY2xhc3Nlcy5hbmltYXRpb25PdXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IDFzIGZhbGxiYWNrIGluIGNhc2UgdHJhbnNpdGlvbiBldmVudCBkb2Vzbid0IGZpcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzLl9faW50ZXJuYWwudGltZXJPdXQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLnRpbWVyT3V0ID0gc2V0VGltZW91dCggdGhpcy5fX2ludGVybmFsLnRyYW5zaXRpb25PdXRIYW5kbGVyLCB0cmFuc2l0aW9uLnN1cHBvcnRlZCA/IDEwMDAgOiAxMDAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSBkaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5lbGVtZW50cy5yb290LCBjbGFzc2VzLmhpZGRlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVmbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmxvdyA9IHRoaXMuZWxlbWVudHMubW9kYWwub2Zmc2V0V2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY3VzdG9tIGRpYWxvZyBjbGFzcyBvbiBoaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fX2ludGVybmFsLmNsYXNzTmFtZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5fX2ludGVybmFsLmNsYXNzTmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMucm9vdCwgdGhpcy5fX2ludGVybmFsLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVybmFsIG9uIGNsb3NlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLmhvb2tzLm9uY2xvc2UgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rcy5vbmNsb3NlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGN1c3RvbSBgb25jbG9zZWAgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoJ29uY2xvc2UnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIGZyb20gb3BlbiBkaWFsb2dzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2dzLnNwbGljZShvcGVuRGlhbG9ncy5pbmRleE9mKHRoaXMpLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuaXNPcGVuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVOb092ZXJmbG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ2xvc2UgYWxsIG9wZW4gZGlhbG9ncyBleGNlcHQgdGhpcy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xvc2VPdGhlcnM6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LmNsb3NlQWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEZXN0cm95cyB0aGlzIGRpYWxvZyBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkZXN0cm95OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmlzT3BlbiApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21hcmsgZGlhbG9nIGZvciBkZXN0cnVjdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBvbiB0cmFuaXN0aW9uT3V0IGV2ZW50LlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5kZXN0cm95ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJ1Y3QodGhpcywgaW5pdGlhbGl6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL2Nsb3NlIHRoZSBkaWFsb2cgdG8gdW5iaW5kIGFsbCBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJ1Y3QodGhpcywgaW5pdGlhbGl6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cdH0gKCkgKTtcclxuICAgIHZhciBub3RpZmllciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlZmxvdyxcclxuICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgb3Blbkluc3RhbmNlcyA9IFtdLFxyXG4gICAgICAgICAgICBjbGFzc2VzID0ge1xyXG4gICAgICAgICAgICAgICAgYmFzZTogJ2FsZXJ0aWZ5LW5vdGlmaWVyJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdhanMtbWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgICB0b3A6ICdhanMtdG9wJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAnYWpzLXJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogJ2Fqcy1ib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogJ2Fqcy1sZWZ0JyxcclxuICAgICAgICAgICAgICAgIGNlbnRlcjogJ2Fqcy1jZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogJ2Fqcy12aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogJ2Fqcy1oaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgY2xvc2U6ICdhanMtY2xvc2UnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiBpbml0aWFsaXplcyB0aGUgbm90aWZpZXIgaW5zdGFuY2VcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaW5zdGFuY2UpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX19pbnRlcm5hbCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWxlcnRpZnkuZGVmYXVsdHMubm90aWZpZXIucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IGFsZXJ0aWZ5LmRlZmF1bHRzLm5vdGlmaWVyLmRlbGF5LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdXBkYXRlUG9zaXRpb24oaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2FkZCB0byBET00gdHJlZS5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcHVzaEluc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwucHVzaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgb3Blbkluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcG9wSW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgb3Blbkluc3RhbmNlcy5zcGxpY2Uob3Blbkluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKSwgMSk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwucHVzaGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlbHBlcjogdXBkYXRlIHRoZSBub3RpZmllciBpbnN0YW5jZSBwb3NpdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc2VzLmJhc2U7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFuY2UuX19pbnRlcm5hbC5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICd0b3AtcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3Nlcy50b3AgKyAnICcgKyBjbGFzc2VzLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3AtbGVmdCc6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLnRvcCArICcgJyArIGNsYXNzZXMubGVmdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndG9wLWNlbnRlcic6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLnRvcCArICcgJyArIGNsYXNzZXMuY2VudGVyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdib3R0b20tbGVmdCc6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLmJvdHRvbSArICcgJyArIGNsYXNzZXMubGVmdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYm90dG9tLWNlbnRlcic6XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzLmJvdHRvbSArICcgJyArIGNsYXNzZXMuY2VudGVyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY2FzZSAnYm90dG9tLXJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzZXMuYm90dG9tICsgJyAnICsgY2xhc3Nlcy5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBjcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtICB7RE9NRWxlbWVudH0gbWVzc2FnZVx0VGhlIG5vdGlmaWVyIG1lc3NhZ2UgZWxlbWVudFxyXG4gICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB3YWl0ICAgVGltZSAoaW4gbXMpIHRvIHdhaXQgYmVmb3JlIHRoZSBtZXNzYWdlIGlzIGRpc21pc3NlZCwgYSB2YWx1ZSBvZiAwIG1lYW5zIGtlZXAgb3BlbiB0aWxsIGNsaWNrZWQuXHJcbiAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLlxyXG4gICAgICAgICpcclxuICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZShkaXYsIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGlja0RlbGVnYXRlKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWluc3RhbmNlLl9faW50ZXJuYWwuY2xvc2VCdXR0b24gfHwgZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jbG9zZScpID09PSAndHJ1ZScpe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmRpc21pc3ModHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKGV2ZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5iaW5kIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBvZmYoaW5zdGFuY2UuZWxlbWVudCwgdHJhbnNpdGlvbi50eXBlLCB0cmFuc2l0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoaW5zdGFuY2UuZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX19pbnRlcm5hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9faW50ZXJuYWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja0hhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZEhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQ6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC5jbGlja0hhbmRsZXIgPSBkZWxlZ2F0ZShpbnN0YW5jZSwgY2xpY2tEZWxlZ2F0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbnRlcm5hbC50cmFuc2l0aW9uRW5kSGFuZGxlciA9IGRlbGVnYXRlKGluc3RhbmNlLCB0cmFuc2l0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lcnMoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5fX2ludGVybmFsLnRpbWVyKTtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5fX2ludGVybmFsLnRyYW5zaXRpb25UaW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZSh7XHJcbiAgICAgICAgICAgICAgICAvKiBub3RpZmljYXRpb24gRE9NIGVsZW1lbnQqL1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZGl2LFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIFB1c2hlcyBhIG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZyBvciBET01FbGVtZW50fSBjb250ZW50IFRoZSBub3RpZmljYXRpb24gbWVzc2FnZSBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gd2FpdCBUaGUgdGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLCBhIHZhbHVlIG9mIDAgbWVhbnMga2VlcCBvcGVuIHRpbGwgY2xpY2tlZC5cclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChfY29udGVudCwgX3dhaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX19pbnRlcm5hbC5wdXNoZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hJbnN0YW5jZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lcnModGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCwgd2FpdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQgPSB0aGlzLl9faW50ZXJuYWwuZGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoX2NvbnRlbnQpID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQgPSBfY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IF9jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQgPSB0aGlzLl9faW50ZXJuYWwuZGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IF9jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCA9IF93YWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmNsb3NlQnV0dG9uID0gYWxlcnRpZnkuZGVmYXVsdHMubm90aWZpZXIuY2xvc2VCdXR0b247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBjb250ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRlbnQoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIG9yIGluc2VydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpZXIuX19pbnRlcm5hbC5wb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCwgZWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZsb3cgPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWxlbWVudCwgY2xhc3Nlcy52aXNpYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXR0YWNoIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5fX2ludGVybmFsLmNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGF5KHdhaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICoge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGJlZm9yZSBkaXNtaXNzaW5nIHRoZSBub3RpZmljYXRpb24gbWVzc2FnZS5cclxuICAgICAgICAgICAgICAgICAqIFJlbWFya3M6IEEgcmV0dXJuIHZhbHVlID09PSAnZmFsc2UnIHdpbGwgY2FuY2VsIHRoZSBkaXNtaXNzYWxcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIG9uZGlzbWlzczogZnVuY3Rpb24gKCkgeyB9LFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBtZXNzYWdlIGlzIGRpc21pc3NlZC5cclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiBEaXNtaXNzZXMgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNsaWNrZWQgQSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGRpc21pc3NhbCB3YXMgY2F1c2VkIGJ5IGEgY2xpY2suXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBkaXNtaXNzOiBmdW5jdGlvbiAoY2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9faW50ZXJuYWwucHVzaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZXJzKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgdGhpcy5vbmRpc21pc3MgPT09ICdmdW5jdGlvbicgJiYgdGhpcy5vbmRpc21pc3MuY2FsbCh0aGlzKSA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RldGFjaCBjbGljayBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5fX2ludGVybmFsLmNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgZWxlbWVudCBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5lbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSA9PT0gZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhbnNpdGlvbiBlbmQgb3IgZmFsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwudHJhbnNpdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX19pbnRlcm5hbC50cmFuc2l0aW9uRW5kSGFuZGxlciwgdHJhbnNpdGlvbi5zdXBwb3J0ZWQgPyAxMDAwIDogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsIGNsYXNzZXMudmlzaWJsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBjYWxsYmFjayBvbiBkaXNtaXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLCBjbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3BJbnN0YW5jZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogRGVsYXlzIHRoZSBub3RpZmljYXRpb24gbWVzc2FnZSBkaXNtaXNzYWxcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3YWl0IFRoZSB0aW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSB0aGUgbWVzc2FnZSBpcyBkaXNtaXNzZWQsIGEgdmFsdWUgb2YgMCBtZWFucyBrZWVwIG9wZW4gdGlsbCBjbGlja2VkLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZGVsYXk6IGZ1bmN0aW9uICh3YWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lcnModGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmRlbGF5ID0gdHlwZW9mIHdhaXQgIT09ICd1bmRlZmluZWQnICYmICFpc05hTigrd2FpdCkgPyArd2FpdCA6IG5vdGlmaWVyLl9faW50ZXJuYWwuZGVsYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX19pbnRlcm5hbC5kZWxheSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHNlbGYuZGlzbWlzcygpOyB9LCB0aGlzLl9faW50ZXJuYWwuZGVsYXkgKiAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIFNldHMgdGhlIG5vdGlmaWNhdGlvbiBtZXNzYWdlIGNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZyBvciBET01FbGVtZW50fSBjb250ZW50IFRoZSBub3RpZmljYXRpb24gbWVzc2FnZSBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQgIT09IGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250ZW50cyh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX19pbnRlcm5hbC5jbG9zZUJ1dHRvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoY2xvc2UsIGNsYXNzZXMuY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2xvc2UnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNsb3NlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIERpc21pc3NlcyBhbGwgb3BlbiBub3RpZmljYXRpb25zIGV4Y2VwdCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZGlzbWlzc090aGVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyLmRpc21pc3NBbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9ub3RpZmllciBhcGlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0cyBvciBTZXRzIG5vdGlmaWVyIHNldHRpbmdzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBzZXR0aW5nIG5hbWVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtWYXJpYW50fSB2YWx1ZSBUaGUgc2V0dGluZyB2YWx1ZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fVx0aWYgdGhlIGNhbGxlZCBhcyBhIHNldHRlciwgcmV0dXJuIHRoZSBub3RpZmllciBpbnN0YW5jZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldHRpbmc6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Vuc3VyZSBpbml0XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nZXRcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX2ludGVybmFsW2tleV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5wb3NpdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbih0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsYXknOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuZGVsYXkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBbQWxpYXNdIFNldHMgZGlhbG9nIHNldHRpbmdzL29wdGlvbnNcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldDpmdW5jdGlvbihrZXksdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nKGtleSx2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gR2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9uc1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZ2V0OmZ1bmN0aW9uKGtleSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nKGtleSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIG5vdGlmaWNhdGlvbiBtZXNzYWdlIChzaW1wbHkgYSBDU1MgY2xhc3MgbmFtZSAnYWpzLXt0eXBlfScgdG8gYmUgYWRkZWQpLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgZGlzbWlzc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICh0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgLy9lbnN1cmUgbm90aWZpZXIgaW5pdFxyXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlIG5ldyBub3RpZmljYXRpb24gbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzZXMubWVzc2FnZSArICgodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnICYmIHR5cGUgIT09ICcnKSA/ICcgYWpzLScgKyB0eXBlIDogJycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZShkaXYsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERpc21pc3NlcyBhbGwgb3BlbiBub3RpZmljYXRpb25zLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXhjcGV0IFtvcHRpb25hbF0gVGhlIG5vdGlmaWNhdGlvbiBvYmplY3QgdG8gZXhjbHVkZSBmcm9tIGRpc21pc3NhbC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRpc21pc3NBbGw6IGZ1bmN0aW9uIChleGNlcHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IG9wZW5JbnN0YW5jZXMuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNsb25lLmxlbmd0aDsgeCArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICBpbnN0YW5jZSA9IGNsb25lW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNlcHQgPT09IHVuZGVmaW5lZCB8fCBleGNlcHQgIT09IGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFsZXJ0aWZ5IHB1YmxpYyBBUElcclxuICAgICAqIFRoaXMgY29udGFpbnMgZXZlcnl0aGluZyB0aGF0IGlzIGV4cG9zZWQgdGhyb3VnaCB0aGUgYWxlcnRpZnkgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQWxlcnRpZnkoKSB7XHJcblxyXG4gICAgICAgIC8vIGhvbGRzIGEgcmVmZXJlbmNlcyBvZiBjcmVhdGVkIGRpYWxvZ3NcclxuICAgICAgICB2YXIgZGlhbG9ncyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFeHRlbmRzIGEgZ2l2ZW4gcHJvdG90eXBlIGJ5IG1lcmdpbmcgcHJvcGVydGllcyBmcm9tIGJhc2UgaW50byBzdWIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc3ViIHtPYmplY3R9IHN1YiBUaGUgcHJvdG90eXBlIGJlaW5nIG92ZXJ3cml0dGVuLlxyXG4gICAgICAgICAqIEBiYXNlIHtPYmplY3R9IGJhc2UgVGhlIHByb3RvdHlwZSBiZWluZyB3cml0dGVuLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXh0ZW5kZWQgcHJvdG90eXBlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZChzdWIsIGJhc2UpIHtcclxuICAgICAgICAgICAgLy8gY29weSBkaWFsb2cgcG90b3R5cGUgb3ZlciBkZWZpbml0aW9uLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGJhc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChiYXNlLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViW3Byb3BdID0gYmFzZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3ViO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogSGVscGVyOiByZXR1cm5zIGEgZGlhbG9nIGluc3RhbmNlIGZyb20gc2F2ZWQgZGlhbG9ncy5cclxuICAgICAgICAqIGFuZCBpbml0aWFsaXplcyB0aGUgZGlhbG9nIGlmIGl0cyBub3QgYWxyZWFkeSBpbml0aWFsaXplZC5cclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAbmFtZSB7U3RyaW5nfSBuYW1lIFRoZSBkaWFsb2cgbmFtZS5cclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkaWFsb2cgaW5zdGFuY2UuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRfZGlhbG9nKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGRpYWxvZ3NbbmFtZV0uZGlhbG9nO1xyXG4gICAgICAgICAgICAvL2luaXRpYWxpemUgdGhlIGRpYWxvZyBpZiBpdHMgbm90IGFscmVhZHkgaW5pdGlhbGl6ZWQuXHJcbiAgICAgICAgICAgIGlmIChkaWFsb2cgJiYgdHlwZW9mIGRpYWxvZy5fX2luaXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5fX2luaXQoZGlhbG9nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGlhbG9nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyOiAgcmVnaXN0ZXJzIGEgbmV3IGRpYWxvZyBkZWZpbml0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQG5hbWUge1N0cmluZ30gbmFtZSBUaGUgZGlhbG9nIG5hbWUuXHJcbiAgICAgICAgICogQEZhY3Rvcnkge0Z1bmN0aW9ufSBGYWN0b3J5IGEgZnVuY3Rpb24gcmVzcG9zaWJsZSBmb3IgY3JlYXRpbmcgZGlhbG9nIHByb3RvdHlwZS5cclxuICAgICAgICAgKiBAdHJhbnNpZW50IHtCb29sZWFufSB0cmFuc2llbnQgVHJ1ZSB0byBjcmVhdGUgYSBuZXcgZGlhbG9nIGluc3RhbmNlIGVhY2ggdGltZSB0aGUgZGlhbG9nIGlzIGludm9rZWQsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgICAgICAgKiBAYmFzZSB7U3RyaW5nfSBiYXNlIHRoZSBuYW1lIG9mIGFub3RoZXIgZGlhbG9nIHRvIGluaGVyaXQgZnJvbS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRpYWxvZyBkZWZpbml0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIEZhY3RvcnksIHRyYW5zaWVudCwgYmFzZSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIGRpYWxvZzogbnVsbCxcclxuICAgICAgICAgICAgICAgIGZhY3Rvcnk6IEZhY3RvcnlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBiYXNlZCBvbiBhbiBleGlzdGluZyBkaWFsb2csIGNyZWF0ZSBhIG5ldyBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIC8vYnkgYXBwbHlpbmcgdGhlIG5ldyBwcm90b3lwZSBvdmVyIHRoZSBleGlzdGluZyBvbmUuXHJcbiAgICAgICAgICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZmFjdG9yeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0ZW5kKG5ldyBkaWFsb2dzW2Jhc2VdLmZhY3RvcnkoKSwgbmV3IEZhY3RvcnkoKSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRyYW5zaWVudCkge1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUgYSBuZXcgZGVmaW5pdGlvbiBiYXNlZCBvbiBkaWFsb2dcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZGlhbG9nID0gZXh0ZW5kKG5ldyBkZWZpbml0aW9uLmZhY3RvcnkoKSwgZGlhbG9nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGlhbG9nc1tuYW1lXSA9IGRlZmluaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQWxlcnRpZnkgZGVmYXVsdHNcclxuICAgICAgICAgICAgICogXHJcbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkZWZhdWx0czogZGVmYXVsdHMsXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEaWFsb2dzIGZhY3RvcnkgXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIERpYWxvZyBuYW1lLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBBIERpYWxvZyBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICBJbmRpY2F0ZXMgd2hldGhlciB0byBjcmVhdGUgYSBzaW5nbGV0b24gb3IgdHJhbnNpZW50IGRpYWxvZy5cclxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9ICAgICAgVGhlIG5hbWUgb2YgdGhlIGJhc2UgdHlwZSB0byBpbmhlcml0IGZyb20uXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkaWFsb2c6IGZ1bmN0aW9uIChuYW1lLCBGYWN0b3J5LCB0cmFuc2llbnQsIGJhc2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgcmVxdWVzdCwgY3JlYXRlIGEgbmV3IGluc3RhbmNlIGFuZCByZXR1cm4gaXQuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEZhY3RvcnkgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0X2RpYWxvZyhuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYWxlcnRpZnkuZGlhbG9nOiBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmluaXRpb24gPSByZWdpc3RlcihuYW1lLCBGYWN0b3J5LCB0cmFuc2llbnQsIGJhc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0cmFuc2llbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBpdCBwdWJsaWNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHBhc3NlZCB3aXRoIG5vIHBhcmFtcywgY29uc2lkZXIgaXQgYSBnZXQgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24uZGlhbG9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gZXh0ZW5kKG5ldyBkZWZpbml0aW9uLmZhY3RvcnkoKSwgZGlhbG9nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZW5zdXJlIGluaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2UuX19pbml0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX19pbml0KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlWydtYWluJ10uYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbJ3Nob3cnXS5hcHBseShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGl0IHB1YmxpY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW5zdXJlIGluaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uZGlhbG9nICYmIHR5cGVvZiBkZWZpbml0aW9uLmRpYWxvZy5fX2luaXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZGlhbG9nLl9faW5pdChkZWZpbml0aW9uLmRpYWxvZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBwYXNzZWQgd2l0aCBubyBwYXJhbXMsIGNvbnNpZGVyIGl0IGEgZ2V0IHJlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSBkZWZpbml0aW9uLmRpYWxvZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1snbWFpbiddLmFwcGx5KGRlZmluaXRpb24uZGlhbG9nLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxvZ1snc2hvdyddLmFwcGx5KGRlZmluaXRpb24uZGlhbG9nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDbG9zZSBhbGwgb3BlbiBkaWFsb2dzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXhjcGV0IFtvcHRpb25hbF0gVGhlIGRpYWxvZyBvYmplY3QgdG8gZXhjbHVkZSBmcm9tIGNsb3NpbmcuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNsb3NlQWxsOiBmdW5jdGlvbiAoZXhjZXB0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmUgPSBvcGVuRGlhbG9ncy5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2xvbmUubGVuZ3RoOyB4ICs9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjbG9uZVt4XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjZXB0ID09PSB1bmRlZmluZWQgfHwgZXhjZXB0ICE9PSBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEdldHMgb3IgU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucy4gaWYgdGhlIGRpYWxvZyBpcyB0cmFuc2llbnQsIHRoaXMgY2FsbCBkb2VzIG5vdGhpbmcuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBkaWFsb2cgbmFtZS5cclxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgQSBzdHJpbmcgc3BlY2lmeWluZyBhIHByb3BlcnkgbmFtZSBvciBhIGNvbGxlY3Rpb24gb2Yga2V5L3ZhbHVlIHBhaXJzLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1ZhcmlhbnR9IHZhbHVlIE9wdGlvbmFsLCB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkgKGluIGNhc2UgaXQgd2FzIGEgc3RyaW5nKS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2V0dGluZzogZnVuY3Rpb24gKG5hbWUsIGtleSwgdmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ25vdGlmaWVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5zZXR0aW5nKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSBnZXRfZGlhbG9nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaWFsb2cuc2V0dGluZyhrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFtBbGlhc10gU2V0cyBkaWFsb2cgc2V0dGluZ3Mvb3B0aW9ucyBcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24obmFtZSxrZXksdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZyhuYW1lLCBrZXksdmFsdWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogW0FsaWFzXSBHZXRzIGRpYWxvZyBzZXR0aW5ncy9vcHRpb25zIFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihuYW1lLCBrZXkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZyhuYW1lLCBrZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBub3RpZmljYXRpb24gbWVzc2FnZS5cclxuICAgICAgICAgICAgICogSWYgYSB0eXBlIGlzIHBhc3NlZCwgYSBjbGFzcyBuYW1lIFwiYWpzLXt0eXBlfVwiIHdpbGwgYmUgYWRkZWQuXHJcbiAgICAgICAgICAgICAqIFRoaXMgYWxsb3dzIGZvciBjdXN0b20gbG9vayBhbmQgZmVlbCBmb3IgdmFyaW91cyB0eXBlcyBvZiBub3RpZmljYXRpb25zLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmcgfCBET01FbGVtZW50fSAgICBbbWVzc2FnZT11bmRlZmluZWRdXHRcdE1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICAgICBbdHlwZT0nJ11cdFx0XHRcdFR5cGUgb2YgbG9nIG1lc3NhZ2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgICAgW3dhaXQ9JyddXHRcdFx0XHRUaW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSBhdXRvLWNsb3NlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgICAgICAgIFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbm90aWZ5OiBmdW5jdGlvbiAobWVzc2FnZSwgdHlwZSwgd2FpdCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmllci5jcmVhdGUodHlwZSwgY2FsbGJhY2spLnB1c2gobWVzc2FnZSwgd2FpdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG5vdGlmaWNhdGlvbiBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9XHRcdFttZXNzYWdlPXVuZGVmaW5lZF1cdFx0TWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIFt3YWl0PScnXVx0XHRcdFx0VGltZSAoaW4gc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgYXV0by1jbG9zZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn1cdFtjYWxsYmFjaz11bmRlZmluZWRdXHRBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgd2hlbiB0aGUgbG9nIGlzIGNsb3NlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBOb3RpZmljYXRpb24gb2JqZWN0LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKG51bGwsIGNhbGxiYWNrKS5wdXNoKG1lc3NhZ2UsIHdhaXQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBub3RpZmljYXRpb24gbWVzc2FnZSBvZiB0eXBlICdzdWNjZXNzJy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfVx0XHRbbWVzc2FnZT11bmRlZmluZWRdXHRcdE1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259XHRbY2FsbGJhY2s9dW5kZWZpbmVkXVx0QSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIGxvZyBpcyBjbG9zZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtZXNzYWdlLCB3YWl0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmNyZWF0ZSgnc3VjY2VzcycsIGNhbGxiYWNrKS5wdXNoKG1lc3NhZ2UsIHdhaXQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBub3RpZmljYXRpb24gbWVzc2FnZSBvZiB0eXBlICdlcnJvcicuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ31cdFx0W21lc3NhZ2U9dW5kZWZpbmVkXVx0XHRNZXNzYWdlIHRleHRcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgW3dhaXQ9JyddXHRcdFx0XHRUaW1lIChpbiBzZWNvbmRzKSB0byB3YWl0IGJlZm9yZSBhdXRvLWNsb3NlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufVx0W2NhbGxiYWNrPXVuZGVmaW5lZF1cdEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIHRoZSBsb2cgaXMgY2xvc2VkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE5vdGlmaWNhdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKG1lc3NhZ2UsIHdhaXQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZpZXIuY3JlYXRlKCdlcnJvcicsIGNhbGxiYWNrKS5wdXNoKG1lc3NhZ2UsIHdhaXQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBub3RpZmljYXRpb24gbWVzc2FnZSBvZiB0eXBlICd3YXJuaW5nJy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHBhcmFtICB7U3RyaW5nfVx0XHRbbWVzc2FnZT11bmRlZmluZWRdXHRcdE1lc3NhZ2UgdGV4dFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBbd2FpdD0nJ11cdFx0XHRcdFRpbWUgKGluIHNlY29uZHMpIHRvIHdhaXQgYmVmb3JlIGF1dG8tY2xvc2VcclxuICAgICAgICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259XHRbY2FsbGJhY2s9dW5kZWZpbmVkXVx0QSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gdGhlIGxvZyBpcyBjbG9zZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gTm90aWZpY2F0aW9uIG9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHdhcm5pbmc6IGZ1bmN0aW9uIChtZXNzYWdlLCB3YWl0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmNyZWF0ZSgnd2FybmluZycsIGNhbGxiYWNrKS5wdXNoKG1lc3NhZ2UsIHdhaXQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGlzbWlzc2VzIGFsbCBvcGVuIG5vdGlmaWNhdGlvbnNcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZGlzbWlzc0FsbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbm90aWZpZXIuZGlzbWlzc0FsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHZhciBhbGVydGlmeSA9IG5ldyBBbGVydGlmeSgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBbGVydCBkaWFsb2cgZGVmaW5pdGlvblxyXG4gICAgKlxyXG4gICAgKiBpbnZva2VkIGJ5OlxyXG4gICAgKlx0YWxlcnRpZnkuYWxlcnQobWVzc2FnZSk7XHJcbiAgICAqXHRhbGVydGlmeS5hbGVydCh0aXRsZSwgbWVzc2FnZSk7XHJcbiAgICAqXHRhbGVydGlmeS5hbGVydChtZXNzYWdlLCBvbm9rKTtcclxuICAgICpcdGFsZXJ0aWZ5LmFsZXJ0KHRpdGxlLCBtZXNzYWdlLCBvbm9rKTtcclxuICAgICAqL1xyXG4gICAgYWxlcnRpZnkuZGlhbG9nKCdhbGVydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYWluOiBmdW5jdGlvbiAoX3RpdGxlLCBfbWVzc2FnZSwgX29ub2spIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSwgbWVzc2FnZSwgb25vaztcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfbWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbm9rID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ub2sgPSBfb25vaztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCd0aXRsZScsIHRpdGxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnb25vaycsIG9ub2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3Nhcnkub2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleXMuRVNDLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlT25DbG9zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYWxlcnRpZnkuZGVmYXVsdHMudGhlbWUub2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW1pemFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldE1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRlbnQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBvbm9rOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR0aW5nVXBkYXRlZDogZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbWVzc2FnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50LmlubmVySFRNTCA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjbG9zZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0KCdvbm9rJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25vaycpLmNhbGwodGhpcywgY2xvc2VFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VFdmVudC5jYW5jZWwgPSAhcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25maXJtIGRpYWxvZyBvYmplY3RcclxuICAgICAqXHJcbiAgICAgKlx0YWxlcnRpZnkuY29uZmlybShtZXNzYWdlKTtcclxuICAgICAqXHRhbGVydGlmeS5jb25maXJtKG1lc3NhZ2UsIG9ub2spO1xyXG4gICAgICpcdGFsZXJ0aWZ5LmNvbmZpcm0obWVzc2FnZSwgb25vaywgb25jYW5jZWwpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LmNvbmZpcm0odGl0bGUsIG1lc3NhZ2UsIG9ub2ssIG9uY2FuY2VsKTtcclxuICAgICAqL1xyXG4gICAgYWxlcnRpZnkuZGlhbG9nKCdjb25maXJtJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgYXV0b0NvbmZpcm0gPSB7XHJcbiAgICAgICAgICAgIHRpbWVyOiBudWxsLFxyXG4gICAgICAgICAgICBpbmRleDogbnVsbCxcclxuICAgICAgICAgICAgdGV4dDogbnVsbCxcclxuICAgICAgICAgICAgZHVyYXRpb246IG51bGwsXHJcbiAgICAgICAgICAgIHRhc2s6IGZ1bmN0aW9uIChldmVudCwgc2VsZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1thdXRvQ29uZmlybS5pbmRleF0uZWxlbWVudC5pbm5lckhUTUwgPSBhdXRvQ29uZmlybS50ZXh0ICsgJyAoJiM4MjA3OycgKyBhdXRvQ29uZmlybS5kdXJhdGlvbiArICcmIzgyMDc7KSAnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Db25maXJtLmR1cmF0aW9uIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9Db25maXJtLmR1cmF0aW9uID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckF1dG9Db25maXJtKHNlbGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gc2VsZi5fX2ludGVybmFsLmJ1dHRvbnNbYXV0b0NvbmZpcm0uaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VFdmVudCA9IGNyZWF0ZUNsb3NlRXZlbnQoYXV0b0NvbmZpcm0uaW5kZXgsIGJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbGJhY2suYXBwbHkoc2VsZiwgW2Nsb3NlRXZlbnRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Nsb3NlIHRoZSBkaWFsb2cuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZUV2ZW50LmNsb3NlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckF1dG9Db25maXJtKHNlbGYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXJBdXRvQ29uZmlybShzZWxmKSB7XHJcbiAgICAgICAgICAgIGlmIChhdXRvQ29uZmlybS50aW1lciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvQ29uZmlybS50aW1lcik7XHJcbiAgICAgICAgICAgICAgICBhdXRvQ29uZmlybS50aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9faW50ZXJuYWwuYnV0dG9uc1thdXRvQ29uZmlybS5pbmRleF0uZWxlbWVudC5pbm5lckhUTUwgPSBhdXRvQ29uZmlybS50ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdGFydEF1dG9Db25maXJtKHNlbGYsIGluZGV4LCBkdXJhdGlvbikge1xyXG4gICAgICAgICAgICBjbGVhckF1dG9Db25maXJtKHNlbGYpO1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS50ZXh0ID0gc2VsZi5fX2ludGVybmFsLmJ1dHRvbnNbaW5kZXhdLmVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICBhdXRvQ29uZmlybS50aW1lciA9IHNldEludGVydmFsKGRlbGVnYXRlKHNlbGYsIGF1dG9Db25maXJtLnRhc2spLCAxMDAwKTtcclxuICAgICAgICAgICAgYXV0b0NvbmZpcm0udGFzayhudWxsLCBzZWxmKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYWluOiBmdW5jdGlvbiAoX3RpdGxlLCBfbWVzc2FnZSwgX29ub2ssIF9vbmNhbmNlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlLCBtZXNzYWdlLCBvbm9rLCBvbmNhbmNlbDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25jYW5jZWwgPSBfb25vaztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25vayA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uY2FuY2VsID0gX29uY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3RpdGxlJywgdGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbm9rJywgb25vayk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnb25jYW5jZWwnLCBvbmNhbmNlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhbGVydGlmeS5kZWZhdWx0cy5nbG9zc2FyeS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5cy5FTlRFUixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYWxlcnRpZnkuZGVmYXVsdHMudGhlbWUub2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFsZXJ0aWZ5LmRlZmF1bHRzLmdsb3NzYXJ5LmNhbmNlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5cy5FU0MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZva2VPbkNsb3NlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5jYW5jZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW1pemFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVwYXJlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL25vdGhpbmdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBsYWJlbHM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvbm9rOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb25jYW5jZWw6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0Rm9jdXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICByZXZlcnNlQnV0dG9uczogbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ1VwZGF0ZWQ6IGZ1bmN0aW9uIChrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TWVzc2FnZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsYWJlbHMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgnb2snIGluIG5ld1ZhbHVlICYmIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0udGV4dCA9IG5ld1ZhbHVlLm9rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1swXS5lbGVtZW50LmlubmVySFRNTCA9IG5ld1ZhbHVlLm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ2NhbmNlbCcgaW4gbmV3VmFsdWUgJiYgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS50ZXh0ID0gbmV3VmFsdWUuY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50LmlubmVySFRNTCA9IG5ld1ZhbHVlLmNhbmNlbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZlcnNlQnV0dG9ucyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5LmFwcGVuZENoaWxkKHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9ucy5wcmltYXJ5LmFwcGVuZENoaWxkKHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlZmF1bHRGb2N1cyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmZvY3VzLmVsZW1lbnQgPSBuZXdWYWx1ZSA9PT0gJ29rJyA/IDAgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyQXV0b0NvbmZpcm0odGhpcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNsb3NlRXZlbnQuaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0KCdvbm9rJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25vaycpLmNhbGwodGhpcywgY2xvc2VFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUV2ZW50LmNhbmNlbCA9ICFyZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0KCdvbmNhbmNlbCcpID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gdGhpcy5nZXQoJ29uY2FuY2VsJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdXRvT2s6IGZ1bmN0aW9uIChkdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRBdXRvQ29uZmlybSh0aGlzLCAwLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXV0b0NhbmNlbDogZnVuY3Rpb24gKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEF1dG9Db25maXJtKHRoaXMsIDEsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9tcHQgZGlhbG9nIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIGludm9rZWQgYnk6XHJcbiAgICAgKlx0YWxlcnRpZnkucHJvbXB0KG1lc3NhZ2UpO1xyXG4gICAgICpcdGFsZXJ0aWZ5LnByb21wdChtZXNzYWdlLCB2YWx1ZSk7XHJcbiAgICAgKlx0YWxlcnRpZnkucHJvbXB0KG1lc3NhZ2UsIHZhbHVlLCBvbm9rKTtcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQobWVzc2FnZSwgdmFsdWUsIG9ub2ssIG9uY2FuY2VsKTtcclxuICAgICAqXHRhbGVydGlmeS5wcm9tcHQodGl0bGUsIG1lc3NhZ2UsIHZhbHVlLCBvbm9rLCBvbmNhbmNlbCk7XHJcbiAgICAgKi9cclxuICAgIGFsZXJ0aWZ5LmRpYWxvZygncHJvbXB0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0lOUFVUJyk7XHJcbiAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdQJyk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWFpbjogZnVuY3Rpb24gKF90aXRsZSwgX21lc3NhZ2UsIF92YWx1ZSwgX29ub2ssIF9vbmNhbmNlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlLCBtZXNzYWdlLCB2YWx1ZSwgb25vaywgb25jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25vayA9IF92YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX21lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb25vayA9IF92YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCA9IF9vbm9rO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gX3RpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF92YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBvbm9rID0gX29ub2s7XHJcbiAgICAgICAgICAgICAgICAgICAgb25jYW5jZWwgPSBfb25jYW5jZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgndGl0bGUnLCB0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ3ZhbHVlJywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoJ29ub2snLCBvbm9rKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdvbmNhbmNlbCcsIG9uY2FuY2VsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFsZXJ0aWZ5LmRlZmF1bHRzLmdsb3NzYXJ5Lm9rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVOVEVSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBhbGVydGlmeS5kZWZhdWx0cy50aGVtZS5vayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYWxlcnRpZnkuZGVmYXVsdHMuZ2xvc3NhcnkuY2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlzLkVTQyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZU9uQ2xvc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGFsZXJ0aWZ5LmRlZmF1bHRzLnRoZW1lLmNhbmNlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogaW5wdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbWl6YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBidWlsZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NOYW1lID0gYWxlcnRpZnkuZGVmYXVsdHMudGhlbWUuaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLmdldCgndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGVudC5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuY29udGVudC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbm90aGluZ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHMocCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50ICYmIHAuZmlyc3RDaGlsZCAhPT0gbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudHMocCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5hcHBlbmRDaGlsZChtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsczogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgb25vazogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgb25jYW5jZWw6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6J3RleHQnLFxyXG4gICAgICAgICAgICAgICAgcmV2ZXJzZUJ1dHRvbnM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0dGluZ1VwZGF0ZWQ6IGZ1bmN0aW9uIChrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TWVzc2FnZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3R5cGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb2xvcic6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZXRpbWUtbG9jYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2VhcmNoJzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVscyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLm9rICYmIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzBdLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudC5pbm5lckhUTUwgPSBuZXdWYWx1ZS5vaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLmNhbmNlbCAmJiB0aGlzLl9faW50ZXJuYWwuYnV0dG9uc1sxXS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19pbnRlcm5hbC5idXR0b25zWzFdLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3VmFsdWUuY2FuY2VsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JldmVyc2VCdXR0b25zJzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMF0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b25zLnByaW1hcnkuYXBwZW5kQ2hpbGQodGhpcy5fX2ludGVybmFsLmJ1dHRvbnNbMV0uZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2xvc2VFdmVudC5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0KCdvbm9rJykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLmdldCgnb25vaycpLmNhbGwodGhpcywgY2xvc2VFdmVudCwgdGhpcy5zZXR0aW5ncy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUV2ZW50LmNhbmNlbCA9ICFyZXR1cm5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0KCdvbmNhbmNlbCcpID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gdGhpcy5nZXQoJ29uY2FuY2VsJykuY2FsbCh0aGlzLCBjbG9zZUV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRXZlbnQuY2FuY2VsID0gIXJldHVyblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFjbG9zZUV2ZW50LmNhbmNlbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGhpcy5zZXR0aW5ncy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIGlmICggdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JyApIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGFsZXJ0aWZ5O1xyXG4gICAgLy8gQU1EXHJcbiAgICB9IGVsc2UgaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbGVydGlmeTtcclxuICAgICAgICB9ICk7XHJcbiAgICAvLyB3aW5kb3dcclxuICAgIH0gZWxzZSBpZiAoICF3aW5kb3cuYWxlcnRpZnkgKSB7XHJcbiAgICAgICAgd2luZG93LmFsZXJ0aWZ5ID0gYWxlcnRpZnk7XHJcbiAgICB9XHJcblxyXG59ICggdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzICkgKTtcclxuIiwiQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1TaWduaWthfENvdXJnZXR0ZXxVYnVudHV8UG9wcGlucycpO1xuXG5odG1sLCBib2R5IHtcbiAgbWFyZ2luOjA7aGVpZ2h0OiAxMDAlO1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1OXB4KSB7XG4gIGJvZHkge1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgfVxuICAjbWVudXRvcCB7XG4gICAgd2lkdGg6IDU0MHB4O1xuICB9XG4gICNtYWluZnJhbWUge1xuICAgIHdpZHRoOiA1NDBweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbiAgLmltZ19zY2FsZV9sb2dvIHtcbiAgICB3aWR0aDogNS41ZW07XG4gIH1cbiAgLmltZ19zY2FsZSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjYpO1xuICB9XG4gIC5jb250X2J0biB7XG4gICAgbWFyZ2luOiAwLjRlbSAzZW0gIWltcG9ydGFudDtcbiAgfVxufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk2MHB4KSBhbmQgKG1heC13aWR0aDogMTE2MHB4KSB7XG4gIGJvZHkge1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgfVxuICAjbWVudXRvcCB7XG4gICAgd2lkdGg6IDk2MHB4O1xuICB9XG4gICNtYWluZnJhbWUge1xuICAgIHdpZHRoOiA5NjBweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbiAgLmltZ19zY2FsZV9sb2dvIHtcbiAgICB3aWR0aDogNmVtO1xuICB9XG4gIC5pbWdfc2NhbGUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC43NSk7XG4gIH1cbiAgLmNvbnRfYnRuIHtcbiAgICBtYXJnaW46IDAuNGVtIDNlbSAhaW1wb3J0YW50O1xuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTE2MXB4KSBhbmQgKG1heC13aWR0aDogMTM2MHB4KSB7XG4gIGJvZHkge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgfVxuICAjbWVudXRvcCB7XG4gICAgd2lkdGg6IDExNjBweDtcbiAgfVxuICAjbWFpbmZyYW1lIHtcbiAgICB3aWR0aDogMTE2MHB4O1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICAuaW1nX3NjYWxlX2xvZ28ge1xuICAgIHdpZHRoOiA3ZW07XG4gIH1cbiAgLmltZ19zY2FsZSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjc1KTtcbiAgfVxuICAuY29udF9idG4ge1xuICAgIG1hcmdpbjogMC40ZW0gM2VtICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMzYxcHgpIGFuZCAobWF4LXdpZHRoOiAxNTYwcHgpIHtcbiAgYm9keSB7XG4gICAgZm9udC1zaXplOiAxN3B4O1xuICB9XG4gICNtZW51dG9wIHtcbiAgICB3aWR0aDogMTM1MHB4O1xuICB9XG4gICNtYWluZnJhbWUge1xuICAgIHdpZHRoOiAxMzUwcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4gIC5pbWdfc2NhbGVfbG9nbyB7XG4gICAgd2lkdGg6IDhlbTtcbiAgfVxuICAuY29udF9idG4ge1xuICAgIG1hcmdpbjogMC40ZW0gMy41ZW0gIWltcG9ydGFudDtcbiAgfVxufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDE1NjFweCkgYW5kIChtYXgtd2lkdGg6IDIwMDBweCkge1xuICBib2R5IHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gIH1cbiAgI21lbnV0b3Age1xuICAgIHdpZHRoOiAxNTUwcHg7XG4gIH1cbiAgI21haW5mcmFtZSB7XG4gICAgd2lkdGg6IDE1NTBweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbiAgLmltZ19zY2FsZV9sb2dvIHtcbiAgICB3aWR0aDogOGVtO1xuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMjAwMXB4KSB7XG4gIGJvZHkge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxuICAjbWVudXRvcCB7XG4gICAgd2lkdGg6IDE3NTBweDtcbiAgfVxuICAjbWFpbmZyYW1lIHtcbiAgICB3aWR0aDogMTc1MHB4O1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICAuaW1nX3NjYWxlX2xvZ28ge1xuICAgIHdpZHRoOiA4ZW07XG4gIH1cbn1cblxuLyogU3R5bGVzIGZvciBzdmcgZWxlbWVudHMgYW5kIHN2ZyBjb250YWluZXIgZWxlbWVudHMgKi9cbnN2ZyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xufVxuXG4uY29udF9zdmcge1xuICBjbGVhcjogYm90aDtcbiAgd2lkdGg6IDk4JTtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nLXRvcDogNDglO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBzdmcgZWxlbWVudHMgYW5kIHN2ZyBjb250YWluZXIgZWxlbWVudHMgKi9cblxuYm9keS5sb2FkaW5nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZWRmODtcbn1cblxuYm9keSB7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMTAwbXMgbGluZWFyO1xufVxuXG4jbWFpbmZyYW1lIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBjbGVhcjogYm90aDtcbn1cblxuI21lbnV0b3Age1xuICBtYXJnaW46IGF1dG87XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG4ubm9zZWxlY3Qge1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbn1cblxuLyogU3R5bGVzIGZvciB0aGUgc3Bpbm5lciBkaXNwbGF5ZWQgd2hpbGUgdGhlIGRhdGEgaXMgbG9hZGluZzogKi9cbi5zcGlubmVyIHtcbiAgbWFyZ2luOiAxMDBweCBhdXRvICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmN1YmUxLCAuY3ViZTIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xuICB3aWR0aDogMTVweDtcbiAgaGVpZ2h0OiAxNXB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYW5pbWF0aW9uOiBzay1jdWJlbW92ZSAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xufVxuXG4uY3ViZTIge1xuICBhbmltYXRpb24tZGVsYXk6IC0wLjlzO1xufVxuXG5Aa2V5ZnJhbWVzIHNrLWN1YmVtb3ZlIHtcbiAgMjUlIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNDJweCkgcm90YXRlKC05MGRlZykgc2NhbGUoMC41KTtcbiAgfSA1MCUge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg0MnB4KSB0cmFuc2xhdGVZKDQycHgpIHJvdGF0ZSgtMTc5ZGVnKTtcbiAgfSA1MC4xJSB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDQycHgpIHRyYW5zbGF0ZVkoNDJweCkgcm90YXRlKC0xODBkZWcpO1xuICB9IDc1JSB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDBweCkgdHJhbnNsYXRlWSg0MnB4KSByb3RhdGUoLTI3MGRlZykgc2NhbGUoMC41KTtcbiAgfSAxMDAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMzYwZGVnKTtcbiAgfVxufVxuLyogRW5kIG9mIHN0eWxlIGZvciBzcGlubmVyICovXG5cbi8qIFN0eWxlIGZvciB0aGUgbm90aWZpY2F0aW9uIHpvbmU6ICovXG4uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdlLmFqcy13YXJuaW5nIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMjI4LCAxNDQsIDgzKSAhaW1wb3J0YW50O1xufVxuXG4uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdlIHtcbiAgICBmb250LXNpemU6IDAuOGVtICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMTJweCAhaW1wb3J0YW50O1xufVxuLyogRW5kIG9mIHN0eWxlIGZvciB0aGUgbm90aWZpY2F0aW9uIHpvbmUgKi9cblxuLyogU3R5bGVzIGZvciBzdmcgZWxlbWVudHMgKi9cbi5hcmVhIHtcbiAgZmlsbDogc3RlZWxibHVlO1xuICBjbGlwLXBhdGg6IHVybCgjY2xpcCk7XG59XG5cbi56b29tIHtcbiAgY3Vyc29yOiBtb3ZlO1xuICBmaWxsOiBub25lO1xuICBwb2ludGVyLWV2ZW50czogYWxsO1xufVxuXG4uYXhpcy0teSA+IC5kb21haW4sIC5heGlzLS14ID4gLmRvbWFpbntcbiAgc3Ryb2tlOiAjQkVCRUJFO1xufVxuXG4uYXhpcy0teSA+IGcudGljayA+IGxpbmUsIC5heGlzLS14ID4gZy50aWNrID4gbGluZXtcbiAgc3Ryb2tlOiAjQkVCRUJFO1xufVxuXG4udGljayA+IHRleHQge1xuICBmb250LXNpemU6IDExcHg7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBzdmcgZWxlbWVudHMgKi9cblxuLyogU3R5bGVzIGZvciBpbmZvcm1hdGlvbiAoaSkgaWNvbiBhbmQgaW5mb3JtYXRpb24gZGlhbG9ncyAqL1xuc3Bhbi5pX2luZm8ge1xuICBmb250LWZhbWlseTogQ291cmdldHRlO1xuICBjb2xvcjogIzRmODFiZDtcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gIHBhZGRpbmctcmlnaHQ6IDRweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGN1cnNvcjogaGVscDtcbn1cblxuZGl2LnRpbmdsZS1tb2RhbC1ib3hfX2NvbnRlbnQge1xuICBwYWRkaW5nOiAxcmVtIDJyZW0gMnJlbSAycmVtICFpbXBvcnRhbnQ7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBpbmZvcm1hdGlvbiBpY29ucyBhbmQgaW5mb3JtYXRpb24gZGlhbG9nICovXG5cbi8qIFN0eWxlcyBmb3IgdGhlIGxlZnQgbWVudSAqL1xuLnRpdGxlX21lbnUge1xuICBiYWNrZ3JvdW5kOiAjNGY4MWJkO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDJweCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDA7XG59XG5cbiNtZW51IHtcbiAgZm9udC1mYW1pbHk6ICdTaWduaWthJywgc2Fucy1zZXJpZjtcbiAgY29sb3I6ICM0ZjgxYmQ7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuI21lbnUgPiBkaXYuYm94ID4gcCwgI21lbnUgPiBkaXYuYm94ID4gZGl2ID4gcCB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIHBhZGRpbmc6IDFweCAxcHggMXB4IDhweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4jbWVudSA+IGRpdi5ib3ggPiBwLnNtYWxsLCAjbWVudSA+IGRpdi5ib3ggPiBkaXYgPiBwLnNtYWxsIHtcbiAgZm9udC1zaXplOiAwLjc1ZW07XG4gIG1hcmdpbi1sZWZ0OiAwLjdlbTtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTtcbn1cblxuLmJveCB7XG4gIGJvcmRlcjogc29saWQgMXB4ICM0ZjgxYmQ7XG4gIG1hcmdpbi1ib3R0b206IDAuOGVtO1xufVxuXG5zcGFuLmRvd25fYXJyb3cge1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmctcmlnaHQ6IDFweDtcbiAgbWFyZ2luOiA0cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuc3Bhbi5zcXVhcmUge1xuICAgIGhlaWdodDogNnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0ZjgxYmQ7XG4gICAgY29udGVudDogXCIgXCI7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5zcGFuLnNtYWxsX3NxdWFyZSB7XG4gIGhlaWdodDogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjNGY4MWJkO1xuICBjb250ZW50OiBcIiBcIjtcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gIG1hcmdpbi1yaWdodDogNHB4O1xuICBmb250LXNpemU6IDAuNmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbnNwYW4uc21hbGxfc3F1YXJlLmRpc2FibGVkIHtcbiAgaGVpZ2h0OiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbiAgY29udGVudDogXCIgXCI7XG4gIHBhZGRpbmctbGVmdDogOHB4O1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgZm9udC1zaXplOiAwLjZlbTtcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuc3Bhbi5zcXVhcmUuY2hlY2tlZCwgc3Bhbi5zbWFsbF9zcXVhcmUuY2hlY2tlZCB7XG4gIGJhY2tncm91bmQ6ICM0ZjgxYmQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuc3Bhbi5sYWJlbF9jaGsge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG5zcGFuLmxhYmVsX2Noay5kaXNhYmxlZCB7XG4gIGNvbG9yOiBsaWdodGdyYXk7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbnNwYW4ubGluayB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6Ymx1ZTtcbiAgdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtcbn1cblxuc3Bhbi5saW5rOmhvdmVyIHtcbiAgICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XG4gICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjNTU1O1xufVxuLyogRW5kIG9uIHN0eWxlcyBmb3IgbGVmdCBtZW51ICovXG5cbi8qIFN0eWxlcyBmb3IgdG9wIG1lbnUgKi9cbi50aXRsZV9zZWN0aW9uIHtcbiAgY29sb3I6ICM0ZjgxYmQ7XG4gIGZvbnQtc2l6ZTogMS4zZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnR5cGVfY29tcGFyYWlzb24ge1xuICBib3JkZXI6IHNvbGlkIDFweCAjNGY4MWJkO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luOiBhdXRvO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiA0MSU7XG59XG5cbi50aXRsZV90eXBlX2NvbXAge1xuICBjb2xvcjogIzRmODFiZDtcbiAgZm9udC1zaXplOiAxLjNlbTtcbiAgbWFyZ2luOiAwO1xufVxuXG4udHlwZV9jaGFydCB7XG4gIG1hcmdpbjogMCA1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6ICM0ZjgxYmQ7XG59XG5cbi50eXBlX2NoYXJ0LmRpc2FibGVkIHtcbiAgY29sb3I6IGxpZ2h0Z3JheTtcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLnR5cGVfY2hhcnQuc2VsZWN0ZWQge1xuICBmb250LXdlaWdodDogODAwO1xufVxuLyogRW5kIG9mIHN0eWxlcyBmb3IgdG9wIG1lbnUgKi9cblxuLyogU3R5bGVzIGZvciB0aGUgY29tcGxldG5lc3Mgc2VjdGlvbiAqL1xuLmNvbXBsZXR1ZGVfc2VjdGlvbiwgLmZpbHRlcl9pbmZvIHtcbiAgZm9udC1mYW1pbHk6IFwiU2lnbmlrYVwiLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDAuOGVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IGF1dG87XG4gIGhlaWdodDogMS4yZW07XG59XG5cbi5jb21wbGV0dWRlX3NlY3Rpb24gPiBwIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5jb21wbGV0dWRlX3NlY3Rpb24gPiBwLmFjdGl2ZSB7XG4gIGRpc3BsYXk6IGluaGVyaXQ7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBjb21wbGV0bmVzcyBzZWN0aW9uICovXG4uY29udF9idG4ge1xuICBtYXJnaW46IDAuNGVtIDVlbTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uYnV0dG9uX2JsdWUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBwYWRkaW5nOiAwLjRlbSAwLjhlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjM2Y2Nzk3O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBiYWNrZ3JvdW5kOiAjNjdhOGY2O1xuICAgIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzY3YThmNiksIHRvKCMzZjY3OTcpKTtcbiAgICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM2N2E4ZjYsICMzZjY3OTcpO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM2N2E4ZjYsICMzZjY3OTcpO1xuICAgIGZvbnQ6IG5vcm1hbCBub3JtYWwgbm9ybWFsIDAuOGVtICdTaWduaWthJywgc2Fucy1zZXJpZjtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4uYnV0dG9uX2JsdWU6aG92ZXIsXG4uYnV0dG9uX2JsdWU6Zm9jdXMge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0ZjgxYmQ7XG4gICAgYmFja2dyb3VuZDogIzdjY2FmZjtcbiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM3Y2NhZmYpLCB0bygjNGM3Y2I1KSk7XG4gICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjN2NjYWZmLCAjNGM3Y2I1KTtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjN2NjYWZmLCAjNGM3Y2I1KTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4uYnV0dG9uX2JsdWU6YWN0aXZlLCAuYnV0dG9uX2JsdWUucHJlc3NlZCB7XG4gICAgYmFja2dyb3VuZDogIzNmNjc5NztcbiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzZjY3OTcpLCB0bygjM2Y2Nzk3KSk7XG4gICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjM2Y2Nzk3LCAjM2Y2Nzk3KTtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjM2Y2Nzk3LCAjM2Y2Nzk3KTtcbn1cblxuLyojbWVudV9zZWxlY3Rpb24gPiAuYnV0dG9uX2JsdWUge1xuICBtYXJnaW46IDAuNGVtIDVlbTtcbn0qL1xuLyogRW5kIG9mIHN0eWxlcyBmb3IgYnV0dG9ucyAqL1xuXG4jbWVudV9zZWxlY3Rpb24ge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBmb250LWZhbWlseTogXCJTaWduaWthXCIsc2Fucy1zZXJpZjtcbiAgcGFkZGluZzogMGVtIDFlbSAwLjVlbTtcbn1cblxuLyogU3R5bGVzIGZvciBidXR0b25zIG9uIHRoZSB0b3Agb2YgdGhlIG1hcCAqL1xuLm1hcF9idXR0b24ge1xuICBtYXJnaW46IC0wLjJlbSAwLjNlbSAwIDAuM2VtO1xuICBmbG9hdDogbGVmdDtcbiAgZmlsdGVyOiBvcGFjaXR5KDI1JSk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm1hcF9idXR0b24uYWN0aXZlIHtcbiAgZmlsdGVyOiBub25lO1xufVxuXG4ubWFwX2J1dHRvbi5kaXNhYmxlZCB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIG9mIGJ1dHRvbnMgb24gdGhlIHRvcCBvZiB0aGUgbWFwICovXG5cbi8qIFN0eWxlcyBmb3IgY29udGV4dC1tZW51ICovXG4uY29udGV4dC1tZW51IHtcblx0Zm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGJhY2tncm91bmQ6IHdoaXRlO1xuXHRib3JkZXI6IDFweCBzb2xpZCAjYzNjM2MzO1xuXHRib3JkZXItcmFkaXVzOiA1cHg7XG5cdGJveC1zaGFkb3c6IDAgNXB4IDVweCAjYzNjM2MzO1xuXHRwYWRkaW5nLXRvcDogNXB4O1xuXHRwYWRkaW5nLWJvdHRvbTogNXB4O1xuXHRtaW4td2lkdGg6IDIwMHB4O1xuXHRmb250LXNpemU6IDAuOGVtO1xufVxuXG4uY29udGV4dC1tZW51IHVsIHtcblx0bGlzdC1zdHlsZTogbm9uZTtcblx0cGFkZGluZy1sZWZ0OiAwO1xuXHRtYXJnaW46IDA7XG59XG5cbi5jb250ZXh0LW1lbnUgbGkge1xuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdHBhZGRpbmctbGVmdDogMjBweDtcblx0cGFkZGluZy1yaWdodDogMzBweDtcblx0Y3Vyc29yOiBkZWZhdWx0O1xufVxuXG4uY29udGV4dC1tZW51IGxpOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgxNDUsIDIwOSwgMjMwLCAwLjUyKTtcbiAgY29sb3I6IHJnYigwLDAsMCk7XG59XG5cbi5jb250ZXh0LW1lbnUgbGkgc3Bhbi5hcnJvdyB7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0Zm9udC1zaXplOiAwLjhlbTtcblx0cmlnaHQ6IDEwcHg7XG59XG5cbi5jb250ZXh0LW1lbnUgbGkgZGl2LmNvbnRleHQtbWVudSB7XG5cdGxlZnQ6IDEwMCU7XG5cdHRvcDogLTVweDtcbn1cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIGNvbnRleHQtbWVudSAqL1xuXG4vKiBTdHlsZXMgZm9yIFNpbWlsYXJpdHkgY2hhcnQgLyBCdWJibGVDaGFydCAqL1xuaW5wdXQubmJfc2VsZWN0IHtcbiAgd2lkdGg6IDMwcHg7XG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItYm90dG9tLXN0eWxlOiBkYXNoZWQ7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDAuNXB4O1xuICBtYXJnaW4tbGVmdDogM3B4O1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgZm9udC1zaXplOiAxZW07XG59XG5cbmlucHV0Lm5iX3NlbGVjdDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcbmlucHV0Lm5iX3NlbGVjdDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgbWFyZ2luOiAwOyAvKiBSZW1vdmVzIGxlZnRvdmVyIG1hcmdpbiAqL1xufVxuXG4uYXJyb3ctc2hhZG93IHtcbiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDFweCAxcHggMC4ycHggIzAwMCk7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBTaW1pbGFyaXR5IGNoYXJ0IC8gQnViYmxlQ2hhcnQgKi9cblxuLyogU3R5bGVzIGZvciBtaW5pdGFibGUgKGRpc3BsYXlpbmcgc3RhdGlzdGljYWwgc3VtbWFyeSkgKi9cbi5taW5pdGFibGVfY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LWZhbWlseTogXCJTaWduaWthXCIsIHNhbnMtc2VyaWY7XG59XG5cbi5taW5pdGFibGUge1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5taW5pdGFibGUgPiB0Ym9keSA+IHRyID4gdGQsIC5taW5pdGFibGUgPiB0aGVhZCA+IHRyID4gdGggIHtcbiAgcGFkZGluZzogMC40ZW0gMWVtO1xuICBmb250LXNpemU6IDAuOGVtO1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG50aGVhZCA+IHRyIHtcbiAgYmFja2dyb3VuZDogIzRmODFiZDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG50ciB0ZDpudGgtY2hpbGQoMSl7XG4gIGJhY2tncm91bmQ6ICM0ZjgxYmQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxudHIge1xuICBjb2xvcjogIzRmODFiZDtcbn1cbi8qIEVuZCBvZiBzdHlsZSBmb3IgbWluaXRhYmxlICovXG5cbi8qIFN0eWxlIGZvciBtZW51IC8gYnV0dG9ucyB1bmRlciBzb21lIGNoYXJ0cyAqL1xuLmNob2ljZV9pbmQge1xuICBjb2xvcjogIzRmODFiZDtcbiAgb3BhY2l0eTogMC41O1xuICBmb250LXdlaWdodDogODAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbjogMCA5cHg7XG59XG5cbi5jaG9pY2VfaW5kLmFjdGl2ZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIG1lbnUgLyBidXR0b25zIHVuZGVyIGNoYXJ0cyAqL1xuXG4vKiBTdHlsZSBmb3IgbWFwICovXG4jbGF5ZXJzID4gZyA+IHBhdGg6Zm9jdXMge1xuICBvdXRsaW5lOiAwO1xufVxuXG4ucm90YXRlIHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcbiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0zKTtcbn1cblxuLyogRW5kIG9mIHN0eWxlcyBmb3IgbWFwICovXG5cbi8qIFN0eWxlcyBmb3IgbWFwIGhlYWRlciAqL1xuI2hlYWRlcl9tYXAge1xuICB3aWR0aDogOTklO1xuICBtYXJnaW4tYm90dG9tOiA1JTtcbn1cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIG1hcCBoZWFkZXIgKi9cblxuLyogU3R5bGUgZm9yIGhhbGYgY2lyY2xlIGJ1dHRvbnMgb24gdGhlIHRvcCBvZiB0aGUgbWFwICovXG4udG9wX2hhbGZfY2lyY2xlIHtcbiAgYmFja2dyb3VuZDogIzRmODFiZDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDAgMC4zZW0gMCAwO1xuICBoZWlnaHQ6IDEuNGVtO1xuICB3aWR0aDogMS44ZW07XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDEuNmVtO1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMS42ZW07XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmbG9hdDogcmlnaHQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIGhhbGYgY2lyY2xlIGJ1dHRvbnMgKi9cblxuLyogU3R5bGVzIGZvciBzbGlkZXIgY2hlY2tib3ggKi9cbi5zbGlkZXItY2hlY2tib3gge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG4uc2xpZGVyLWNoZWNrYm94IGlucHV0IHtcbiAgbWFyZ2luOiAwcHg7XG4gIG1hcmdpbi10b3A6IDFweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAwO1xuICAtbXMtZmlsdGVyOiBcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTApXCI7XG4gIGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTtcbiAgLW1vei1vcGFjaXR5OiAwO1xuICAta2h0bWwtb3BhY2l0eTogMDtcbiAgb3BhY2l0eTogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAxO1xuICB0b3A6IDBweDtcbiAgbGVmdDogMHB4O1xuICBiYWNrZ3JvdW5kOiByZWQ7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDIwcHg7XG59XG4uc2xpZGVyLWNoZWNrYm94IGlucHV0OmNoZWNrZWQgKyAubGFiZWw6YmVmb3JlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4NzdjMTtcbiAgY29udGVudDogXCJcIjtcbiAgcGFkZGluZy1sZWZ0OiAwLjJlbTtcbn1cbi5zbGlkZXItY2hlY2tib3ggaW5wdXQ6Y2hlY2tlZCArIC5sYWJlbDphZnRlciB7XG4gIGxlZnQ6IDIxcHg7XG59XG4uc2xpZGVyLWNoZWNrYm94IC5sYWJlbCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZy1sZWZ0OiA0NnB4O1xuICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uc2xpZGVyLWNoZWNrYm94IC5sYWJlbDpiZWZvcmUsIC5zbGlkZXItY2hlY2tib3ggLmxhYmVsOmFmdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIGxlZnQgMC4zcztcbn1cbi5zbGlkZXItY2hlY2tib3ggLmxhYmVsOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGNvbG9yOiAjNjY3MDc4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBwYWRkaW5nLWxlZnQ6IDEuM2VtO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBsaW5lLWhlaWdodDogMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODg4O1xuICBsZWZ0OiAwcHg7XG4gIHRvcDogMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICAvKi13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAxMHB4OyovXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG4uc2xpZGVyLWNoZWNrYm94IC5sYWJlbDphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGxldHRlci1zcGFjaW5nOiAyMHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBsZWZ0OiAxcHg7XG4gIHRvcDogMXB4O1xuICBoZWlnaHQ6IDE4cHg7XG4gIHdpZHRoOiAxOHB4O1xufVxuLnNsaWRlci1jaGVja2JveCBpbnB1dDpub3QoOmNoZWNrZWQpICsgLmxhYmVsOmJlZm9yZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2NjcwNzg7XG59XG4ubGFiZWwubm90X3NlbGVjdGVkIHtcbiAgY29sb3I6ICM2NjcwNzg7XG59XG5cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIHNsaWRlciBjaGVja2JveCAqL1xuXG4vKiBTdHlsZSBmb3IgdGhlIDMgbWFpbiBjb250YWluZXJzICovXG4udDEge1xuICB3aWR0aDoyNSU7XG4gIGZsb2F0OiBsZWZ0O1xufVxuLnQyIHtcbiAgd2lkdGg6MzklO1xuICBmbG9hdDpsZWZ0O1xuICBoZWlnaHQ6MTAwJTtcbiAgcGFkZGluZy1sZWZ0OiAxJSAhaW1wb3J0YW50O1xuIH1cblxuLnQzIHtcbiAgd2lkdGg6MzElO1xuICBmbG9hdDpyaWdodDtcbiAgaGVpZ2h0OjEwMCU7XG59XG5cbi50MSwgLnQyLCAudDMge1xuICBwYWRkaW5nLWxlZnQ6IDAuNSU7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNSU7XG59XG4vKiBFbmQgb2Ygc3R5bGUgZm9yIHRoZSAzIG1haW4gY29udGFpbmVycyAqL1xuXG4vKiBTdHlsZXMgZm9yIHRvb2x0aXBzICovXG4udG9vbHRpcCB7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjQ1LCAyNDUsIDIyMCwgMC44NSk7XG4gIHBhZGRpbmc6IDBweCAwcHggNXB4IDBweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBtaW4td2lkdGg6IDI2MHB4O1xuICBmb250LWZhbWlseTogXCJTaWduaWthXCIsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGNvbG9yOiAjMzUzZDQ0O1xuICB6LWluZGV4OiAxMztcbn1cblxuLnRvb2x0aXAgPiAudGl0bGUge1xuICBtYXJnaW46IGF1dG87XG4gIGJhY2tncm91bmQtY29sb3I6ICM0ZjgxYmQ7XG4gIHBhZGRpbmc6IDJweCA4cHg7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDRweDtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogODAwO1xuICBmb250LXNpemU6IDEuMWVtO1xufVxuXG4udG9vbHRpcCA+IC50aXRsZS5yZWQge1xuICBtYXJnaW46IGF1dG87XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgcGFkZGluZzogMnB4IDhweDtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG59XG5cbi50b29sdGlwID4gLnRpdGxlLm15UmVnaW9uIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG4gIHBhZGRpbmc6IDJweCA4cHg7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDRweDtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXdlaWdodDogODAwO1xufVxuXG4udG9vbHRpcCA+IC5jb250ZW50IHtcbiAgbWFyZ2luOiBhdXRvO1xuICBwYWRkaW5nOiAxcHggOHB4O1xuICBmb250LXNpemU6IDFlbTtcbn1cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIHRvb2x0aXBzICovXG5cbi8qIFN0eWxlcyBmb3IgbWFwIHRvb2x0aXBzICovXG4udG9vbHRpcF9tYXAsIC50b29sdGlwLWJsYWNrIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIHBhZGRpbmc6IDVweCA4cHg7XG4gIG1hcmdpbjogYXV0bztcbiAgZm9udC1mYW1pbHk6IFwiU2lnbmlrYVwiLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi50b29sdGlwX21hcCA+IC50aXRsZSwgLnRvb2x0aXAtYmxhY2sgPiAuY29udGVudCB7XG4gIG1hcmdpbjogYXV0bztcbn1cbi50b29sdGlwX21hcCA+IC5jb250ZW50IHtcbiAgZGlzcGxheTogbm9uZTtcbiAgaGVpZ2h0OiAwO1xufVxuLyogRW5kIG9mIHN0eWxlcyBmb3IgbWFwIHRvb2x0aXBzICovXG5cbnNwYW4uYXJyb3dfZG93bjpiZWZvcmUge1xuICBjb250ZW50OiAnXFwwMjVCQSc7XG4gIG1hcmdpbi1yaWdodDogNHB4O1xufVxuXG5zcGFuLmFycm93X3JpZ2h0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICdcXDAyNUJFJztcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG59XG5cbi50aXRsZS1heGlzIHtcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTNweDtcbiAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgZmlsbDogYmxhY2s7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmF4aXMge1xuICBjdXJzb3I6IGRlZmF1bHQ7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmF4aXMgPiB0ZXh0LmxlZ2VuZCB7XG4gIGN1cnNvcjogaW5pdGlhbDtcbiAgdXNlci1zZWxlY3Q6IGluaXRpYWw7XG4gIHBvaW50ZXItZXZlbnRzOiBpbml0aWFsO1xufVxuXG4vKiBTdHlsZXMgZm9yIHJhcHBvcnQgZGlhbG9nICovXG4jcHJlcF9yYXBwb3J0IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtaW4taGVpZ2h0OiAzOTBweDtcbn1cbiNwcmVwX3JhcHBvcnQgPiAuc3Bpbm5lciA+IC5jdWJlMSwgI3ByZXBfcmFwcG9ydCA+IC5zcGlubmVyID4gLmN1YmUyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzRmODFiZDtcbn1cbiNwcmVwX3JhcHBvcnQgPiBwIHtcbiAgbWFyZ2luOiBhdXRvO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmctdG9wOiAyMCU7XG59XG4uYnV0dG9uRG93bmxvYWQge1xuXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0cGFkZGluZzogMTBweCAyNXB4O1xuXG5cdGJhY2tncm91bmQtY29sb3I6ICM0ZjgxYmQ7XG5cdGNvbG9yOiB3aGl0ZTtcblxuXHRmb250LWZhbWlseTogc2Fucy1zZXJpZjtcblx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xuXHRmb250LXNpemU6IDAuOWVtO1xuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdHRleHQtaW5kZW50OiAxNXB4O1xufVxuXG4uYnV0dG9uRG93bmxvYWQ6aG92ZXIge1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMDAyNTY1O1xuXHRjb2xvcjogd2hpdGU7XG59XG5cbi5idXR0b25Eb3dubG9hZDpiZWZvcmUsIC5idXR0b25Eb3dubG9hZDphZnRlciB7XG5cdGNvbnRlbnQ6ICcgJztcblx0ZGlzcGxheTogYmxvY2s7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0bGVmdDogMTVweDtcblx0dG9wOiA1MiU7XG59XG5cbi8qIERvd25sb2FkIGJveCBzaGFwZSAgKi9cbi5idXR0b25Eb3dubG9hZDpiZWZvcmUge1xuXHR3aWR0aDogMTBweDtcblx0aGVpZ2h0OiAycHg7XG5cdGJvcmRlci1zdHlsZTogc29saWQ7XG5cdGJvcmRlci13aWR0aDogMCAycHggMnB4O1xufVxuXG4vKiBEb3dubG9hZCBhcnJvdyBzaGFwZSAqL1xuLmJ1dHRvbkRvd25sb2FkOmFmdGVyIHtcblx0d2lkdGg6IDA7XG5cdGhlaWdodDogMDtcblx0bWFyZ2luLWxlZnQ6IDNweDtcblx0bWFyZ2luLXRvcDogLTdweDtcblxuXHRib3JkZXItc3R5bGU6IHNvbGlkO1xuXHRib3JkZXItd2lkdGg6IDRweCA0cHggMCA0cHg7XG5cdGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdGJvcmRlci10b3AtY29sb3I6IGluaGVyaXQ7XG5cblx0YW5pbWF0aW9uOiBkb3dubG9hZEFycm93IDJzIGxpbmVhciBpbmZpbml0ZTtcblx0YW5pbWF0aW9uLXBsYXktc3RhdGU6IHBhdXNlZDtcbn1cblxuLmJ1dHRvbkRvd25sb2FkOmhvdmVyOmJlZm9yZSB7XG5cdGJvcmRlci1jb2xvcjogIzRmODFiZDtcbn1cblxuLmJ1dHRvbkRvd25sb2FkOmhvdmVyOmFmdGVyIHtcblx0Ym9yZGVyLXRvcC1jb2xvcjogIzRmODFiZDtcblx0YW5pbWF0aW9uLXBsYXktc3RhdGU6IHJ1bm5pbmc7XG59XG5cbi5idXR0b25Eb3dubG9hZC5sYXJnZSB7XG4gIHdpZHRoOiAyMDBweDtcbn1cbi8qIGtleWZyYW1lcyBmb3IgdGhlIGRvd25sb2FkIGljb24gYW5pbSAqL1xuQGtleWZyYW1lcyBkb3dubG9hZEFycm93IHtcblx0LyogMCUgYW5kIDAuMDAxJSBrZXlmcmFtZXMgdXNlZCBhcyBhIGhhY2tpc2ggd2F5IG9mIGhhdmluZyB0aGUgYnV0dG9uIGZyb3plbiBvbiBhIG5pY2UgbG9va2luZyBmcmFtZSBieSBkZWZhdWx0ICovXG5cdDAlIHtcblx0XHRtYXJnaW4tdG9wOiAtN3B4O1xuXHRcdG9wYWNpdHk6IDE7XG5cdH1cblxuXHQwLjAwMSUge1xuXHRcdG1hcmdpbi10b3A6IC0xNXB4O1xuXHRcdG9wYWNpdHk6IDA7XG5cdH1cblxuXHQ1MCUge1xuXHRcdG9wYWNpdHk6IDE7XG5cdH1cblxuXHQxMDAlIHtcblx0XHRtYXJnaW4tdG9wOiAwO1xuXHRcdG9wYWNpdHk6IDA7XG5cdH1cbn1cbi8qIEVuZCBvZiBzdHlsZXMgZm9yIGRvd25sb2FkIGJ1dHRvbiAqL1xuXG4vKiBTdHlsZSBmb3IgcmFkYXIgY2hhcnQgbGVnZW5kICovXG4ubWluaS1sZWdlbmQtaXRlbSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbi5taW5pLWxlZ2VuZC1pdGVtID4gcC5jb2xvcl9zcXVhcmUge1xuICB3aWR0aDogMS4xZW07XG4gIGhlaWdodDogMS4xZW07XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XG4gIGJvcmRlci1yYWRpdXM6IDEwJTtcbn1cbi5taW5pLWxlZ2VuZC1pdGVtID4gc3BhbiB7XG4gIHBhZGRpbmc6IDAgNXB4O1xufVxuLmJ0bl9kZWxldGVfbWluaSB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciByYWRhciBjaGFydCBsZWdlbmQgKi9cblxuLyogU3R5bGVzIGZvciBpbnB1dCB3aXRoIGF1dG9jb21wbGV0aW9uIChsZWZ0IG1lbnUpICovXG4ucmVnaW9fbmFtZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZy10b3A6IDRweDtcbn1cblxuLnJlZ2lvX25hbWUgPiBwIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDZweDtcbn1cblxuLnJlZ2lvX25hbWUgPiBpbnB1dCB7XG4gIGJvcmRlcjogMnB4IHNvbGlkICM2NDg4OWM7XG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggIHJnYmEoMCwwLDAsMC4xKSwgMCAwIDEycHggcmdiYSgwLDAsMCwwLjEpO1xuICBwYWRkaW5nOiAwLjRlbTtcbiAgbWFyZ2luOiAwIDAgMTBweCAwO1xuICBoZWlnaHQ6IDQ1JTtcbiAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgZm9udC1zaXplOiAwLjhlbTtcbn1cblxuI3NlYXJjaCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTE7XG4gIHdpZHRoOiBjYWxjKDkwJSAtIDdlbSk7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4jYXV0b2NvbXBsZXRlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAxMDtcbiAgd2lkdGg6IGNhbGMoOTAlIC0gN2VtKTtcbiAgYmFja2dyb3VuZDogcmdiKDc5LCAxMjksIDE4OSk7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuI2xpc3RfcmVnaW8ge1xuICBoZWlnaHQ6IDE1JTtcbiAgdHJhbnNpdGlvbjogYWxsIDQwMG1zIGVhc2UtaW4tb3V0O1xufVxuXG4jbGlzdF9yZWdpby5oaWRkZW4ge1xuICBoZWlnaHQ6IDA7XG59XG4vKiBFbmQgb2Ygc3R5bGVzIGZvciBpbnB1dCB3aXRoIGF1dG9jb21wbGV0aW9uIChsZWZ0IG1lbnUpICovXG5cblxuaDMge1xuICBjb2xvcjogIzRmODFiZDtcbn1cblxuLnRpdGxlX3ZhcmlhYmxlIHtcbiAgbWFyZ2luLWxlZnQ6IDEuNWVtO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBmb250LWZhbWlseTogXCJTaWduaWthXCIsIHNhbnMtc2VyaWY7XG4gIHBhZGRpbmc6IDNweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi50aXRsZV92YXJpYWJsZS5pbnZlcnNlZCB7XG4gIGNvbG9yOiByZWQ7XG59XG5cblxuLnRpbmdsZS1tb2RhbC1ib3hfX2NvbnRlbnQge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xufVxuIiwiLnRpbmdsZS1tb2RhbCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0udGluZ2xlLW1vZGFse3Bvc2l0aW9uOmZpeGVkO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO3otaW5kZXg6MTAwMDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Zpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOnJnYmEoMCwgMCwgMCwgMC40KTtvcGFjaXR5OjA7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIC4xcyBlYXNlO3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gLjFzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjFzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjFzIGVhc2V9LnRpbmdsZS1tb2RhbC0tbm9DbG9zZSAudGluZ2xlLW1vZGFsX19jbG9zZSwudGluZ2xlLW1vZGFsX19jbG9zZUxhYmVse2Rpc3BsYXk6bm9uZX0udGluZ2xlLW1vZGFsLS1jb25maXJtIC50aW5nbGUtbW9kYWwtYm94e3RleHQtYWxpZ246Y2VudGVyfS50aW5nbGUtbW9kYWwtLW5vT3ZlcmxheUNsb3Nle2N1cnNvcjpkZWZhdWx0fS50aW5nbGUtbW9kYWxfX2Nsb3Nle3Bvc2l0aW9uOmZpeGVkO3RvcDoxMHB4O3JpZ2h0OjI4cHg7ei1pbmRleDoxMDAwO3BhZGRpbmc6MDt3aWR0aDo1cmVtO2hlaWdodDo1cmVtO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6I2YwZjBmMDtmb250LXNpemU6NnJlbTtmb250LWZhbWlseTptb25vc3BhY2U7bGluZS1oZWlnaHQ6MTtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRyYW5zaXRpb246Y29sb3IgMTUwbXMgZWFzZTt0cmFuc2l0aW9uOmNvbG9yIDE1MG1zIGVhc2V9LnRpbmdsZS1tb2RhbF9fY2xvc2U6aG92ZXJ7Y29sb3I6I2ZmZn0udGluZ2xlLW1vZGFsLWJveHtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bzt3aWR0aDo2MCU7Ym9yZGVyLXJhZGl1czo0cHg7YmFja2dyb3VuZDojZmZmO29wYWNpdHk6MTtjdXJzb3I6YXV0bzstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMTUwbXMgY3ViaWMtYmV6aWVyKC4xNzUsLjg4NSwuMzIsMS4yNzUpO3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMTUwbXMgY3ViaWMtYmV6aWVyKC4xNzUsLjg4NSwuMzIsMS4yNzUpO3RyYW5zaXRpb246dHJhbnNmb3JtIDE1MG1zIGN1YmljLWJlemllciguMTc1LC44ODUsLjMyLDEuMjc1KTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxNTBtcyBjdWJpYy1iZXppZXIoLjE3NSwuODg1LC4zMiwxLjI3NSksLXdlYmtpdC10cmFuc2Zvcm0gMTUwbXMgY3ViaWMtYmV6aWVyKC4xNzUsLjg4NSwuMzIsMS4yNzUpOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC44KTstbXMtdHJhbnNmb3JtOnNjYWxlKC44KTt0cmFuc2Zvcm06c2NhbGUoLjgpfS50aW5nbGUtbW9kYWwtYm94X19jb250ZW50e3BhZGRpbmc6M3JlbX0udGluZ2xlLW1vZGFsLWJveF9fZm9vdGVye3BhZGRpbmc6MS41cmVtIDJyZW07d2lkdGg6YXV0bztib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo0cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo0cHg7YmFja2dyb3VuZC1jb2xvcjojZjVmNWY1O2N1cnNvcjphdXRvfS50aW5nbGUtbW9kYWwtYm94X19mb290ZXI6OmFmdGVye2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aDtjb250ZW50OlwiXCJ9LnRpbmdsZS1tb2RhbC1ib3hfX2Zvb3Rlci0tc3RpY2t5e3Bvc2l0aW9uOmZpeGVkO2JvdHRvbTotMjAwcHg7ei1pbmRleDoxMDAwMTtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2l0aW9uOmJvdHRvbSAxNTBtcyBlYXNlLWluLW91dCAxNTBtczt0cmFuc2l0aW9uOmJvdHRvbSAxNTBtcyBlYXNlLWluLW91dCAxNTBtc30udGluZ2xlLWVuYWJsZWR7b3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxMDAlfS50aW5nbGUtbW9kYWwtLXZpc2libGUgLnRpbmdsZS1tb2RhbC1ib3hfX2Zvb3Rlcntib3R0b206MH0udGluZ2xlLWVuYWJsZWQgLnRpbmdsZS1jb250ZW50LXdyYXBwZXJ7LXdlYmtpdC1maWx0ZXI6Ymx1cigxNXB4KTtmaWx0ZXI6Ymx1cigxNXB4KX0udGluZ2xlLW1vZGFsLS12aXNpYmxle3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjF9LnRpbmdsZS1tb2RhbC0tdmlzaWJsZSAudGluZ2xlLW1vZGFsLWJveHstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTstbXMtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX0udGluZ2xlLW1vZGFsLS1vdmVyZmxvd3tvdmVyZmxvdy15OnNjcm9sbDtwYWRkaW5nLXRvcDo4dmh9LnRpbmdsZS1idG57ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOjAgLjVyZW07cGFkZGluZzoxcmVtIDJyZW07Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjpncmV5O2JveC1zaGFkb3c6bm9uZTtjb2xvcjojZmZmO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6aW5oZXJpdDtmb250LWZhbWlseTppbmhlcml0O2xpbmUtaGVpZ2h0Om5vcm1hbDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuNHMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjRzIGVhc2V9LnRpbmdsZS1idG4tLXByaW1hcnl7YmFja2dyb3VuZC1jb2xvcjojMzQ5OGRifS50aW5nbGUtYnRuLS1kYW5nZXJ7YmFja2dyb3VuZC1jb2xvcjojZTc0YzNjfS50aW5nbGUtYnRuLS1kZWZhdWx0e2JhY2tncm91bmQtY29sb3I6IzM0NDk1ZX0udGluZ2xlLWJ0bi0tcHVsbC1sZWZ0e2Zsb2F0OmxlZnR9LnRpbmdsZS1idG4tLXB1bGwtcmlnaHR7ZmxvYXQ6cmlnaHR9QG1lZGlhIChtYXgtd2lkdGggOjU0MHB4KXsudGluZ2xlLW1vZGFse3RvcDowO2Rpc3BsYXk6YmxvY2s7cGFkZGluZy10b3A6NjBweDt3aWR0aDoxMDAlfS50aW5nbGUtbW9kYWwtYm94e3dpZHRoOmF1dG87Ym9yZGVyLXJhZGl1czowfS50aW5nbGUtbW9kYWwtYm94X19jb250ZW50e292ZXJmbG93LXk6c2Nyb2xsfS50aW5nbGUtbW9kYWwtLW5vQ2xvc2V7dG9wOjB9LnRpbmdsZS1tb2RhbC0tbm9PdmVybGF5Q2xvc2V7cGFkZGluZy10b3A6MH0udGluZ2xlLW1vZGFsLWJveF9fZm9vdGVyIC50aW5nbGUtYnRue2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bm9uZTttYXJnaW4tYm90dG9tOjFyZW07d2lkdGg6MTAwJX0udGluZ2xlLW1vZGFsX19jbG9zZXt0b3A6MDtyaWdodDowO2xlZnQ6MDtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjYwcHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojMmMzZTUwO2JveC1zaGFkb3c6bm9uZTtjb2xvcjojZmZmO2xpbmUtaGVpZ2h0OjU1cHh9LnRpbmdsZS1tb2RhbF9fY2xvc2VMYWJlbHtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Zm9udC1zaXplOjEuNXJlbTtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxcIlNlZ29lIFVJXCIsUm9ib3RvLE94eWdlbixVYnVudHUsQ2FudGFyZWxsLFwiRmlyYSBTYW5zXCIsXCJEcm9pZCBTYW5zXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLHNhbnMtc2VyaWZ9LnRpbmdsZS1tb2RhbF9fY2xvc2VJY29ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDouNXJlbTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Zm9udC1zaXplOjRyZW19fVxuIiwiLnRpcHB5LXRvdWNoe2N1cnNvcjpwb2ludGVyIWltcG9ydGFudH0udGlwcHktbm90cmFuc2l0aW9uey13ZWJraXQtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fS50aXBweS1wb3BwZXJ7bWF4LXdpZHRoOjQwMHB4Oy13ZWJraXQtcGVyc3BlY3RpdmU6ODAwcHg7cGVyc3BlY3RpdmU6ODAwcHg7ei1pbmRleDo5OTk5O291dGxpbmU6MDstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4xNjUsLjg0LC40NCwxKTtwb2ludGVyLWV2ZW50czpub25lfS50aXBweS1wb3BwZXIuaHRtbC10ZW1wbGF0ZXttYXgtd2lkdGg6OTYlO21heC13aWR0aDpjYWxjKDEwMCUgLSAyMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFt4LWFycm93XXtib3JkZXItdG9wOjdweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvdHRvbTotN3B4O21hcmdpbjowIDlweH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFt4LWFycm93XS5hcnJvdy1zbWFsbHtib3JkZXItdG9wOjVweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvdHRvbTotNXB4fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW3gtYXJyb3ddLmFycm93LWJpZ3tib3JkZXItdG9wOjEwcHggc29saWQgIzMzMztib3JkZXItcmlnaHQ6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvdHRvbTotMTBweH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFt4LWNpcmNsZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjAgMzMlO3RyYW5zZm9ybS1vcmlnaW46MCAzMyV9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbeC1jaXJjbGVdLmVudGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLC01NSUpO3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtNTUlKTtvcGFjaXR5OjF9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbeC1jaXJjbGVdLmxlYXZley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4xNSkgdHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnNjYWxlKC4xNSkgdHJhbnNsYXRlKC01MCUsLTUwJSk7b3BhY2l0eTowfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWUgW3gtY2lyY2xlXXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd117Ym9yZGVyLXRvcDo3cHggc29saWQgI2ZmZjtib3JkZXItcmlnaHQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjdweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIC50aXBweS10b29sdGlwLmxpZ2h0LXRoZW1lIFt4LWFycm93XS5hcnJvdy1zbWFsbHtib3JkZXItdG9wOjVweCBzb2xpZCAjZmZmO2JvcmRlci1yaWdodDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWUgW3gtYXJyb3ddLmFycm93LWJpZ3tib3JkZXItdG9wOjEwcHggc29saWQgI2ZmZjtib3JkZXItcmlnaHQ6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtY2lyY2xlXXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtYXJyb3dde2JvcmRlci10b3A6N3B4IHNvbGlkIHJnYmEoMCwwLDAsLjcpO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtYXJyb3ddLmFycm93LXNtYWxse2JvcmRlci10b3A6NXB4IHNvbGlkIHJnYmEoMCwwLDAsLjcpO2JvcmRlci1yaWdodDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtYXJyb3ddLmFycm93LWJpZ3tib3JkZXItdG9wOjEwcHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXJpZ2h0OjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6MTBweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpIHJvdGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdLmxlYXZle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVgoOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVgoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXRvcF0gW2RhdGEtYW5pbWF0aW9uPWZhZGVdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249ZmFkZV0ubGVhdmV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdF0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj10b3BdIFtkYXRhLWFuaW1hdGlvbj1zaGlmdF0ubGVhdmV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249c2NhbGVdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49dG9wXSBbZGF0YS1hbmltYXRpb249c2NhbGVdLmxlYXZle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW3gtYXJyb3dde2JvcmRlci1ib3R0b206N3B4IHNvbGlkICMzMzM7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo3cHggc29saWQgdHJhbnNwYXJlbnQ7dG9wOi03cHg7bWFyZ2luOjAgOXB4fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW3gtYXJyb3ddLmFycm93LXNtYWxse2JvcmRlci1ib3R0b206NXB4IHNvbGlkICMzMzM7Ym9yZGVyLXJpZ2h0OjVweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo1cHggc29saWQgdHJhbnNwYXJlbnQ7dG9wOi01cHh9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1ib3R0b206MTBweCBzb2xpZCAjMzMzO2JvcmRlci1yaWdodDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjEwcHggc29saWQgdHJhbnNwYXJlbnQ7dG9wOi0xMHB4fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW3gtY2lyY2xlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAtNTAlO3RyYW5zZm9ybS1vcmlnaW46MCAtNTAlfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW3gtY2lyY2xlXS5lbnRlcnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtNDUlKTt0cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlKC01MCUsLTQ1JSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW3gtY2lyY2xlXS5sZWF2ZXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguMTUpIHRyYW5zbGF0ZSgtNTAlLC01JSk7dHJhbnNmb3JtOnNjYWxlKC4xNSkgdHJhbnNsYXRlKC01MCUsLTUlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1jaXJjbGVde2JhY2tncm91bmQtY29sb3I6I2ZmZn0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIC50aXBweS10b29sdGlwLmxpZ2h0LXRoZW1lIFt4LWFycm93XXtib3JkZXItYm90dG9tOjdweCBzb2xpZCAjZmZmO2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWUgW3gtYXJyb3ddLmFycm93LXNtYWxse2JvcmRlci1ib3R0b206NXB4IHNvbGlkICNmZmY7Ym9yZGVyLXJpZ2h0OjVweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo1cHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1ib3R0b206MTBweCBzb2xpZCAjZmZmO2JvcmRlci1yaWdodDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjEwcHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1jaXJjbGVde2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1hcnJvd117Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo3cHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1hcnJvd10uYXJyb3ctc21hbGx7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXJpZ2h0OjVweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo1cHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1ib3R0b206MTBweCBzb2xpZCByZ2JhKDAsMCwwLC43KTtib3JkZXItcmlnaHQ6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wO3RyYW5zZm9ybS1vcmlnaW46dG9wfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXS5lbnRlcntvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMHB4KSByb3RhdGVYKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHJvdGF0ZVgoMCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdLmxlYXZle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVgoLTkwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVYKC05MGRlZyl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249ZmFkZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249ZmFkZV0ubGVhdmV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2hpZnRdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWJvdHRvbV0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0XS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1ib3R0b21dIFtkYXRhLWFuaW1hdGlvbj1zY2FsZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49Ym90dG9tXSBbZGF0YS1hbmltYXRpb249c2NhbGVdLmxlYXZle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHNjYWxlKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFt4LWFycm93XXtib3JkZXItbGVmdDo3cHggc29saWQgIzMzMztib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudDtyaWdodDotN3B4O21hcmdpbjo2cHggMH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbeC1hcnJvd10uYXJyb3ctc21hbGx7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkICMzMzM7Ym9yZGVyLXRvcDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgdHJhbnNwYXJlbnQ7cmlnaHQ6LTVweH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1sZWZ0OjEwcHggc29saWQgIzMzMztib3JkZXItdG9wOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbToxMHB4IHNvbGlkIHRyYW5zcGFyZW50O3JpZ2h0Oi0xMHB4fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFt4LWNpcmNsZV17LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAwO3RyYW5zZm9ybS1vcmlnaW46NTAlIDB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW3gtY2lyY2xlXS5lbnRlcnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlKC01MCUsLTUwJSk7b3BhY2l0eToxfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFt4LWNpcmNsZV0ubGVhdmV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjE1KSB0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoLjE1KSB0cmFuc2xhdGUoLTUwJSwtNTAlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWUgW3gtY2lyY2xlXXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWUgW3gtYXJyb3dde2JvcmRlci1sZWZ0OjdweCBzb2xpZCAjZmZmO2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS10b29sdGlwLmxpZ2h0LXRoZW1lIFt4LWFycm93XS5hcnJvdy1zbWFsbHtib3JkZXItbGVmdDo1cHggc29saWQgI2ZmZjtib3JkZXItdG9wOjVweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjVweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1sZWZ0OjEwcHggc29saWQgI2ZmZjtib3JkZXItdG9wOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbToxMHB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS10b29sdGlwLnRyYW5zcGFyZW50LXRoZW1lIFt4LWNpcmNsZV17YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC43KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1hcnJvd117Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHJnYmEoMCwwLDAsLjcpO2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIC50aXBweS10b29sdGlwLnRyYW5zcGFyZW50LXRoZW1lIFt4LWFycm93XS5hcnJvdy1zbWFsbHtib3JkZXItbGVmdDo1cHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXRvcDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtYXJyb3ddLmFycm93LWJpZ3tib3JkZXItbGVmdDoxMHB4IHNvbGlkIHJnYmEoMCwwLDAsLjcpO2JvcmRlci10b3A6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjEwcHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpyaWdodH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSByb3RhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSByb3RhdGVZKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePWxlZnRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV0ubGVhdmV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCkgcm90YXRlWSgtOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoLTkwZGVnKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249ZmFkZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249ZmFkZV0ubGVhdmV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2hpZnRdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0XS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1sZWZ0XSBbZGF0YS1hbmltYXRpb249c2NhbGVdLmVudGVye29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTBweCkgc2NhbGUoMSl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49bGVmdF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSBzY2FsZSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSBzY2FsZSgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW3gtYXJyb3dde2JvcmRlci1yaWdodDo3cHggc29saWQgIzMzMztib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudDtsZWZ0Oi03cHg7bWFyZ2luOjZweCAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbeC1hcnJvd10uYXJyb3ctc21hbGx7Ym9yZGVyLXJpZ2h0OjVweCBzb2xpZCAjMzMzO2JvcmRlci10b3A6NXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206NXB4IHNvbGlkIHRyYW5zcGFyZW50O2xlZnQ6LTVweH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW3gtYXJyb3ddLmFycm93LWJpZ3tib3JkZXItcmlnaHQ6MTBweCBzb2xpZCAjMzMzO2JvcmRlci10b3A6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7bGVmdDotMTBweH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW3gtY2lyY2xlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46LTUwJSAwO3RyYW5zZm9ybS1vcmlnaW46LTUwJSAwfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbeC1jaXJjbGVdLmVudGVyey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpIHRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTpzY2FsZSgxKSB0cmFuc2xhdGUoLTUwJSwtNTAlKTtvcGFjaXR5OjF9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFt4LWNpcmNsZV0ubGVhdmV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjE1KSB0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06c2NhbGUoLjE1KSB0cmFuc2xhdGUoLTUwJSwtNTAlKTtvcGFjaXR5OjB9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS10b29sdGlwLmxpZ2h0LXRoZW1lIFt4LWNpcmNsZV17YmFja2dyb3VuZC1jb2xvcjojZmZmfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd117Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCAjZmZmO2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd10uYXJyb3ctc21hbGx7Ym9yZGVyLXJpZ2h0OjVweCBzb2xpZCAjZmZmO2JvcmRlci10b3A6NXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206NXB4IHNvbGlkIHRyYW5zcGFyZW50fS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktdG9vbHRpcC5saWdodC10aGVtZSBbeC1hcnJvd10uYXJyb3ctYmlne2JvcmRlci1yaWdodDoxMHB4IHNvbGlkICNmZmY7Ym9yZGVyLXRvcDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206MTBweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtY2lyY2xlXXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZSBbeC1hcnJvd117Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCByZ2JhKDAsMCwwLC43KTtib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gLnRpcHB5LXRvb2x0aXAudHJhbnNwYXJlbnQtdGhlbWUgW3gtYXJyb3ddLmFycm93LXNtYWxse2JvcmRlci1yaWdodDo1cHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXRvcDo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgdHJhbnNwYXJlbnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIC50aXBweS10b29sdGlwLnRyYW5zcGFyZW50LXRoZW1lIFt4LWFycm93XS5hcnJvdy1iaWd7Ym9yZGVyLXJpZ2h0OjEwcHggc29saWQgcmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXRvcDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206MTBweCBzb2xpZCB0cmFuc3BhcmVudH0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXBlcnNwZWN0aXZlXXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdDt0cmFuc2Zvcm0tb3JpZ2luOmxlZnR9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1wZXJzcGVjdGl2ZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCkgcm90YXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSByb3RhdGVZKDApfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249cGVyc3BlY3RpdmVdLmxlYXZle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApIHJvdGF0ZVkoOTBkZWcpfS50aXBweS1wb3BwZXJbeC1wbGFjZW1lbnRePXJpZ2h0XSBbZGF0YS1hbmltYXRpb249ZmFkZV0uZW50ZXJ7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTBweCl9LnRpcHB5LXBvcHBlclt4LXBsYWNlbWVudF49cmlnaHRdIFtkYXRhLWFuaW1hdGlvbj1mYWRlXS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0XS5lbnRlcntvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNoaWZ0XS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXS5lbnRlcntvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMHB4KSBzY2FsZSgxKX0udGlwcHktcG9wcGVyW3gtcGxhY2VtZW50Xj1yaWdodF0gW2RhdGEtYW5pbWF0aW9uPXNjYWxlXS5sZWF2ZXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSBzY2FsZSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKSBzY2FsZSgwKX0udGlwcHktcG9wcGVyIC50aXBweS10b29sdGlwLnRyYW5zcGFyZW50LXRoZW1le2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNyl9LnRpcHB5LXBvcHBlciAudGlwcHktdG9vbHRpcC50cmFuc3BhcmVudC10aGVtZVtkYXRhLWFuaW1hdGVmaWxsXXtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS50aXBweS1wb3BwZXIgLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWV7Y29sb3I6IzI2MzIzZDtib3gtc2hhZG93OjAgNHB4IDIwcHggNHB4IHJnYmEoMCwyMCw2MCwuMSksMCA0cHggODBweCAtOHB4IHJnYmEoMCwyMCw2MCwuMik7YmFja2dyb3VuZC1jb2xvcjojZmZmfS50aXBweS1wb3BwZXIgLnRpcHB5LXRvb2x0aXAubGlnaHQtdGhlbWVbZGF0YS1hbmltYXRlZmlsbF17YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udGlwcHktdG9vbHRpcHtwb3NpdGlvbjpyZWxhdGl2ZTtjb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NHB4O2ZvbnQtc2l6ZTouOTVyZW07cGFkZGluZzouNHJlbSAuOHJlbTt0ZXh0LWFsaWduOmNlbnRlcjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7YmFja2dyb3VuZC1jb2xvcjojMzMzfS50aXBweS10b29sdGlwLS1zbWFsbHtwYWRkaW5nOi4yNXJlbSAuNXJlbTtmb250LXNpemU6LjhyZW19LnRpcHB5LXRvb2x0aXAtLWJpZ3twYWRkaW5nOi42cmVtIDEuMnJlbTtmb250LXNpemU6MS4ycmVtfS50aXBweS10b29sdGlwW2RhdGEtYW5pbWF0ZWZpbGxde292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS50aXBweS10b29sdGlwW2RhdGEtaW50ZXJhY3RpdmVde3BvaW50ZXItZXZlbnRzOmF1dG99LnRpcHB5LXRvb2x0aXBbZGF0YS1pbmVydGlhXXstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNTMsMSwuMzYsLjg1KTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjUzLDIsLjM2LC44NSl9LnRpcHB5LXRvb2x0aXAgW3gtYXJyb3dde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjB9LnRpcHB5LXRvb2x0aXAgW3gtY2lyY2xlXXtwb3NpdGlvbjphYnNvbHV0ZTt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07YmFja2dyb3VuZC1jb2xvcjojMzMzO2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjEzMCU7d2lkdGg6Y2FsYygxMTAlICsgMnJlbSk7bGVmdDo1MCU7dG9wOjUwJTt6LWluZGV4Oi0xO292ZXJmbG93OmhpZGRlbjstd2Via2l0LXRyYW5zaXRpb246YWxsIGVhc2U7dHJhbnNpdGlvbjphbGwgZWFzZX0udGlwcHktdG9vbHRpcCBbeC1jaXJjbGVdOmJlZm9yZXtjb250ZW50OlwiXCI7cGFkZGluZy10b3A6OTAlO2Zsb2F0OmxlZnR9QG1lZGlhIChtYXgtd2lkdGg6NDUwcHgpey50aXBweS1wb3BwZXJ7bWF4LXdpZHRoOjk2JTttYXgtd2lkdGg6Y2FsYygxMDAlIC0gMjBweCl9fSIsIi8qKlxuICogYWxlcnRpZnlqcyAxLjExLjAgaHR0cDovL2FsZXJ0aWZ5anMuY29tXG4gKiBBbGVydGlmeUpTIGlzIGEgamF2YXNjcmlwdCBmcmFtZXdvcmsgZm9yIGRldmVsb3BpbmcgcHJldHR5IGJyb3dzZXIgZGlhbG9ncyBhbmQgbm90aWZpY2F0aW9ucy5cbiAqIENvcHlyaWdodCAyMDE3IE1vaGFtbWFkIFlvdW5lcyA8TW9oYW1tYWRAYWxlcnRpZnlqcy5jb20+IChodHRwOi8vYWxlcnRpZnlqcy5jb20pIFxuICogTGljZW5zZWQgdW5kZXIgR1BMIDMgPGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvZ3BsLTMuMD4qL1xuLmFsZXJ0aWZ5IC5hanMtZGltbWVye3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTk4MTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtwYWRkaW5nOjA7bWFyZ2luOjA7YmFja2dyb3VuZC1jb2xvcjojMjUyNTI1O29wYWNpdHk6LjV9LmFsZXJ0aWZ5IC5hanMtbW9kYWx7cG9zaXRpb246Zml4ZWQ7dG9wOjA7cmlnaHQ6MDtsZWZ0OjA7Ym90dG9tOjA7cGFkZGluZzowO292ZXJmbG93LXk6YXV0bzt6LWluZGV4OjE5ODF9LmFsZXJ0aWZ5IC5hanMtZGlhbG9ne3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjo1JSBhdXRvO21pbi1oZWlnaHQ6MTEwcHg7bWF4LXdpZHRoOjUwMHB4O3BhZGRpbmc6MjRweCAyNHB4IDAgMjRweDtvdXRsaW5lOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5hbGVydGlmeSAuYWpzLWRpYWxvZy5hanMtY2FwdHVyZTpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtkaXNwbGF5OmJsb2NrO3otaW5kZXg6MX0uYWxlcnRpZnkgLmFqcy1yZXNldHtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ZGlzcGxheTppbmxpbmUhaW1wb3J0YW50O3dpZHRoOjAhaW1wb3J0YW50O2hlaWdodDowIWltcG9ydGFudDtvcGFjaXR5OjAhaW1wb3J0YW50fS5hbGVydGlmeSAuYWpzLWNvbW1hbmRze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjRweDttYXJnaW46LTE0cHggMjRweCAwIDA7ei1pbmRleDoyfS5hbGVydGlmeSAuYWpzLWNvbW1hbmRzIGJ1dHRvbntkaXNwbGF5Om5vbmU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDttYXJnaW4tbGVmdDoxMHB4O3BhZGRpbmc6MTBweDtib3JkZXI6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjtjdXJzb3I6cG9pbnRlcn0uYWxlcnRpZnkgLmFqcy1jb21tYW5kcyBidXR0b24uYWpzLWNsb3Nle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQlowUlZoMFEzSmxZWFJwYjI0Z1ZHbHRaUUF3Tnk4eE15OHhOT3JacXVnQUFBQWNkRVZZZEZOdlpuUjNZWEpsQUVGa2IySmxJRVpwY21WM2IzSnJjeUJEVXpib3ZMS01BQUFBaDBsRVFWUVlsWTJRc1EwRUlRd0VCOWNCQVIxQ0pVYUkvZ2lnRG53UjZOQkwvNy94V0xOcloyYjhFd0dvdFZwcjdlT2l0V2ExVmp1Z2lOQjdSMVVQcktyV2UwZEVBSEJiWFVxeE1RYmVld0RtbkhqdnlUbTdDM3pEd0FVZDljNjNZUWRVVmR1NkVBSnp6cXV6N0hYdlRpa2x0K0g5RFFGWWF4Rmp2RHFsbEZ5TWtiWFd2ZnBYSGpKcldGZ2RCcS9oQUFBQUFFbEZUa1N1UW1DQyl9LmFsZXJ0aWZ5IC5hanMtY29tbWFuZHMgYnV0dG9uLmFqcy1tYXhpbWl6ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQUJaMFJWaDBRM0psWVhScGIyNGdWR2x0WlFBd055OHhNeTh4Tk9yWnF1Z0FBQUFjZEVWWWRGTnZablIzWVhKbEFFRmtiMkpsSUVacGNtVjNiM0pyY3lCRFV6Ym92TEtNQUFBQU9VbEVRVlFZbFdQOC8vOC9BekdBaFlHQmdhRzR1Qml2NnQ3ZVhrWW1vb3hqWUdBZ1dpRUxzdkhZRk1DY1JYMnJTWGNqb1NCaUpEYkFBZUQrRUd1KzhCWmNBQUFBQUVsRlRrU3VRbUNDKX0uYWxlcnRpZnkgLmFqcy1oZWFkZXJ7bWFyZ2luOi0yNHB4O21hcmdpbi1ib3R0b206MDtwYWRkaW5nOjE2cHggMjRweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmFsZXJ0aWZ5IC5hanMtYm9keXttaW4taGVpZ2h0OjU2cHh9LmFsZXJ0aWZ5IC5hanMtYm9keSAuYWpzLWNvbnRlbnR7cGFkZGluZzoxNnB4IDI0cHggMTZweCAxNnB4fS5hbGVydGlmeSAuYWpzLWZvb3RlcntwYWRkaW5nOjRweDttYXJnaW4tbGVmdDotMjRweDttYXJnaW4tcmlnaHQ6LTI0cHg7bWluLWhlaWdodDo0M3B4O2JhY2tncm91bmQtY29sb3I6I2ZmZn0uYWxlcnRpZnkgLmFqcy1mb290ZXIgLmFqcy1idXR0b25zLmFqcy1wcmltYXJ5e3RleHQtYWxpZ246cmlnaHR9LmFsZXJ0aWZ5IC5hanMtZm9vdGVyIC5hanMtYnV0dG9ucy5hanMtcHJpbWFyeSAuYWpzLWJ1dHRvbnttYXJnaW46NHB4fS5hbGVydGlmeSAuYWpzLWZvb3RlciAuYWpzLWJ1dHRvbnMuYWpzLWF1eGlsaWFyeXtmbG9hdDpsZWZ0O2NsZWFyOm5vbmU7dGV4dC1hbGlnbjpsZWZ0fS5hbGVydGlmeSAuYWpzLWZvb3RlciAuYWpzLWJ1dHRvbnMuYWpzLWF1eGlsaWFyeSAuYWpzLWJ1dHRvbnttYXJnaW46NHB4fS5hbGVydGlmeSAuYWpzLWZvb3RlciAuYWpzLWJ1dHRvbnMgLmFqcy1idXR0b257bWluLXdpZHRoOjg4cHg7bWluLWhlaWdodDozNXB4fS5hbGVydGlmeSAuYWpzLWhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Om5vbmU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6MTtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQUJaMFJWaDBRM0psWVhScGIyNGdWR2x0WlFBd055OHhNUzh4TkVEUVltTUFBQUFjZEVWWWRGTnZablIzWVhKbEFFRmtiMkpsSUVacGNtVjNiM0pyY3lCRFV6Ym92TEtNQUFBQVEwbEVRVlFZbGFYTk1Rb0FJQXhEMGRUN0g2NTdsMEtYM2lKdVVsQlVOT3NQUENHSm03VkRwNnJ5ZU14TXVEc0FRSDdvd1czcHluM1JTMjZpS3hFUk1MTjN1Z09hQWthTDNzV1ZpZ0FBQUFCSlJVNUVya0pnZ2c9PSk7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGVYKDEpO3RyYW5zZm9ybTpzY2FsZVgoMSk7Y3Vyc29yOnNlLXJlc2l6ZX0uYWxlcnRpZnkuYWpzLW5vLW92ZXJmbG93IC5hanMtYm9keSAuYWpzLWNvbnRlbnR7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH0uYWxlcnRpZnkuYWpzLW5vLXBhZGRpbmcuYWpzLW1heGltaXplZCAuYWpzLWJvZHkgLmFqcy1jb250ZW50e2xlZnQ6MDtyaWdodDowO3BhZGRpbmc6MH0uYWxlcnRpZnkuYWpzLW5vLXBhZGRpbmc6bm90KC5hanMtbWF4aW1pemVkKSAuYWpzLWJvZHl7bWFyZ2luLWxlZnQ6LTI0cHg7bWFyZ2luLXJpZ2h0Oi0yNHB4fS5hbGVydGlmeS5hanMtbm8tcGFkZGluZzpub3QoLmFqcy1tYXhpbWl6ZWQpIC5hanMtYm9keSAuYWpzLWNvbnRlbnR7cGFkZGluZzowfS5hbGVydGlmeS5hanMtbm8tcGFkZGluZy5hanMtcmVzaXphYmxlIC5hanMtYm9keSAuYWpzLWNvbnRlbnR7bGVmdDowO3JpZ2h0OjB9LmFsZXJ0aWZ5LmFqcy1tYXhpbWl6YWJsZSAuYWpzLWNvbW1hbmRzIGJ1dHRvbi5hanMtbWF4aW1pemUsLmFsZXJ0aWZ5LmFqcy1tYXhpbWl6YWJsZSAuYWpzLWNvbW1hbmRzIGJ1dHRvbi5hanMtcmVzdG9yZXtkaXNwbGF5OmlubGluZS1ibG9ja30uYWxlcnRpZnkuYWpzLWNsb3NhYmxlIC5hanMtY29tbWFuZHMgYnV0dG9uLmFqcy1jbG9zZXtkaXNwbGF5OmlubGluZS1ibG9ja30uYWxlcnRpZnkuYWpzLW1heGltaXplZCAuYWpzLWRpYWxvZ3t3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7bWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50O21hcmdpbjowIGF1dG8haW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50fS5hbGVydGlmeS5hanMtbWF4aW1pemVkLmFqcy1tb2RlbGVzcyAuYWpzLW1vZGFse3Bvc2l0aW9uOmZpeGVkIWltcG9ydGFudDttaW4taGVpZ2h0OjEwMCUhaW1wb3J0YW50O21heC1oZWlnaHQ6bm9uZSFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50fS5hbGVydGlmeS5hanMtbWF4aW1pemVkIC5hanMtY29tbWFuZHMgYnV0dG9uLmFqcy1tYXhpbWl6ZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQUJaMFJWaDBRM0psWVhScGIyNGdWR2x0WlFBd055OHhNeTh4Tk9yWnF1Z0FBQUFjZEVWWWRGTnZablIzWVhKbEFFRmtiMkpsSUVacGNtVjNiM0pyY3lCRFV6Ym92TEtNQUFBQVNrbEVRVlFZbFpXUTBRa0FNUWhEdFhSaW5jT1pYNzhLVnRyREN3Z3FKTkVvSUIzTVBMajdsUlVST2xweVZYR3pieTZ6V3VZK2t6NnRqNXNCTVRNQXlWVjMvNTk1UmJPaDNjQVhzd3cxcmFlaU9jb0FBQUFBU1VWT1JLNUNZSUk9KX0uYWxlcnRpZnkuYWpzLW1heGltaXplZCAuYWpzLWRpYWxvZywuYWxlcnRpZnkuYWpzLXJlc2l6YWJsZSAuYWpzLWRpYWxvZ3twYWRkaW5nOjB9LmFsZXJ0aWZ5LmFqcy1tYXhpbWl6ZWQgLmFqcy1jb21tYW5kcywuYWxlcnRpZnkuYWpzLXJlc2l6YWJsZSAuYWpzLWNvbW1hbmRze21hcmdpbjoxNHB4IDI0cHggMCAwfS5hbGVydGlmeS5hanMtbWF4aW1pemVkIC5hanMtaGVhZGVyLC5hbGVydGlmeS5hanMtcmVzaXphYmxlIC5hanMtaGVhZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO21hcmdpbjowO3BhZGRpbmc6MTZweCAyNHB4fS5hbGVydGlmeS5hanMtbWF4aW1pemVkIC5hanMtYm9keSwuYWxlcnRpZnkuYWpzLXJlc2l6YWJsZSAuYWpzLWJvZHl7bWluLWhlaWdodDoyMjRweDtkaXNwbGF5OmlubGluZS1ibG9ja30uYWxlcnRpZnkuYWpzLW1heGltaXplZCAuYWpzLWJvZHkgLmFqcy1jb250ZW50LC5hbGVydGlmeS5hanMtcmVzaXphYmxlIC5hanMtYm9keSAuYWpzLWNvbnRlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwcHg7cmlnaHQ6MjRweDtib3R0b206NTBweDtsZWZ0OjI0cHg7b3ZlcmZsb3c6YXV0b30uYWxlcnRpZnkuYWpzLW1heGltaXplZCAuYWpzLWZvb3RlciwuYWxlcnRpZnkuYWpzLXJlc2l6YWJsZSAuYWpzLWZvb3Rlcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDttYXJnaW46MH0uYWxlcnRpZnkuYWpzLXJlc2l6YWJsZTpub3QoLmFqcy1tYXhpbWl6ZWQpIC5hanMtZGlhbG9ne21pbi13aWR0aDo1NDhweH0uYWxlcnRpZnkuYWpzLXJlc2l6YWJsZTpub3QoLmFqcy1tYXhpbWl6ZWQpIC5hanMtaGFuZGxle2Rpc3BsYXk6YmxvY2t9LmFsZXJ0aWZ5LmFqcy1tb3ZhYmxlOm5vdCguYWpzLW1heGltaXplZCkgLmFqcy1oZWFkZXJ7Y3Vyc29yOm1vdmV9LmFsZXJ0aWZ5LmFqcy1tb2RlbGVzcyAuYWpzLWRpbW1lciwuYWxlcnRpZnkuYWpzLW1vZGVsZXNzIC5hanMtcmVzZXR7ZGlzcGxheTpub25lfS5hbGVydGlmeS5hanMtbW9kZWxlc3MgLmFqcy1tb2RhbHtvdmVyZmxvdzp2aXNpYmxlO21heC13aWR0aDpub25lO21heC1oZWlnaHQ6MH0uYWxlcnRpZnkuYWpzLW1vZGVsZXNzLmFqcy1waW5uYWJsZSAuYWpzLWNvbW1hbmRzIGJ1dHRvbi5hanMtcGlue2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQlowUlZoMFEzSmxZWFJwYjI0Z1ZHbHRaUUF3Tnk4eE15OHhOT3JacXVnQUFBQWNkRVZZZEZOdlpuUjNZWEpsQUVGa2IySmxJRVpwY21WM2IzSnJjeUJEVXpib3ZMS01BQUFBUWtsRVFWUVlsY1dQTVE0QUlBd0NxVTl1MzhHYmNiSFJXTjFNdktRRGhRRk1FcEtJbUdKQTBnQ2duWXcwVjByd3hzZWc1ZXJUNG9Ta1FWSTVkOWYrZTkreEEwTmJMcFdmaXRQWEFBQUFBRWxGVGtTdVFtQ0MpfS5hbGVydGlmeS5hanMtbW9kZWxlc3MuYWpzLXVucGlubmVkIC5hanMtbW9kYWx7cG9zaXRpb246YWJzb2x1dGV9LmFsZXJ0aWZ5LmFqcy1tb2RlbGVzcy5hanMtdW5waW5uZWQgLmFqcy1jb21tYW5kcyBidXR0b24uYWpzLXBpbntiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQUJaMFJWaDBRM0psWVhScGIyNGdWR2x0WlFBd055OHhNeTh4Tk9yWnF1Z0FBQUFjZEVWWWRGTnZablIzWVhKbEFFRmtiMkpsSUVacGNtVjNiM0pyY3lCRFV6Ym92TEtNQUFBQU8wbEVRVlFZbFdQOC8vOC9BekdBaVNoVjZBcUxpNHR4R3MrQ0xvQkxNWWJDM3Q1ZVJteWFXZkJaaHd3WWtYMk5UeFBSdmliS2pSaFc0d01BaHhrWUdiTHUzcEVBQUFBQVNVVk9SSzVDWUlJPSl9LmFsZXJ0aWZ5LmFqcy1tb2RlbGVzczpub3QoLmFqcy11bnBpbm5lZCkgLmFqcy1ib2R5e21heC1oZWlnaHQ6NTAwcHg7b3ZlcmZsb3c6YXV0b30uYWxlcnRpZnkuYWpzLWJhc2ljIC5hanMtaGVhZGVye29wYWNpdHk6MH0uYWxlcnRpZnkuYWpzLWJhc2ljIC5hanMtZm9vdGVye3Zpc2liaWxpdHk6aGlkZGVufS5hbGVydGlmeS5hanMtZnJhbWVsZXNzIC5hanMtaGVhZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO21pbi1oZWlnaHQ6NjBweDttYXJnaW46MDtwYWRkaW5nOjA7b3BhY2l0eTowO3otaW5kZXg6MX0uYWxlcnRpZnkuYWpzLWZyYW1lbGVzcyAuYWpzLWZvb3RlcntkaXNwbGF5Om5vbmV9LmFsZXJ0aWZ5LmFqcy1mcmFtZWxlc3MgLmFqcy1ib2R5IC5hanMtY29udGVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MH0uYWxlcnRpZnkuYWpzLWZyYW1lbGVzczpub3QoLmFqcy1yZXNpemFibGUpIC5hanMtZGlhbG9ne3BhZGRpbmctdG9wOjB9LmFsZXJ0aWZ5LmFqcy1mcmFtZWxlc3M6bm90KC5hanMtcmVzaXphYmxlKSAuYWpzLWRpYWxvZyAuYWpzLWNvbW1hbmRze21hcmdpbi10b3A6MH0uYWpzLW5vLW92ZXJmbG93e292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7b3V0bGluZTowfS5hanMtbm8tb3ZlcmZsb3cuYWpzLWZpeGVke3Bvc2l0aW9uOmZpeGVkO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO292ZXJmbG93LXk6c2Nyb2xsIWltcG9ydGFudH0uYWpzLW5vLXNlbGVjdGlvbiwuYWpzLW5vLXNlbGVjdGlvbiAqey13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjU2OHB4KXsuYWxlcnRpZnkgLmFqcy1kaWFsb2d7bWluLXdpZHRoOjE1MHB4fS5hbGVydGlmeTpub3QoLmFqcy1tYXhpbWl6ZWQpIC5hanMtbW9kYWx7cGFkZGluZzowIDUlfS5hbGVydGlmeTpub3QoLmFqcy1tYXhpbWl6ZWQpLmFqcy1yZXNpemFibGUgLmFqcy1kaWFsb2d7bWluLXdpZHRoOmluaXRpYWw7bWluLXdpZHRoOmF1dG99fUAtbW96LWRvY3VtZW50IHVybC1wcmVmaXgoKXsuYWxlcnRpZnkgYnV0dG9uOmZvY3Vze291dGxpbmU6MXB4IGRvdHRlZCAjMzU5M2QyfX0uYWxlcnRpZnkgLmFqcy1kaW1tZXIsLmFsZXJ0aWZ5IC5hanMtbW9kYWx7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7LXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5Om9wYWNpdHksdmlzaWJpbGl0eTt0cmFuc2l0aW9uLXByb3BlcnR5Om9wYWNpdHksdmlzaWJpbGl0eTstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXI7LXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOjI1MG1zO3RyYW5zaXRpb24tZHVyYXRpb246MjUwbXN9LmFsZXJ0aWZ5LmFqcy1oaWRkZW4gLmFqcy1kaW1tZXIsLmFsZXJ0aWZ5LmFqcy1oaWRkZW4gLmFqcy1tb2RhbHt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjB9LmFsZXJ0aWZ5LmFqcy1pbjpub3QoLmFqcy1oaWRkZW4pIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi41czthbmltYXRpb24tZHVyYXRpb246LjVzfS5hbGVydGlmeS5hanMtb3V0LmFqcy1oaWRkZW4gLmFqcy1kaWFsb2d7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MjUwbXM7YW5pbWF0aW9uLWR1cmF0aW9uOjI1MG1zfS5hbGVydGlmeSAuYWpzLWRpYWxvZy5hanMtc2hha2V7LXdlYmtpdC1hbmltYXRpb24tbmFtZTphanMtc2hha2U7YW5pbWF0aW9uLW5hbWU6YWpzLXNoYWtlOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4xczthbmltYXRpb24tZHVyYXRpb246LjFzOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aH1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXNoYWtlezAlLDEwMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9MTAlLDMwJSw1MCUsNzAlLDkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTBweCwwLDApfTIwJSw0MCUsNjAlLDgwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwcHgsMCwwKX19QGtleWZyYW1lcyBhanMtc2hha2V7MCUsMTAwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0xMCUsMzAlLDUwJSw3MCUsOTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMHB4LDAsMCl9MjAlLDQwJSw2MCUsODAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApfX0uYWxlcnRpZnkuYWpzLXNsaWRlLmFqcy1pbjpub3QoLmFqcy1oaWRkZW4pIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YWpzLXNsaWRlSW47YW5pbWF0aW9uLW5hbWU6YWpzLXNsaWRlSW47LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMTc1LC44ODUsLjMyLDEuMjc1KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMTc1LC44ODUsLjMyLDEuMjc1KX0uYWxlcnRpZnkuYWpzLXNsaWRlLmFqcy1vdXQuYWpzLWhpZGRlbiAuYWpzLWRpYWxvZ3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmFqcy1zbGlkZU91dDthbmltYXRpb24tbmFtZTphanMtc2xpZGVPdXQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNiwtLjI4LC43MzUsLjA0NSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjYsLS4yOCwuNzM1LC4wNDUpfS5hbGVydGlmeS5hanMtem9vbS5hanMtaW46bm90KC5hanMtaGlkZGVuKSAuYWpzLWRpYWxvZ3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmFqcy16b29tSW47YW5pbWF0aW9uLW5hbWU6YWpzLXpvb21Jbn0uYWxlcnRpZnkuYWpzLXpvb20uYWpzLW91dC5hanMtaGlkZGVuIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YWpzLXpvb21PdXQ7YW5pbWF0aW9uLW5hbWU6YWpzLXpvb21PdXR9LmFsZXJ0aWZ5LmFqcy1mYWRlLmFqcy1pbjpub3QoLmFqcy1oaWRkZW4pIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YWpzLWZhZGVJbjthbmltYXRpb24tbmFtZTphanMtZmFkZUlufS5hbGVydGlmeS5hanMtZmFkZS5hanMtb3V0LmFqcy1oaWRkZW4gLmFqcy1kaWFsb2d7LXdlYmtpdC1hbmltYXRpb24tbmFtZTphanMtZmFkZU91dDthbmltYXRpb24tbmFtZTphanMtZmFkZU91dH0uYWxlcnRpZnkuYWpzLXB1bHNlLmFqcy1pbjpub3QoLmFqcy1oaWRkZW4pIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YWpzLXB1bHNlSW47YW5pbWF0aW9uLW5hbWU6YWpzLXB1bHNlSW59LmFsZXJ0aWZ5LmFqcy1wdWxzZS5hanMtb3V0LmFqcy1oaWRkZW4gLmFqcy1kaWFsb2d7LXdlYmtpdC1hbmltYXRpb24tbmFtZTphanMtcHVsc2VPdXQ7YW5pbWF0aW9uLW5hbWU6YWpzLXB1bHNlT3V0fS5hbGVydGlmeS5hanMtZmxpcHguYWpzLWluOm5vdCguYWpzLWhpZGRlbikgLmFqcy1kaWFsb2d7LXdlYmtpdC1hbmltYXRpb24tbmFtZTphanMtZmxpcEluWDthbmltYXRpb24tbmFtZTphanMtZmxpcEluWH0uYWxlcnRpZnkuYWpzLWZsaXB4LmFqcy1vdXQuYWpzLWhpZGRlbiAuYWpzLWRpYWxvZ3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmFqcy1mbGlwT3V0WDthbmltYXRpb24tbmFtZTphanMtZmxpcE91dFh9LmFsZXJ0aWZ5LmFqcy1mbGlweS5hanMtaW46bm90KC5hanMtaGlkZGVuKSAuYWpzLWRpYWxvZ3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmFqcy1mbGlwSW5ZO2FuaW1hdGlvbi1uYW1lOmFqcy1mbGlwSW5ZfS5hbGVydGlmeS5hanMtZmxpcHkuYWpzLW91dC5hanMtaGlkZGVuIC5hanMtZGlhbG9ney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YWpzLWZsaXBPdXRZO2FuaW1hdGlvbi1uYW1lOmFqcy1mbGlwT3V0WX1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXB1bHNlSW57MCUsMTAwJSwyMCUsNDAlLDYwJSw4MCV7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyk7dHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpfTIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMSwxLjEsMS4xKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSl9NDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KX02MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTcsLjk3LC45Nyk7dHJhbnNmb3JtOnNjYWxlM2QoLjk3LC45NywuOTcpfTEwMCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKX19QGtleWZyYW1lcyBhanMtcHVsc2VJbnswJSwxMDAlLDIwJSw0MCUsNjAlLDgwJXstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9MjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMSwxLjEsMS4xKX00MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45NywuOTcsLjk3KTt0cmFuc2Zvcm06c2NhbGUzZCguOTcsLjk3LC45Nyl9MTAwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXB1bHNlT3V0ezIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9NTAlLDU1JXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpfTEwMCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpO3RyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKX19QGtleWZyYW1lcyBhanMtcHVsc2VPdXR7MjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KX01MCUsNTUle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMSwxLjEsMS4xKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSl9MTAwJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyk7dHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXpvb21JbnswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMjUsLjI1LC4yNSk7dHJhbnNmb3JtOnNjYWxlM2QoLjI1LC4yNSwuMjUpfTEwMCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKX19QGtleWZyYW1lcyBhanMtem9vbUluezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4yNSwuMjUsLjI1KTt0cmFuc2Zvcm06c2NhbGUzZCguMjUsLjI1LC4yNSl9MTAwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXpvb21PdXR7MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKX0xMDAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4yNSwuMjUsLjI1KTt0cmFuc2Zvcm06c2NhbGUzZCguMjUsLjI1LC4yNSl9fUBrZXlmcmFtZXMgYWpzLXpvb21PdXR7MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKX0xMDAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4yNSwuMjUsLjI1KTt0cmFuc2Zvcm06c2NhbGUzZCguMjUsLjI1LC4yNSl9fUAtd2Via2l0LWtleWZyYW1lcyBhanMtZmFkZUluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19QGtleWZyYW1lcyBhanMtZmFkZUluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19QC13ZWJraXQta2V5ZnJhbWVzIGFqcy1mYWRlT3V0ezAle29wYWNpdHk6MX0xMDAle29wYWNpdHk6MH19QGtleWZyYW1lcyBhanMtZmFkZU91dHswJXtvcGFjaXR5OjF9MTAwJXtvcGFjaXR5OjB9fUAtd2Via2l0LWtleWZyYW1lcyBhanMtZmxpcEluWHswJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO29wYWNpdHk6MH00MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC0yMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWlufTYwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsMTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsMTBkZWcpO29wYWNpdHk6MX04MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC01ZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC01ZGVnKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpfX1Aa2V5ZnJhbWVzIGFqcy1mbGlwSW5YezAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47b3BhY2l0eTowfTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTIwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC0yMGRlZyk7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59NjAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwxMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwxMGRlZyk7b3BhY2l0eToxfTgwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTVkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTVkZWcpfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9fUAtd2Via2l0LWtleWZyYW1lcyBhanMtZmxpcE91dFh7MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9MzAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTIwZGVnKTtvcGFjaXR5OjF9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO29wYWNpdHk6MH19QGtleWZyYW1lcyBhanMtZmxpcE91dFh7MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9MzAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTIwZGVnKTtvcGFjaXR5OjF9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO29wYWNpdHk6MH19QC13ZWJraXQta2V5ZnJhbWVzIGFqcy1mbGlwSW5ZezAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47b3BhY2l0eTowfTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTIwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0yMGRlZyk7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59NjAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwxMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwxMGRlZyk7b3BhY2l0eToxfTgwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTVkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTVkZWcpfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9fUBrZXlmcmFtZXMgYWpzLWZsaXBJbll7MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjtvcGFjaXR5OjB9NDAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMjBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTIwZGVnKTstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn02MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDEwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDEwZGVnKTtvcGFjaXR5OjF9ODAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtNWRlZyl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX19QC13ZWJraXQta2V5ZnJhbWVzIGFqcy1mbGlwT3V0WXswJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0xNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMTVkZWcpO29wYWNpdHk6MX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIGFqcy1mbGlwT3V0WXswJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0xNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMTVkZWcpO29wYWNpdHk6MX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCw5MGRlZyk7b3BhY2l0eTowfX1ALXdlYmtpdC1rZXlmcmFtZXMgYWpzLXNsaWRlSW57MCV7bWFyZ2luLXRvcDotMTAwJX0xMDAle21hcmdpbi10b3A6NSV9fUBrZXlmcmFtZXMgYWpzLXNsaWRlSW57MCV7bWFyZ2luLXRvcDotMTAwJX0xMDAle21hcmdpbi10b3A6NSV9fUAtd2Via2l0LWtleWZyYW1lcyBhanMtc2xpZGVPdXR7MCV7bWFyZ2luLXRvcDo1JX0xMDAle21hcmdpbi10b3A6LTEwMCV9fUBrZXlmcmFtZXMgYWpzLXNsaWRlT3V0ezAle21hcmdpbi10b3A6NSV9MTAwJXttYXJnaW4tdG9wOi0xMDAlfX0uYWxlcnRpZnktbm90aWZpZXJ7cG9zaXRpb246Zml4ZWQ7d2lkdGg6MDtvdmVyZmxvdzp2aXNpYmxlO3otaW5kZXg6MTk4Mjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdle3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI2MHB4O21heC1oZWlnaHQ6MDtwYWRkaW5nOjA7b3BhY2l0eTowO21hcmdpbjowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApOy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjoyNTBtczt0cmFuc2l0aW9uLWR1cmF0aW9uOjI1MG1zOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcn0uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdlLmFqcy12aXNpYmxley13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjouNXM7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXM7LXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjE3NSwuODg1LC4zMiwxLjI3NSk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4xNzUsLjg4NSwuMzIsMS4yNzUpO29wYWNpdHk6MTttYXgtaGVpZ2h0OjEwMCU7cGFkZGluZzoxNXB4O21hcmdpbi10b3A6MTBweH0uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdlLmFqcy1zdWNjZXNze2JhY2tncm91bmQ6cmdiYSg5MSwxODksMTE0LC45NSl9LmFsZXJ0aWZ5LW5vdGlmaWVyIC5hanMtbWVzc2FnZS5hanMtZXJyb3J7YmFja2dyb3VuZDpyZ2JhKDIxNyw5Miw5MiwuOTUpfS5hbGVydGlmeS1ub3RpZmllciAuYWpzLW1lc3NhZ2UuYWpzLXdhcm5pbmd7YmFja2dyb3VuZDpyZ2JhKDI1MiwyNDgsMjE1LC45NSl9LmFsZXJ0aWZ5LW5vdGlmaWVyIC5hanMtbWVzc2FnZSAuYWpzLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUlDQVlBQUFERUQ3NkxBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBRkJKUkVGVUdCbDFqMEVLQURFSUErdmUvUDlmOWJoMWhFaWhOQmZqVkNPMXY3UktWcUpLNGg4Z001Y0FQUjQyQWtRRXBTWFB3TVR5b2kxM241TjlZcUplaG0zRm5yN25MMUQwWkViRDVPdWJHeUM3YTlneCs5ZU5BQUFBQUVsRlRrU3VRbUNDKTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNSk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MnB4fS5hbGVydGlmeS1ub3RpZmllci5hanMtdG9we3RvcDoxMHB4fS5hbGVydGlmeS1ub3RpZmllci5hanMtYm90dG9te2JvdHRvbToxMHB4fS5hbGVydGlmeS1ub3RpZmllci5hanMtcmlnaHR7cmlnaHQ6MTBweH0uYWxlcnRpZnktbm90aWZpZXIuYWpzLXJpZ2h0IC5hanMtbWVzc2FnZXtyaWdodDotMzIwcHh9LmFsZXJ0aWZ5LW5vdGlmaWVyLmFqcy1yaWdodCAuYWpzLW1lc3NhZ2UuYWpzLXZpc2libGV7cmlnaHQ6MjkwcHh9LmFsZXJ0aWZ5LW5vdGlmaWVyLmFqcy1sZWZ0e2xlZnQ6MTBweH0uYWxlcnRpZnktbm90aWZpZXIuYWpzLWxlZnQgLmFqcy1tZXNzYWdle2xlZnQ6LTMwMHB4fS5hbGVydGlmeS1ub3RpZmllci5hanMtbGVmdCAuYWpzLW1lc3NhZ2UuYWpzLXZpc2libGV7bGVmdDowfS5hbGVydGlmeS1ub3RpZmllci5hanMtY2VudGVye2xlZnQ6NTAlfS5hbGVydGlmeS1ub3RpZmllci5hanMtY2VudGVyIC5hanMtbWVzc2FnZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfS5hbGVydGlmeS1ub3RpZmllci5hanMtY2VudGVyIC5hanMtbWVzc2FnZS5hanMtdmlzaWJsZXtsZWZ0OjUwJTstd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNTcsLjQzLC4xLC42NSk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC41NywuNDMsLjEsLjY1KX0uYWxlcnRpZnktbm90aWZpZXIuYWpzLWNlbnRlci5hanMtdG9wIC5hanMtbWVzc2FnZXt0b3A6LTMwMHB4fS5hbGVydGlmeS1ub3RpZmllci5hanMtY2VudGVyLmFqcy10b3AgLmFqcy1tZXNzYWdlLmFqcy12aXNpYmxle3RvcDowfS5hbGVydGlmeS1ub3RpZmllci5hanMtY2VudGVyLmFqcy1ib3R0b20gLmFqcy1tZXNzYWdle2JvdHRvbTotMzAwcHh9LmFsZXJ0aWZ5LW5vdGlmaWVyLmFqcy1jZW50ZXIuYWpzLWJvdHRvbSAuYWpzLW1lc3NhZ2UuYWpzLXZpc2libGV7Ym90dG9tOjB9IiwiLyoqXG4gKiBhbGVydGlmeWpzIDEuMTEuMCBodHRwOi8vYWxlcnRpZnlqcy5jb21cbiAqIEFsZXJ0aWZ5SlMgaXMgYSBqYXZhc2NyaXB0IGZyYW1ld29yayBmb3IgZGV2ZWxvcGluZyBwcmV0dHkgYnJvd3NlciBkaWFsb2dzIGFuZCBub3RpZmljYXRpb25zLlxuICogQ29weXJpZ2h0IDIwMTcgTW9oYW1tYWQgWW91bmVzIDxNb2hhbW1hZEBhbGVydGlmeWpzLmNvbT4gKGh0dHA6Ly9hbGVydGlmeWpzLmNvbSkgXG4gKiBMaWNlbnNlZCB1bmRlciBHUEwgMyA8aHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ncGwtMy4wPiovXG4uYWxlcnRpZnkgLmFqcy1kaW1tZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC44NSk7b3BhY2l0eToxfS5hbGVydGlmeSAuYWpzLWRpYWxvZ3ttYXgtd2lkdGg6NTAlO21pbi1oZWlnaHQ6MTM3cHg7YmFja2dyb3VuZC1jb2xvcjojZjRmNGY0O2JvcmRlcjoxcHggc29saWQgI2RkZDstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmU7Ym9yZGVyLXJhZGl1czo1cHh9LmFsZXJ0aWZ5IC5hanMtaGVhZGVye3BhZGRpbmc6MS41cmVtIDJyZW07Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci1yYWRpdXM6NXB4IDVweCAwIDA7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Zm9udC1mYW1pbHk6XCJIZWx2ZXRpY2EgTmV1ZVwiLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxLjZlbTtmb250LXdlaWdodDo3MDB9LmFsZXJ0aWZ5IC5hanMtYm9keXtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZjtjb2xvcjojNTU1fS5hbGVydGlmeSAuYWpzLWJvZHkgLmFqcy1jb250ZW50IC5hanMtaW5wdXR7d2lkdGg6MTAwJTttYXJnaW46MDtwYWRkaW5nOi42NWVtIDFlbTtmb250LXNpemU6MWVtO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtvdXRsaW5lOjA7Y29sb3I6cmdiYSgwLDAsMCwuNyk7Ym9yZGVyLXJhZGl1czouMzEyNWVtOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4zcyBlYXNlLW91dCxib3JkZXItY29sb3IgLjJzIGVhc2UsLXdlYmtpdC1ib3gtc2hhZG93IC4ycyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuM3MgZWFzZS1vdXQsYm9yZGVyLWNvbG9yIC4ycyBlYXNlLC13ZWJraXQtYm94LXNoYWRvdyAuMnMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjNzIGVhc2Utb3V0LGJveC1zaGFkb3cgLjJzIGVhc2UsYm9yZGVyLWNvbG9yIC4ycyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuM3MgZWFzZS1vdXQsYm94LXNoYWRvdyAuMnMgZWFzZSxib3JkZXItY29sb3IgLjJzIGVhc2UsLXdlYmtpdC1ib3gtc2hhZG93IC4ycyBlYXNlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uYWxlcnRpZnkgLmFqcy1ib2R5IC5hanMtY29udGVudCAuYWpzLWlucHV0OmFjdGl2ZXtib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhfS5hbGVydGlmeSAuYWpzLWJvZHkgLmFqcy1jb250ZW50IC5hanMtaW5wdXQ6Zm9jdXN7Ym9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpO2NvbG9yOnJnYmEoMCwwLDAsLjg1KX0uYWxlcnRpZnkuYWpzLW1heGltaXplZDpub3QoLmFqcy1yZXNpemFibGUpIC5hanMtY29udGVudCwuYWxlcnRpZnkuYWpzLXJlc2l6YWJsZSAuYWpzLWNvbnRlbnR7dG9wOjY0cHg7Ym90dG9tOjc0cHh9LmFsZXJ0aWZ5IC5hanMtZm9vdGVye2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjFyZW0gMnJlbTtib3JkZXItdG9wOm5vbmU7Ym9yZGVyLXJhZGl1czowIDAgNXB4IDVweH0uYWxlcnRpZnktbm90aWZpZXIgLmFqcy1tZXNzYWdle2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuOTUpO2NvbG9yOiMwMDA7dGV4dC1hbGlnbjpjZW50ZXI7Ym9yZGVyOnNvbGlkIDFweCAjZGRkO2JvcmRlci1yYWRpdXM6MnB4fS5hbGVydGlmeS1ub3RpZmllciAuYWpzLW1lc3NhZ2UuYWpzLXN1Y2Nlc3N7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOnJnYmEoOTEsMTg5LDExNCwuOTUpO3RleHQtc2hhZG93Oi0xcHggLTFweCAwIHJnYmEoMCwwLDAsLjUpfS5hbGVydGlmeS1ub3RpZmllciAuYWpzLW1lc3NhZ2UuYWpzLWVycm9ye2NvbG9yOiNmZmY7YmFja2dyb3VuZDpyZ2JhKDIxNyw5Miw5MiwuOTUpO3RleHQtc2hhZG93Oi0xcHggLTFweCAwIHJnYmEoMCwwLDAsLjUpfS5hbGVydGlmeS1ub3RpZmllciAuYWpzLW1lc3NhZ2UuYWpzLXdhcm5pbmd7YmFja2dyb3VuZDpyZ2JhKDI1MiwyNDgsMjE1LC45NSk7Ym9yZGVyLWNvbG9yOiM5OTl9IiwiLypcbiogIENvbG9yIG9wdGlvbnMgKGFwcGxpZWQgb24gdGhlIG1hcCBhbmQgb24gdGhlIGNoYXJ0KTpcbiovXG5leHBvcnQgY29uc3QgY29sb3JfY291bnRyaWVzID0gJ3JnYigxNDcsIDE0NCwgMjUyKSc7IC8vIENvbG9yIGZvciBmZWF0dXJlcyB3aXRoaW4gdGhlIHN0dWR5IHpvbmUgYnV0IG5vdCBoaWdobGlnaHRlZFxuZXhwb3J0IGNvbnN0IGNvbG9yX2Rpc2FibGVkID0gJyNiZWJlY2QnOyAvLyBDb2xvciBmb3IgZmVhdHVyZXMgb3V0c2lkZSB0aGUgc3R1ZHkgem9uZSAvIHdpdGhvdXQgZGF0YVxuZXhwb3J0IGNvbnN0IGNvbG9yX3N1cCA9ICdncmVlbic7IC8vIENvbG9yIGZvciBzZWxlY3RlZCBmZWF0dXJlIHdpdGggXCJiZXR0ZXJcIiB2YWx1ZXMgdGhhbiB0aGUgcmVmZXJlbmNlIGZlYXR1cmVcbmV4cG9ydCBjb25zdCBjb2xvcl9pbmYgPSAncmVkJzsgLy8gQ29sb3IgZm9yIHNlbGVjdGVkIGZlYXR1cmUgd2l0aCBcIndvcnNlXCIgdmFsdWVzIHRoYW4gdGhlIHJlZmVyZW5jZSBmZWF0dXJlXG5leHBvcnQgY29uc3QgY29sb3JfaGlnaGxpZ2h0ID0gJ3llbGxvdyc7IC8vIENvbG9yIGZvciB0aGUgcmVmZXJlbmNlIGZlYXR1cmUgKFwiTWEgcsOpZ2lvblwiKVxuZXhwb3J0IGNvbnN0IGNvbG9yX2RlZmF1bHRfZGlzc2ltID0gJ2RhcmtyZWQnOyAvLyBOZXV0cmFsIGNvbG9yIGZvciBzZWxlY3RlZCBmZWF0dXJlcyB3aGVuIGdyZWVuL3JlZCBjYW4ndCBiZSB1c2VkXG5cbi8qXG4qIE9wdGlvbnMgcmVnYXJkaW5nIHRoZSBmb3JtYXR0aW5nIG9mIG51bWJlcnMgYXMgc3RyaW5nXG4qXG4qL1xuZXhwb3J0IGNvbnN0IGZvcm1hdG5iX2RlY2ltYWxfc2VwID0gJywnO1xuZXhwb3J0IGNvbnN0IGZvcm1hdG5iX3Rob3VzYW5kc19zZXAgPSAnICc7XG5cbi8qXG4qICBNaXNjLiBvcHRpb25zOlxuKi9cbi8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdGhhdCBjYW4gYmUgc2VsZWN0ZWQgc2ltdWx0YW5lb3VzbHk6XG5leHBvcnQgY29uc3QgTUFYX1ZBUklBQkxFUyA9IDc7XG4vLyB4eHg6XG5leHBvcnQgY29uc3QgUkFUSU9fV0hfTUFQID0gMC44Nzk7XG5cbi8vXG5leHBvcnQgY29uc3QgZml4ZWRfZGltZW5zaW9uID0ge1xuICBtYXA6IHsgd2lkdGg6IDQ3MCwgaGVpZ2h0OiA1MzQgfSxcbiAgY2hhcnQ6IHsgd2lkdGg6IDYwMCwgaGVpZ2h0OiA1NjkgfSxcbiAgbGVnZW5kOiB7IHdpZHRoOiA0NzAsIGhlaWdodDogOTAgfSxcbn07XG4iLCJpbXBvcnQgeyBjb2xvcl9pbmYsIGNvbG9yX3N1cCwgZm9ybWF0bmJfZGVjaW1hbF9zZXAsIGZvcm1hdG5iX3Rob3VzYW5kc19zZXAgfSBmcm9tICcuL29wdGlvbnMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSB3cmFwLWlpZmUsIG9iamVjdC1zaG9ydGhhbmQsIG5vLWJpdHdpc2UsXG5uby1leHRlbmQtbmF0aXZlLCBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLXByb3RvdHlwZS1idWlsdGlucyxcbm5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG4oZnVuY3Rpb24gKCkge1xuICAvKlxuICBQb2x5ZmlsbCBmb3IgJ0VsZW1lbnQucmVtb3ZlJ1xuICBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DaGlsZE5vZGUvcmVtb3ZlXG4gICovXG4gIChmdW5jdGlvbiAoYXJyKSB7XG4gICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdyZW1vdmUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbSwgJ3JlbW92ZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pKFtFbGVtZW50LnByb3RvdHlwZSwgQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsIERvY3VtZW50VHlwZS5wcm90b3R5cGVdKTtcbiAgLypcbiAgUG9seWZpbGwgZm9yICdBcnJheS5maW5kJ1xuICBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmRcbiAgKi9cbiAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmaW5kJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaztcbiAgICAgICAgbGV0IGtWYWx1ZTtcbiAgICAgICAgY29uc3QgbyA9IE9iamVjdCh0aGlzKTtcblxuICAgICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgICBjb25zdCBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICAvLyAzLiBJZiBJc0NhbGxhYmxlKHByZWRpY2F0ZSkgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cbiAgICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwcmVkaWNhdGUgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0LiBJZiB0aGlzQXJnIHdhcyBzdXBwbGllZCwgbGV0IFQgYmUgdGhpc0FyZzsgZWxzZSBsZXQgVCBiZSB1bmRlZmluZWQuXG4gICAgICAgIGNvbnN0IHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgLy8gNS4gTGV0IGsgYmUgMC5cbiAgICAgICAgayA9IDA7XG5cbiAgICAgICAgLy8gNi4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgICAgLy8gYS4gTGV0IFBrIGJlICEgVG9TdHJpbmcoaykuXG4gICAgICAgICAgLy8gYi4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXG4gICAgICAgICAgLy8gYy4gTGV0IHRlc3RSZXN1bHQgYmUgVG9Cb29sZWFuKD8gQ2FsbChwcmVkaWNhdGUsIFQsIMKrIGtWYWx1ZSwgaywgTyDCuykpLlxuICAgICAgICAgIC8vIGQuIElmIHRlc3RSZXN1bHQgaXMgdHJ1ZSwgcmV0dXJuIGtWYWx1ZS5cbiAgICAgICAgICBrVmFsdWUgPSBvW2tdO1xuICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCBrVmFsdWUsIGssIG8pKSB7XG4gICAgICAgICAgICByZXR1cm4ga1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgICAgayArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuIFJldHVybiB1bmRlZmluZWQuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIC8qXG4gIFBvbHlmaWxsIGZvciAnT2JqZWN0LmFzc2lnbidcbiAgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PYmpldHNfZ2xvYmF1eC9PYmplY3QvYXNzaWduXG4gICovXG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIE11c3QgYmUgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LCAnYXNzaWduJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHZhckFyZ3MpIHsgLy8gLmxlbmd0aCBvZiBmdW5jdGlvbiBpcyAyXG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IC8vIFR5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0bztcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuICAvKiBQb2x5ZmlsbCBmb3IgJ0FycmF5LmZpbGwnXG4gIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT2JqZXRzX2dsb2JhdXgvQXJyYXkvZmlsbFxuICAqL1xuICBpZiAoIUFycmF5LnByb3RvdHlwZS5maWxsKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbGwnLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIFN0ZXBzIDEtMi5cbiAgICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RoaXMgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IE8gPSBPYmplY3QodGhpcyk7XG4gICAgICAgIC8vIFN0ZXBzIDMtNS5cbiAgICAgICAgY29uc3QgbGVuID0gTy5sZW5ndGggPj4+IDA7XG4gICAgICAgIC8vIFN0ZXBzIDYtNy5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlU3RhcnQgPSBzdGFydCA+PiAwO1xuICAgICAgICAvLyBTdGVwIDguXG4gICAgICAgIGxldCBrID0gcmVsYXRpdmVTdGFydCA8IDAgP1xuICAgICAgICAgIE1hdGgubWF4KGxlbiArIHJlbGF0aXZlU3RhcnQsIDApIDpcbiAgICAgICAgICBNYXRoLm1pbihyZWxhdGl2ZVN0YXJ0LCBsZW4pO1xuICAgICAgICAvLyBTdGVwcyA5LTEwLlxuICAgICAgICBjb25zdCBlbmQgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlRW5kID0gZW5kID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgIGxlbiA6IGVuZCA+PiAwO1xuICAgICAgICAvLyBTdGVwIDExLlxuICAgICAgICBjb25zdCBmaW5hbCA9IHJlbGF0aXZlRW5kIDwgMCA/XG4gICAgICAgICAgTWF0aC5tYXgobGVuICsgcmVsYXRpdmVFbmQsIDApIDpcbiAgICAgICAgICBNYXRoLm1pbihyZWxhdGl2ZUVuZCwgbGVuKTtcbiAgICAgICAgLy8gU3RlcCAxMi5cbiAgICAgICAgd2hpbGUgKGsgPCBmaW5hbCkge1xuICAgICAgICAgIE9ba10gPSB2YWx1ZTtcbiAgICAgICAgICBrICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAxMy5cbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59KSgpO1xuLyogZXNsaW50LWVuYWJsZSB3cmFwLWlpZmUsIG9iamVjdC1zaG9ydGhhbmQsIG5vLWJpdHdpc2UsXG5uby1leHRlbmQtbmF0aXZlLCBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLXByb3RvdHlwZS1idWlsdGlucyxcbm5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcbmNvbnN0IG1hdGhfcG93ID0gTWF0aC5wb3c7XG5jb25zdCBtYXRoX2FicyA9IE1hdGguYWJzO1xuY29uc3QgbWF0aF9yb3VuZCA9IE1hdGgucm91bmQ7XG5jb25zdCBtYXRoX21heCA9IE1hdGgubWF4O1xuY29uc3QgbWF0aF9taW4gPSBNYXRoLm1pbjtcbmNvbnN0IG1hdGhfc2luID0gTWF0aC5zaW47XG5jb25zdCBtYXRoX2NvcyA9IE1hdGguY29zO1xuY29uc3QgbWF0aF9zcXJ0ID0gTWF0aC5zcXJ0O1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyO1xuXG4vKipcbiogRnVuY3Rpb24gdG8gZGlzcGF0Y2gsIGFjY29yZGluZyB0byB0aGVpciBhdmFpbGFiaWxpdHksXG4qIGJldHdlZW4gdGhlIGFwcHJvcHJpYXRlICdlbGVtZW50c0Zyb21Qb2ludCcgZnVuY3Rpb25cbiogKGFzIEVkZ2Ugc2VlbXMgdG8gdXNlIGEgZGlmZmVyZW50IG5hbWUgdGhhbiB0aGUgb3RoZXJzKSxcbiogb3IgdXNlIGEgY3VzdG9tIHBvbHlmaWxsIGlmIHRoZSBmdW5jdGlvbm5hbGl0eSBpcyB1bmF2YWlsYWJsZS5cbipcbiogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHNjcmVlbiBjb29yZGluYXRlLlxuKiBAcGFyYW0ge051bWJlcn0geSAtIFkgc2NyZWVuIGNvb3JkaW5hdGUuXG4qIEByZXR1cm4ge0FycmF5IG9mIE5vZGVzfSAtIEFuIEFycmF5IGNyZWF0ZWQgZnJvbSB0aGUgcmVzdWx0aW5nIE5vZGVMaXN0LlxuKlxuKi9cbmNvbnN0IGdldEVsZW1lbnRzRnJvbVBvaW50ID0gKHgsIHksIGNvbnRleHQgPSBkb2N1bWVudC5ib2R5KSA9PiB7XG4gIGlmIChkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCh4LCB5KSk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQubXNFbGVtZW50c0Zyb21Qb2ludCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5tc0VsZW1lbnRzRnJvbVBvaW50KHgsIHkpKTtcbiAgfVxuICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IGNvbnRleHQuY2hpbGRyZW47XG4gIGxldCBpO1xuICBsZXQgbDtcbiAgbGV0IHBvcztcblxuICBmb3IgKGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgcG9zID0gY2hpbGRyZW5baV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHBvcy5sZWZ0IDw9IHggJiYgeCA8PSBwb3MucmlnaHQgJiYgcG9zLnRvcCA8PSB5ICYmIHkgPD0gcG9zLmJvdHRvbSkge1xuICAgICAgZWxlbWVudHMucHVzaChjaGlsZHJlbltpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbGVtZW50cztcbn07XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBwcmVwYXJlIGEgdG9vbHRpcCB6b25lIHRvIGJlIHVzZWQvYm91bmQgbGF0ZXIuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnQgLSBUaGUgZDMgbm9kZSBzZWxlY3Rpb24gZm9yIHRoZSBwYXJlbnQuXG4qIEBwYXJhbSB7U3RyaW5nfSBiZWZvcmUgLSBUaGUgc2VsZWN0b3IgZGVzY3JpYmluZyB0aGUgYmVmb3JlIGVsZW1lbnQuXG4qIEBwYXJhbSB7U3RyaW5nfSBjbGFzc25hbWUgLSBUaGUgY2xhc3NOYW1lIHZhbHVlIHRvIGJlIHVzZWQgZm9yXG4qICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIHRvb2x0aXAgKGRlZmF1bHQgJ3Rvb2x0aXAnKS5cbiogQHJldHVybiB7T2JqZWN0fSAtIFRoZSBkMyBub2RlIGVsZW1lbnQgZm9yIHRoaXMgdG9vbHRpcCB6b25lLlxuKlxuKi9cbmZ1bmN0aW9uIHByZXBhcmVUb29sdGlwMihwYXJlbnQsIGJlZm9yZSwgY2xhc3NuYW1lID0gJ3Rvb2x0aXAnKSB7XG4gIGNvbnN0IHQgPSBwYXJlbnQuc2VsZWN0KCcudG9vbHRpcCcpO1xuICBpZiAodC5ub2RlKCkpIHtcbiAgICByZXR1cm4gdDtcbiAgfVxuICBjb25zdCB0b29sdGlwID0gcGFyZW50Lmluc2VydCgnZGl2JywgYmVmb3JlKVxuICAgIC5hdHRyKCdjbGFzcycsIGNsYXNzbmFtZSlcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gIHRvb2x0aXAuYXBwZW5kKCdwJykuYXR0cignY2xhc3MnLCAndGl0bGUnKTtcbiAgdG9vbHRpcC5hcHBlbmQoJ3AnKS5hdHRyKCdjbGFzcycsICdjb250ZW50Jyk7XG5cbiAgcmV0dXJuIHRvb2x0aXA7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlIHZhbHVlIG9mIGFuIGVsZW1lbnQuXG4qXG4qXG4qXG4qXG4qL1xuY29uc3QgZ2V0U3R5bGUgPSBlbCA9PiAod2luZG93LmdldENvbXB1dGVkU3R5bGUgPyBnZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKSA6IGVsLmN1cnJlbnRTdHlsZSk7XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlIHZhbHVlIG9mIGFuIGVsZW1lbnQuXG4qXG4qXG4qXG4qXG4qL1xuY29uc3QgZ2V0U3R5bGVQcm9wZXJ0eSA9IChlbGVtLCBwcm9wKSA9PiBnZXRTdHlsZShlbGVtKVtwcm9wXTtcblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGJpbmQgYSB0b29sdGlwIChvbiBtb3VzZWRvd24vbW91c2Vtb3ZlKVxuKiBvbiBlYWNoIGVsZW1lbnQgZGVzY3JpYmVkIGJ5IHRoZSBnaXZlbiAnc2VsZWN0b3InLlxuKiBPcHRpb25zIGNhbiBjb250YWlucyB0aGUgbmFtZSBvZiBhdHRyaWJ1dGUgY29udGFpbmluZ1xuKiB0aGUgdG9vbHRpcCB2YWx1ZSwgdGhlIG5hbWUgb2YgdGhlIGNsYXNzIHRvIGJlIHVzZWQgZm9yXG4qIHRoZSB0b29sdGlwIGFuZCB0aGUgcGFyZW50IERPTSBlbGVtZW50IG9uIHdoaWNoIGFwcGVuZGluZ1xuKiB0aGVzZSB0b29sdGlwcyAodGhlc2UgdG9vbHRpcHMgYXJlIGNyZWF0ZWQgYW5kIGRlc3Ryb3llZFxuKiBlYWNoIHRpbWUgdGhleSBhcmUgZGlzcGxheWVkKS5cbipcbiogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4qIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4qIEByZXR1cm4ge1ZvaWR9XG4qXG4qL1xuY29uc3QgVG9vbHRpcHNpZnkgPSAoc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBvcHRzID0ge1xuICAgIHBhcmVudDogb3B0aW9ucy5wYXJlbnQgfHwgZG9jdW1lbnQuYm9keSxcbiAgICBjbGFzc05hbWU6IG9wdGlvbnMuY2xhc3NOYW1lIHx8ICd0b29sdGlwLWJsYWNrJyxcbiAgICBkYXRhQXR0cjogb3B0aW9ucy5kYXRhQXR0ciB8fCAndGl0bGUtdG9vbHRpcCcsXG4gICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IHx8IDUsXG4gIH07XG4gIGNvbnN0IGVsZW1zID0gZDMuc2VsZWN0QWxsKHNlbGVjdG9yKTtcbiAgaWYgKGVsZW1zLl9ncm91cHNbMF0ubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgbGV0IHRvb2x0aXBfcGFyZW50ID0gZDMuc2VsZWN0KG9wdHMucGFyZW50KS5zZWxlY3QoYC4ke29wdHMuY2xhc3NOYW1lfWApO1xuICBsZXQgdG9vbHRpcDtcbiAgbGV0IHQ7XG5cbiAgaWYgKCF0b29sdGlwX3BhcmVudC5ub2RlKCkpIHtcbiAgICB0b29sdGlwX3BhcmVudCA9IGQzLnNlbGVjdChvcHRzLnBhcmVudCkuaW5zZXJ0KCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgb3B0cy5jbGFzc05hbWUpXG4gICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIHRvb2x0aXAgPSB0b29sdGlwX3BhcmVudC5hcHBlbmQoJ3AnKS5hdHRyKCdjbGFzcycsICdjb250ZW50Jyk7XG4gIH0gZWxzZSB7XG4gICAgdG9vbHRpcCA9IHRvb2x0aXBfcGFyZW50LnNlbGVjdCgnLmNvbnRlbnQnKTtcbiAgfVxuXG4gIGVsZW1zXG4gICAgLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICB0b29sdGlwX3BhcmVudC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIH0pXG4gICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHsgdG9vbHRpcF9wYXJlbnQuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpOyB9LCBvcHRzLnRpbWVvdXQpO1xuICAgIH0pXG4gICAgLm9uKCdtb3VzZW1vdmUgbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgdG9vbHRpcFxuICAgICAgICAuaHRtbCh0aGlzLmdldEF0dHJpYnV0ZShvcHRzLmRhdGFBdHRyKSk7XG4gICAgICBjb25zdCBiID0gdG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0b29sdGlwX3BhcmVudFxuICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICBkaXNwbGF5OiBudWxsLFxuICAgICAgICAgIGxlZnQ6IGAke2QzLmV2ZW50LnBhZ2VYIC0gNX1weGAsXG4gICAgICAgICAgdG9wOiBgJHtkMy5ldmVudC5wYWdlWSAtIGIuaGVpZ2h0IC0gMTV9cHhgLFxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHVuYmluZFVJKCkge1xuICAvLyBSZW1vdmVzIHRoZSBjdXJyZW50IGJlaGF2aW9yIGNvcnJlc3BvbmRpbmcgdG8gY2xpY2tpbmcgb24gdGhlIGxlZnQgbWVudTpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50YXJnZXRfcmVnaW9uJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi5sYWJlbF9jaGsnKVxuICAgIC5vbignY2xpY2snLCBudWxsKTtcblxuICAvLyBSZW1vdmUgdGhlIHRhYmxlOlxuICBkMy5zZWxlY3QoJy5kYXRhVGFibGUtd3JhcHBlcicpLnJlbW92ZSgpO1xuXG4gIC8vIFVuYmluZCBidXR0b25zIG9uIHRoZSB0b3Agb2YgdGhlIG1hcDpcbiAgZDMuc2VsZWN0KCcjaGVhZGVyX21hcCcpXG4gICAgLnNlbGVjdEFsbCgnaW1nJylcbiAgICAub24oJ2NsaWNrJywgbnVsbCk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBzZWxlY3Rpb24gbWVudSAob3IgYnV0dG9ucykgdW5kZXIgdGhlIGNoYXJ0OlxuICBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbiA+ICNtZW51X3NlbGVjdGlvbicpLnJlbW92ZSgpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBjbGlja2luZyBvbiB0aGUgdG9wIG1lbnU6XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQudGl0bGVfbWVudScpLm9uKCdjbGljaycsIG51bGwpO1xuXG4gIC8vIFJlbW92ZXMgdGhlIGN1cnJlbnQgYmVoYXZpb3IgY29ycmVzcG9uZGluZyB0byBwcmVzc2luZyB0aGUgQ29udHJvbCBrZXk6XG4gIGRvY3VtZW50Lm9ua2V5dXAgPSBudWxsO1xuICBkb2N1bWVudC5vbmtleWRvd24gPSBudWxsO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gY29tcGFyZSB0aGUgdmFsdWUgb2YgYSBmZWF0dXJlIHRvIHRoZSByZWZlcmVuY2UgdmFsdWUgKGkuZS4gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIpXG4qIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGNvbG9yIChzZXJpZSBtYXkgYmUgaW52ZXJzZWQpXG4qXG4qIEBwYXJhbSB7TnVtYmVyfSB0ZXN0X3ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHRvIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbHVlIC0gVGhlIHZhbHVlIG9mIG15IHJlZ2lvbi5cbiogQHBhcmFtIHtCb29sZWFufSBzZXJpZV9pbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9yIG5vdCBpbiB0aGUgY3VycmVudCBjaGFydC5cbiogQHJldHVybiB7U3RyaW5nfSAtIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIGJlIHVzZWQgZm9yIHRoaXMgdmFsdWUuXG4qXG4qL1xuY29uc3QgY29tcCA9ICh0ZXN0X3ZhbHVlLCByZWZfdmFsdWUsIHNlcmllX2ludmVyc2VkKSA9PiB7XG4gIGlmICh0ZXN0X3ZhbHVlIDwgcmVmX3ZhbHVlKSB7XG4gICAgcmV0dXJuIHNlcmllX2ludmVyc2VkID8gY29sb3Jfc3VwIDogY29sb3JfaW5mO1xuICB9XG4gIHJldHVybiBzZXJpZV9pbnZlcnNlZCA/IGNvbG9yX2luZiA6IGNvbG9yX3N1cDtcbn07XG5cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGEgZmVhdHVyZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlIChpLmUuIHRoZSB2YWx1ZSBvZiBcIm15IHJlZ2lvblwiKVxuKiBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBjb2xvciAoc2VyaWUgbWF5IGJlIGludmVyc2VkKVxuKlxuKiBAcGFyYW0ge051bWJlcn0gdmFsMSAtIFRoZSB2YWx1ZSB0byBiZSBjb21wYXJlZCB0byB0aGUgdmFsdWUgb2YgXCJteSByZWdpb25cIiBmb3IgdGhlIDFzdCB2YXJpYWJsZS5cbiogQHBhcmFtIHtOdW1iZXJ9IHZhbDIgLSBUaGUgdmFsdWUgdG8gYmUgY29tcGFyZWQgdG8gdGhlIHZhbHVlIG9mIFwibXkgcmVnaW9uXCIgZm9yIHRoZSAybmQgdmFyaWFibGUuXG4qIEBwYXJhbSB7TnVtYmVyfSByZWZfdmFsMSAtIFRoZSB2YWx1ZSBvZiBteSByZWdpb24gZm9yIGhlIGZpcnN0IHZhcmlhYmxlLlxuKiBAcGFyYW0ge051bWJlcn0gcmVmX3ZhbDIgLSBUaGUgdmFsdWUgb2YgbXkgcmVnaW9uIGZvciB0aGUgc2Vjb25kIHZhcmlhYmxlLlxuKiBAcGFyYW0ge0Jvb2xlYW59IHhJbnZlcnNlZCAtIFdoZXRoZXIgdGhlIHNlcmllIGlzIGludmVyc2VkIG9uIHRoZSB4IGF4aXMgaW4gdGhlIGN1cnJlbnQgY2hhcnQuXG4qIEBwYXJhbSB7Qm9vbGVhbn0geUludmVyc2VkIC0gV2hldGhlciB0aGUgc2VyaWUgaXMgaW52ZXJzZWQgb24gdGhlIHkgYXhpcyBpbiB0aGUgY3VycmVudCBjaGFydC5cbiogQHJldHVybiB7U3RyaW5nfSAtIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIGJlIHVzZWQgZm9yIHRoZXNlcyB2YWx1ZXMuXG4qXG4qL1xuY29uc3QgY29tcDIgPSAodmFsMSwgdmFsMiwgcmVmX3ZhbDEsIHJlZl92YWwyLCB4SW52ZXJzZWQsIHlJbnZlcnNlZCkgPT4ge1xuICBpZiAoKHZhbDEgPCByZWZfdmFsMSAmJiAheEludmVyc2VkKSB8fCAodmFsMSA+IHJlZl92YWwxICYmIHhJbnZlcnNlZCkpIHsgLy8gdmFsMSBpcyBpbmZlcmlvcjpcbiAgICBpZiAodmFsMiA8IHJlZl92YWwyKSB7XG4gICAgICByZXR1cm4geUludmVyc2VkID8gJ3JnYigxNjAsIDMwLCAxNjApJyA6IGNvbG9yX2luZjtcbiAgICB9XG4gICAgcmV0dXJuIHlJbnZlcnNlZCA/IGNvbG9yX2luZiA6ICdyZ2IoMTYwLCAzMCwgMTYwKSc7XG4gIH1cbiAgLy8gdmFsMSBpcyBzdXBlcmlvciA6XG4gIGlmICh2YWwyID4gcmVmX3ZhbDIpIHtcbiAgICByZXR1cm4gIXlJbnZlcnNlZCA/IGNvbG9yX3N1cCA6ICdvcmFuZ2UnO1xuICB9XG4gIHJldHVybiAheUludmVyc2VkID8gJ29yYW5nZScgOiBjb2xvcl9zdXA7XG59O1xuXG5jbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IodG9wbGVmdCwgYm90dG9tcmlnaHQpIHtcbiAgICB0aGlzLnhtaW4gPSB0b3BsZWZ0WzBdO1xuICAgIHRoaXMueG1heCA9IGJvdHRvbXJpZ2h0WzBdO1xuICAgIHRoaXMueW1pbiA9IHRvcGxlZnRbMV07XG4gICAgdGhpcy55bWF4ID0gYm90dG9tcmlnaHRbMV07XG4gIH1cblxuICBjb250YWlucyhwdCkge1xuICAgIGlmIChwdFswXSA+PSB0aGlzLnhtaW4gJiYgcHRbMF0gPD0gdGhpcy54bWF4XG4gICAgICAgICYmIHB0WzFdID49IHRoaXMueW1pbiAmJiBwdFsxXSA8PSB0aGlzLnltYXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgUHJvcFNpemVyID0gZnVuY3Rpb24gUHJvcFNpemVyKGZpeGVkX3ZhbHVlLCBmaXhlZF9zaXplKSB7XG4gIHRoaXMuZml4ZWRfdmFsdWUgPSBmaXhlZF92YWx1ZTtcbiAgY29uc3QgeyBzcXJ0LCBhYnMsIFBJIH0gPSBNYXRoO1xuICB0aGlzLnNtYXggPSBmaXhlZF9zaXplICogZml4ZWRfc2l6ZSAqIFBJO1xuICB0aGlzLnNjYWxlID0gdmFsID0+IHNxcnQoYWJzKHZhbCkgKiB0aGlzLnNtYXggLyB0aGlzLmZpeGVkX3ZhbHVlKSAvIFBJO1xuICAvLyB0aGlzLmdldF92YWx1ZSA9IHNpemUgPT4gKChzaXplICogUEkpICoqIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbiAgLy8gVXNlIE1hdGggcG93IHRvIHN1cHBvcnQgYnJvd3NlciB3aXRob3V0ICoqIG9wZXJhdG9yOlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gIHRoaXMuZ2V0X3ZhbHVlID0gc2l6ZSA9PiBNYXRoLnBvdyhzaXplICogUEksIDIpIC8gdGhpcy5zbWF4ICogdGhpcy5maXhlZF92YWx1ZTtcbn07XG5cbi8qKlxuKiBGdW5jdGlvbiByZW1vdmluZyBkdXBsaWNhdGUgbWVtYmVycyBvZiBhbiBhcnJheS5cbipcbiogQHBhcmFtIHtBcnJheX0gYXJyIC0gVGhlIGFycmF5IG9uIHdoaWNoIHRvIG9wZXJhdGUuXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBpbnB1dCBhcnJheSwgd2l0aG91dCBkdXBsaWNhdGVzLlxuKlxuKi9cbmNvbnN0IHJlbW92ZUR1cGxpY2F0ZXMgPSBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycikge1xuICBjb25zdCB0bXAgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9hcnIgPSBhcnIubGVuZ3RoOyBpIDwgbGVuX2FycjsgaSsrKSB7XG4gICAgaWYgKHRtcC5pbmRleE9mKGFycltpXSkgPT09IC0xKSB7XG4gICAgICB0bXAucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG1wO1xufTtcblxuY29uc3QgZ2V0U3ZnUGF0aFR5cGUgPSAocGF0aCkgPT4ge1xuICBpZiAocGF0aC5pbmRleE9mKCdNICcpID4gLTEgJiYgcGF0aC5pbmRleE9mKCcgTCAnKSA+IC0xKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuXG5jb25zdCBzdmdQYXRoVG9Db29yZHMgPSAocGF0aCwgdHlwZV9wYXRoKSA9PiB7XG4gIGlmICh0eXBlX3BhdGggPT09IDEpIHtcbiAgICByZXR1cm4gcGF0aC5zbGljZSgxKS5zcGxpdCgnTCcpLm1hcChwdCA9PiBwdC5zcGxpdCgnLCcpLm1hcChhID0+ICthKSk7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMikuc3BsaXQoJyBMICcpLm1hcChwdCA9PiBwdC5zcGxpdCgnICcpLm1hcChhID0+ICthKSk7XG59O1xuXG5mdW5jdGlvbiBjb21wdXRlUGVyY2VudGlsZVJhbmsob2JqLCBmaWVsZF9uYW1lLCByZXN1bHRfZmllbGRfbmFtZSkge1xuICBjb25zdCB2YWx1ZXMgPSBvYmoubWFwKGQgPT4gZFtmaWVsZF9uYW1lXSk7XG4gIGNvbnN0IGxlbl92YWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICBjb25zdCBnZXRQUiA9ICh2KSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbl92YWx1ZXM7IGkrKykge1xuICAgICAgaWYgKHZhbHVlc1tpXSA8PSB2KSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJldHVybiAxMDAgKiBjb3VudCAvIGxlbl92YWx1ZXM7XG4gICAgcmV0dXJuIDEwMCAqIChjb3VudCAtIDEpIC8gKGxlbl92YWx1ZXMgLSAxKTtcbiAgfTtcbiAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGxlbl92YWx1ZXM7IGl4KyspIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvYmpbaXhdW3Jlc3VsdF9maWVsZF9uYW1lXSA9IGdldFBSKHZhbHVlc1tpeF0pO1xuICB9XG59XG5cbmNvbnN0IF9nZXRQUiA9ICh2LCBzZXJpZSkgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHNlcmllW2ldIDw9IHYpIHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiAxMDAgKiBjb3VudCAvIHNlcmllLmxlbmd0aDtcbiAgcmV0dXJuIDEwMCAqIChjb3VudCAtIDEpIC8gKHNlcmllLmxlbmd0aCAtIDEpO1xufTtcblxuLyoqXG4qIENvbXB1dGUgdGhlIG1lYW4gdmFsdWUgb2YgYSBzZXJpZSBvZiB2YWx1ZXMuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IHNlcmllIC0gQW4gYXJyYXkgb2YgTnVtYmVyLlxuKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIG1lYW4gb2YgdGhlIGlucHV0IHNlcmllIG9mIHZhbHVlcy5cbipcbiovXG5jb25zdCBnZXRNZWFuID0gKHNlcmllKSA9PiB7XG4gIGNvbnN0IG5iX3ZhbHVlcyA9IHNlcmllLmxlbmd0aDtcbiAgbGV0IHN1bSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfdmFsdWVzOyBpKyspIHtcbiAgICBzdW0gKz0gc2VyaWVbaV07XG4gIH1cbiAgcmV0dXJuIHN1bSAvIG5iX3ZhbHVlcztcbn07XG5cbmNvbnN0IGdldFN0ZERldiA9IChzZXJpZSwgbWVhbl92YWx1ZSkgPT4ge1xuICBjb25zdCBuYl92YWx1ZXMgPSBzZXJpZS5sZW5ndGg7XG4gIGlmICghbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fdmFsdWUgPSBnZXRNZWFuKHNlcmllKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICB9XG4gIGxldCBzdW0gPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5iX3ZhbHVlczsgaSsrKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICAgIHN1bSArPSBtYXRoX3BvdyhzZXJpZVtpXSAtIG1lYW5fdmFsdWUsIDIpO1xuICB9XG4gIHJldHVybiBtYXRoX3NxcnQoKDEgLyBuYl92YWx1ZXMpICogc3VtKTtcbn07XG5cbmNvbnN0IGdldFN0YW5kYXJkaXplZE1lYW5TdGREZXYgPSAoc2VyaWUpID0+IHtcbiAgY29uc3QgbWVhbiA9IGdldE1lYW4oc2VyaWUpO1xuICBjb25zdCBzdGRkZXYgPSBnZXRTdGREZXYoc2VyaWUsIG1lYW4pO1xuICByZXR1cm4gc2VyaWUubWFwKHZhbCA9PiAodmFsIC0gbWVhbikgLyBzdGRkZXYpO1xufTtcblxuLyoqXG4qIEZ1bmN0aW9uIHRoZSBnZXQgYSBzaHVmZmxlZCB2ZXJzaW9uIG9mIGFuIGFycmF5LlxuKlxuKiBAcGFyYW0ge0FycmF5fSBhcnJheSAtIFRoZSBhcnJheSB0byBzaHVmZmxlLlxuKiBAcmV0dXJuIHtBcnJheX0gLSBUaGUgc2h1ZmZsZWQgYXJyYXkuXG4qL1xuY29uc3Qgc2h1ZmZsZSA9IChhcnJheSkgPT4ge1xuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBbYXJyYXlbaV0sIGFycmF5W2pdXSA9IFthcnJheVtqXSwgYXJyYXlbaV1dO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn07XG5cbi8qKlxuKiBDb21wdXRlIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gRmVhdHVyZXNcbiogY29udGFpbmluZyBQb2ludCBnZW9tZXRyaWVzLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZTFcbiogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmUyXG4qIEByZXR1cm4ge051bWJlcn0gLSBUaGUgZGlzdGFuY2UgYmV0d2VlbiBmZWF0dXJlMSBhbmQgZmVhdHVyZTIgaW4gdGhlaXIgdW5pdC5cbipcbiovXG5mdW5jdGlvbiBldWNsaWRpYW5fZGlzdGFuY2UoZmVhdHVyZTEsIGZlYXR1cmUyKSB7XG4gIGNvbnN0IFt4MSwgeTFdID0gZmVhdHVyZTEuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gIGNvbnN0IFt4MiwgeTJdID0gZmVhdHVyZTIuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gIGNvbnN0IGEgPSB4MSAtIHgyO1xuICBjb25zdCBiID0geTEgLSB5MjtcbiAgcmV0dXJuIG1hdGhfc3FydChhICogYSArIGIgKiBiKTtcbn1cblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHNlbGVjdCB0aGUgZmlyc3QgdmFyaWFibGUgb24gdGhlIGxlZnQgbWVudVxuKiAodHJpZ2dlcmVkIGFmdGVyIGNoYW5naW5nIHJlZ2lvbiwgaWYgbm8gbW9yZSB2YXJpYWJsZSB3YXMgc2VsZWN0ZWQpXG4qXG4qIEByZXR1cm4ge1N0cmluZ30gLSBUaGUgY29kZSBvZiBhbiBhdmFpbGFibGUgdmFyaWFibGUgdG8gdXNlLlxuKlxuKi9cbmZ1bmN0aW9uIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyKCkge1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgdiA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgnLnRhcmdldF92YXJpYWJsZScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXZbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICB2W2ldLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgIHJldHVybiB2W2ldLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBleHRyYWN0IHRoZSAnaWQnIGZpZWxkIChuYW1lZCBhY2NvcmRpbmdcbiogdG8gJ2lkX2ZpZWxkJyB2YWx1ZSkgb24gdGhlIHRhcmdldCBsYXllciBwcm9wZXJ0aWVzXG4qIGFuZCBhc3NpZ24gaXRzIHZhbHVlIGRpcmVjdGx5IG9uIHRoZSBmaWVsZCBuYW1lICdpZCcuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBsYXllciAtIEEgZ2VvanNvbiBjb2xsZWN0aW9uIG9mIGZlYXR1cmVzXG4qIEBwYXJhbSB7U3RyaW5nfSBpZF9maWVsZCAtIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBjb250YWluaW5nXG4qICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGlkIHZhbHVlcy5cbiogQHJldHVybiB7Vm9pZH1cbiovXG5mdW5jdGlvbiBwcmVwYXJlR2VvbUxheWVySWQobGF5ZXIsIGlkX2ZpZWxkKSB7XG4gIGxheWVyLmZlYXR1cmVzLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgZnQuaWQgPSBmdC5wcm9wZXJ0aWVzW2lkX2ZpZWxkXTtcbiAgfSk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBnZXQgYSByYW5kb20gdmFsdWUgZnJvbSBhbiBhcnJheSAob3IgZnJvbSBhIHN1YnNldCBvZiBhbiBhcnJheSkuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IGFyciAtIFRoZSBhcnJheSBvbiB3aGljaCB0byBvcGVyYXRlLlxuKiBAcGFyYW0ge051bWJlcn0gZmFsc2VfbGVuZ3RoIC0gVGhlIGxlbmd0aCBvZiB0aGUgc3Vic2V0IG9uIHdoaWNoIHRvIG9wZXJhdGVcbiogICAgICAgICAgICAgICAgICAgICAgICAgKE9wdGlvbmFsIC0gZGVmYXVsdCB0byB0aGUgcmVhbCBsZW5ndGggb2YgdGhlIGFycmF5KVxuKiBAcmV0dXJuIHtTYW1lIHR5cGUgYXMgdGhlIG1lbWJlcnMgb2YgdGhlIGlucHV0IGFycmF5fVxuKlxuKi9cbmZ1bmN0aW9uIGdldFJhbmRvbShhcnIsIGZhbHNlX2xlbmd0aCkge1xuICByZXR1cm4gYXJyW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChmYWxzZV9sZW5ndGggfHwgYXJyLmxlbmd0aCkpXTtcbn1cblxuY29uc3QgZ2V0UmF0aW9Ub1dpZGUgPSAoKSA9PiB7XG4gIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTU2MXB4KScpLm1hdGNoZXMpIHtcbiAgICByZXR1cm4gMTU1MCAvIDEzNTA7XG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDEzNjFweCkgYW5kIChtYXgtd2lkdGg6IDE1NjBweCknKS5tYXRjaGVzKSB7XG4gICAgcmV0dXJuIDEzNTAgLyAxMzUwO1xuICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMTYxcHgpIGFuZCAobWF4LXdpZHRoOiAxMzYwcHgpJykubWF0Y2hlcykge1xuICAgIHJldHVybiAxMTUwIC8gMTM1MDtcbiAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogOTYwcHgpIGFuZCAobWF4LXdpZHRoOiAxMTYwcHgpJykubWF0Y2hlcykge1xuICAgIHJldHVybiA5NjAgLyAxMzUwO1xuICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA5NTlweCknKS5tYXRjaGVzKSB7XG4gICAgcmV0dXJuIDU0MCAvIDEzNTA7XG4gIH1cbiAgcmV0dXJuIDEzNTAgLyAxMzUwO1xufTtcblxuXG5mdW5jdGlvbiBhZGRUaG91c2FuZHNTZXBhcmF0b3IodmFsdWUpIHtcbiAgY29uc3QgcmVnID0gLyhcXGQrKShcXGR7M30pLztcbiAgbGV0IHZhbCA9IGAke3ZhbHVlfWA7XG4gIHdoaWxlIChyZWcudGVzdCh2YWwpKSB7XG4gICAgdmFsID0gdmFsLnJlcGxhY2UocmVnLCBgJDEke2Zvcm1hdG5iX3Rob3VzYW5kc19zZXB9JDJgKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gZm9ybWF0IGEgbnVtYmVyIHVzaW5nIGN1c3RvbVxuKiBkZWNpbWFsIHNlcGFyYXRvciBhbmQgdGhvdXNhbmRzIHNlcGFyYXRvciAoZGVmaW5lZCBpbiB0aGUgJ29wdGlvbnMnIGZpbGUpLlxuKlxuKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkLCBhcyBhIG51bWJlci5cbiogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvbiAtIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIHRoZSByaWdodCBvZiB0aGUgZGVjaW1hbFxuKiAgICAgICAgIHRvIGtlZXAgKHZhbHVlIHdpbGwgYmUgcm91bmRlZCB0byB0aGF0IHByZWNpc2lvbiBiZWZvcmUgZm9ybWF0dGluZykuXG4qXG4qIEByZXR1cm4ge1N0cmluZ30gLSBUaGUgZm9ybWF0dGVkIG51bWJlciBhcyBhIFN0cmluZywgdXNpbmcgdGhlXG4qICAgICAgICAgZGVjaW1hbCBzZXBhcmF0b3IgYW5kIHRob3VzYW5kcyBzZXBhcmF0b3IgZGVmaW5lZCBpbiB0aGUgJ29wdGlvbnMnIGZpbGUuXG4qL1xuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgbGV0IHZhbCA9IGAke3ZhbHVlfWA7XG4gIGlmICghdmFsLm1hdGNoKC9eLT9bMC05XSouP1swLTldKiQvKSkgcmV0dXJuIGZhbHNlO1xuICBpZiAocHJlY2lzaW9uKSB7XG4gICAgY29uc3QgbXVsdCA9ICsoWzFdLmNvbmNhdChBcnJheShwcmVjaXNpb24pLmZpbGwoMCkpLmpvaW4oJycpKTtcbiAgICB2YWwgPSBgJHttYXRoX3JvdW5kKCt2YWwgKiBtdWx0KSAvIG11bHR9YDtcbiAgfVxuICBjb25zdCB2YWx1ZXNfbGlzdCA9IHZhbC5zcGxpdCgnLicpO1xuICB2YWx1ZXNfbGlzdFswXSA9IGFkZFRob3VzYW5kc1NlcGFyYXRvcih2YWx1ZXNfbGlzdFswXSk7XG4gIHJldHVybiB2YWx1ZXNfbGlzdC5qb2luKGZvcm1hdG5iX2RlY2ltYWxfc2VwKTtcbn1cblxuLyoqXG4qXG4qXG4qXG4qXG4qL1xuZnVuY3Rpb24gbm9Db250ZXh0TWVudSgpIHtcbiAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuLyoqXG4qXG4qXG4qXG4qXG4qL1xuZnVuY3Rpb24gY2xpY2tEbFBkZihldmVudCkge1xuICBjb25zdCBwYXRoID0gdGhpcy5ocmVmO1xuICAvLyBjb25zb2xlLmxvZyhldmVudCk7XG4gIHRoaXMuaHJlZiA9ICcjJztcbiAgd2luZG93Lm9wZW4ocGF0aCk7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICB0aGlzLmhyZWYgPSBwYXRoO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGV4cG9ydEh0bWxSYXBwb3J0KHNlY3Rpb25zLCBuYW1lX215X3JlZ2lvbikge1xuICBjb25zdCB7XG4gICAgc2VjdGlvbl9zZWxlY3Rpb24sXG4gICAgc2VjdGlvbl9oZWxwLFxuICAgIHNlY3Rpb25fc291cmNlLFxuICB9ID0gc2VjdGlvbnM7XG4gIGNvbnN0IHRhcmdldFN2Z01hcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdmdfbWFwJyk7XG4gIGNvbnN0IHRhcmdldFN2Z0NoYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19iYXInKTtcbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIGNvbnN0IHN2Z19zb3VyY2VzID0gW1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcodGFyZ2V0U3ZnTWFwKSxcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKHRhcmdldFN2Z0NoYXJ0KSxcbiAgXTtcbiAgc3ZnX3NvdXJjZXMuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgaWYgKCFzb3VyY2UubWF0Y2goL148c3ZnW14+XSt4bWxucz1cImh0dHBcXDpcXC9cXC93d3dcXC53M1xcLm9yZ1xcLzIwMDBcXC9zdmdcIi8pKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC9ePHN2Zy8sICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIicpO1xuICAgIH1cbiAgICBpZiAoIXNvdXJjZS5tYXRjaCgvXjxzdmdbXj5dK1wiaHR0cFxcOlxcL1xcL3d3d1xcLnczXFwub3JnXFwvMTk5OVxcL3hsaW5rXCIvKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZSgvXjxzdmcvLCAnPHN2ZyB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIicpO1xuICAgIH1cbiAgICAvLyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAvLyBzb3VyY2UgPSBbJzw/eG1sIHZlcnNpb249XCIxLjBcIiBzdGFuZGFsb25lPVwibm9cIj8+XFxyXFxuJywgc291cmNlXS5qb2luKCcnKTtcbiAgfSk7XG4gIGNvbnN0IG5ld19odG1sX2RvYyA9IGBcbjwhRE9DVFlQRSBodG1sPlxuPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG48bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwiaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vXCIgLz5cbjxzdHlsZT5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTU5cHgpIHtcbiAgYm9keSB7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICB9XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk2MHB4KSBhbmQgKG1heC13aWR0aDogMTQ2MHB4KSB7XG4gIGJvZHkge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxufVxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxNDYxcHgpIHtcbiAgYm9keSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG59XG5oMSB7IGNvbG9yOiB3aGl0ZTsgYmFja2dyb3VuZDogIzRmODFiZDsgfVxuaDMgeyBjb2xvcjogIzRmODFiZDsgfVxuZGl2IHsgbWFyZ2luOiBhdXRvOyB9XG5kaXYuZjEgeyB3aWR0aDogNzUlOyB9XG5kaXYuZjIgeyBkaXNwbGF5OiBmbGV4OyB3aWR0aDogOTglOyB9XG5kaXYuZm9vdGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogODAlO1xuICBmb250LXNpemU6IDAuOGVtO1xufVxuPC9zdHlsZT5cbjx0aXRsZT5SZWdpb3ZpejwvdGl0bGU+XG48Ym9keT5cbiAgPGRpdiBjbGFzcz1cImYxXCI+XG4gICAgPGgxPlJlZ2lvdml6IC0gUmFwcG9ydCAke25hbWVfbXlfcmVnaW9ufTwvaDE+XG4gICAgPGgzPlJhcHBlbCBkZSBsYSBzw6lsZWN0aW9uPC9oMz5cbiAgICA8ZGl2PlxuICAgICR7c2VjdGlvbl9zZWxlY3Rpb259XG4gICAgPC9kaXY+XG4gICAgPGgzPlJlcHLDqXNlbnRhdGlvbnMgZ3JhcGhpcXVlczwvaDM+XG4gICAgPGRpdiBjbGFzcz1cImYyXCI+XG4gICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDQwJTsgbWFyZ2luOiBhdXRvO1wiPiR7c3ZnX3NvdXJjZXNbMF19PC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDQwJTsgbWFyZ2luOiBhdXRvO1wiPiR7c3ZnX3NvdXJjZXNbMV19PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGgzPkFpZGUgZGUgbGVjdHVyZTwvaDM+XG4gICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGp1c3RpZnk7XCI+JHtzZWN0aW9uX2hlbHB9PC9kaXY+XG4gICAgPGgzPlNvdXJjZXM8L2gzPlxuICAgIDxkaXY+JHtzZWN0aW9uX3NvdXJjZX08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICA8cD5cbiAgICAgICAgPGk+Q2UgcmFwcG9ydCBhIMOpdMOpIGfDqW7DqXLDqSBwYXIgbCdhcHBsaWNhdGlvbiBSZWdpb3ZpeiwgY29uY2VwdHVhbGlzw6llIGV0IGRldmVsb3Bww6llIHBhciBsJ1VNUyBSSUFURSBlbiAyMDE4IGRhbnMgbGUgY2FkcmUgZCd1biBwcm9qZXQgQ0dFVCBhc3NvY2lhbnQgbGVzIFNlY3LDqXRhaXJlcyBHw6luw6lyYXV4IHBvdXIgbGVzIEFmZmFpcmVzIFLDqWdpb25hbGVzIChTR0FSKS48L2k+XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9ib2R5PmA7XG4gIHJldHVybiBuZXdfaHRtbF9kb2M7XG59XG5cbmV4cG9ydCB7XG4gIGNvbXAsXG4gIGNvbXAyLFxuICBtYXRoX2FicyxcbiAgbWF0aF9yb3VuZCxcbiAgbWF0aF9taW4sXG4gIG1hdGhfc2luLFxuICBtYXRoX2NvcyxcbiAgbWF0aF9tYXgsXG4gIG1hdGhfc3FydCxcbiAgbWF0aF9wb3csXG4gIEhBTEZfUEksXG4gIFJlY3QsXG4gIFByb3BTaXplcixcbiAgdW5iaW5kVUksXG4gIHByZXBhcmVUb29sdGlwMixcbiAgcmVtb3ZlRHVwbGljYXRlcyxcbiAgZ2V0U3ZnUGF0aFR5cGUsXG4gIHN2Z1BhdGhUb0Nvb3JkcyxcbiAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rLFxuICBfZ2V0UFIsXG4gIGdldE1lYW4sXG4gIGdldFN0ZERldixcbiAgZ2V0U3RhbmRhcmRpemVkTWVhblN0ZERldixcbiAgc2h1ZmZsZSxcbiAgZXVjbGlkaWFuX2Rpc3RhbmNlLFxuICBzZWxlY3RGaXJzdEF2YWlsYWJsZVZhcixcbiAgcHJlcGFyZUdlb21MYXllcklkLFxuICBnZXRSYW5kb20sXG4gIFRvb2x0aXBzaWZ5LFxuICBnZXRFbGVtZW50c0Zyb21Qb2ludCxcbiAgZ2V0UmF0aW9Ub1dpZGUsXG4gIGZvcm1hdE51bWJlcixcbiAgZ2V0U3R5bGUsXG4gIGdldFN0eWxlUHJvcGVydHksXG4gIG5vQ29udGV4dE1lbnUsXG4gIGV4cG9ydEh0bWxSYXBwb3J0LFxuICBjbGlja0RsUGRmLFxufTtcbiIsImltcG9ydCB7IHJlbW92ZUR1cGxpY2F0ZXMgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcblxuXG5jb25zdCBjcmVhdGVNZW51ID0gZnVuY3Rpb24gY3JlYXRlTWVudShuYW1lcywgdmFyaWFibGVzLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCkge1xuICAvLyBGaXJzdCBzZWN0aW9uLCByZWdpb25zIG5hbWVzOlxuICAvLyBjb25zdCB0aXRsZV9zZWN0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgLy8gdGl0bGVfc2VjdGlvbjEuY2xhc3NOYW1lID0gJ3RpdGxlX21lbnUnO1xuICAvLyB0aXRsZV9zZWN0aW9uMS5pbm5lckhUTUwgPSAnTWEgcsOpZ2lvbic7XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRpdGxlX3NlY3Rpb24xLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNGY4MWJkJztcbiAgdGl0bGVfc2VjdGlvbjEuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICB0aXRsZV9zZWN0aW9uMS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICB0aXRsZV9zZWN0aW9uMS5pbm5lckhUTUwgPSBgXG48ZGl2IGNsYXNzPVwicmVnaW9fbmFtZVwiPlxuPHA+TWEgcsOpZ2lvbiA6IDwvcD5cbjxpbnB1dCB0eXBlID0gXCJ0ZXh0XCIgaWQgPSBcInNlYXJjaFwiLz5cbjxpbnB1dCBpZD1cImF1dG9jb21wbGV0ZVwiIHR5cGU9XCJ0ZXh0XCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIC8+XG48c3BhbiBjbGFzcz0nZG93bl9hcnJvdyc+ICYjeDI1QkU7PC9zcGFuPmA7XG5cbiAgY29uc3Qgc2VjdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjEuaWQgPSAnbGlzdF9yZWdpbyc7XG4gIHNlY3Rpb24xLmNsYXNzTmFtZSA9ICdib3ggaGlkZGVuJztcbiAgc2VjdGlvbjEuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIC8vIHNlY3Rpb24xLnN0eWxlLmhlaWdodCA9ICcxNSUnO1xuICAvLyBzZWN0aW9uMS5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAvLyBjb25zdCBpZCA9IG5hbWVzW2ldLmlkO1xuICAgIC8vIGNvbnN0IG5hbWUgPSBuYW1lc1tpXS5uYW1lO1xuICAgIGNvbnN0IHsgaWQsIG5hbWUgfSA9IG5hbWVzW2ldO1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7aWR9XCIgY2xhc3M9J3RhcmdldF9yZWdpb24gc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke25hbWV9PC9zcGFuPmA7XG4gICAgc2VjdGlvbjEuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICB9XG5cbiAgLy8gU2Vjb25kIHNlY3Rpb24sIGdyb3VwcyBvZiB2YXJpYWJsZXM6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMi5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24yLmlubmVySFRNTCA9ICdJbmRpY2F0ZXVycyc7XG4gIGNvbnN0IHNlY3Rpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24yLmlkID0gJ21lbnVfdmFyaWFibGVzJztcbiAgc2VjdGlvbjIuY2xhc3NOYW1lID0gJ2JveCc7XG4gIHNlY3Rpb24yLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICBzZWN0aW9uMi5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gIHNlY3Rpb24yLnN0eWxlLm1heEhlaWdodCA9ICczNSUnO1xuXG4gIC8vIEZpbHRlciB0aGUgXCJ2YXJpYWJsZXNcIiB2YXJpYWJsZSB0byBmZXRjaCB0aGUgZ3JvdXAgbmFtZXMgOlxuICBjb25zdCBncm91cHNfdmFyID0gcmVtb3ZlRHVwbGljYXRlcyh2YXJpYWJsZXMubWFwKGQgPT4gZC5ncm91cCkuZmlsdGVyKGQgPT4gZCAhPT0gJ051bS9kw6lub20nKSk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gZ3JvdXBzX3Zhci5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgY29uc3QgZ3BfbmFtZSA9IGdyb3Vwc192YXJbaV07XG4gICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZW50cnkuY2xhc3NOYW1lID0gJ25hbWVfZ3JvdXBfdmFyJztcbiAgICBlbnRyeS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgZW50cnkuaW5uZXJIVE1MID0gKGkgPT09IDApXG4gICAgICA/IGA8c3BhbiBjbGFzcz0nYXJyb3cgYXJyb3dfcmlnaHQnPjwvc3Bhbj48c3Bhbj4ke2dwX25hbWV9PC9zcGFuPmBcbiAgICAgIDogYDxzcGFuIGNsYXNzPSdhcnJvdyBhcnJvd19kb3duJz48L3NwYW4+PHNwYW4+JHtncF9uYW1lfTwvc3Bhbj5gO1xuICAgIHNlY3Rpb24yLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICBjb25zdCBkaXZfZ3JwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2X2dycC5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gMCA/IG51bGwgOiAnbm9uZSc7XG4gICAgY29uc3QgdmFyX25hbWVzID0gdmFyaWFibGVzLmZpbHRlcihkID0+IGQuZ3JvdXAgPT09IGdwX25hbWUpO1xuICAgIGZvciAobGV0IGogPSAwLCBsZW5faiA9IHZhcl9uYW1lcy5sZW5ndGg7IGogPCBsZW5fajsgaisrKSB7XG4gICAgICBjb25zdCBuYW1lX3ZhciA9IHZhcl9uYW1lc1tqXS5uYW1lO1xuICAgICAgY29uc3QgY29kZV92YXIgPSB2YXJfbmFtZXNbal0uaWQ7XG4gICAgICBjb25zdCBzdWJfZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBzdWJfZW50cnkuY2xhc3NOYW1lID0gJ3NtYWxsJztcbiAgICAgIHN1Yl9lbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gdmFsdWU9XCIke2NvZGVfdmFyfVwiIGNsYXNzPVwidGFyZ2V0X3ZhcmlhYmxlIHNtYWxsX3NxdWFyZVwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7bmFtZV92YXJ9PC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgICAgZGl2X2dycC5hcHBlbmRDaGlsZChzdWJfZW50cnkpO1xuICAgIH1cbiAgICBzZWN0aW9uMi5hcHBlbmRDaGlsZChkaXZfZ3JwKTtcbiAgfVxuXG4gIC8vIFRoaXJkIHNlY3Rpb24sIHN0dWR5IHpvbmU6XG4gIGNvbnN0IHRpdGxlX3NlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICB0aXRsZV9zZWN0aW9uMy5jbGFzc05hbWUgPSAndGl0bGVfbWVudSc7XG4gIHRpdGxlX3NlY3Rpb24zLmlubmVySFRNTCA9ICdFc3BhY2UgZFxcJ8OpdHVkZSc7XG4gIGNvbnN0IHNlY3Rpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNlY3Rpb24zLmlkID0gJ21lbnVfc3R1ZHl6b25lJztcbiAgc2VjdGlvbjMuY2xhc3NOYW1lID0gJ2JveCc7XG4gIHNlY3Rpb24zLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICBzZWN0aW9uMy5zdHlsZS5tYXhIZWlnaHQgPSAnMjUlJztcbiAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gc3R1ZHlfem9uZXMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHpvbmUgPSBzdHVkeV96b25lc1tpXTtcbiAgICBpZiAoem9uZS5pZCA9PT0gJ1NQQVQnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKHpvbmUuaWQgPT09ICdmaWx0ZXJfZGlzdCcpIHtcbiAgICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiBmaWx0ZXItdmFsdWU9XCIke3pvbmUuaWR9XCIgZGlzcGxheV9sZXZlbD1cIiR7em9uZS5kaXNwbGF5X2xldmVsfVwiIGNsYXNzPSdmaWx0ZXJfdiBzcXVhcmUnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsX2Noa1wiPiR7em9uZS5uYW1lfTwvc3Bhbj48aW5wdXQgdmFsdWU9XCI0NTBcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgc3R5bGU9XCJ3aWR0aDogNTVweDsgaGVpZ2h0OiAxM3B4O1wiIHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMTAwMDAwXCIgaWQ9XCJkaXN0X2ZpbHRlclwiPjwvaW5wdXQ+PHNwYW4+IGttPC9zcGFuPjxzcGFuIGNsYXNzPVwiaV9pbmZvXCI+aTwvc3Bhbj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5pbm5lckhUTUwgPSBgPHNwYW4gZmlsdGVyLXZhbHVlPVwiJHt6b25lLmlkfVwiIGRpc3BsYXlfbGV2ZWw9XCIke3pvbmUuZGlzcGxheV9sZXZlbH1cIiBjbGFzcz0nZmlsdGVyX3Ygc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3pvbmUubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9XCJpX2luZm9cIj5pPC9zcGFuPmA7XG4gICAgfVxuICAgIHNlY3Rpb24zLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgfVxuICAvLyBGb3VydGggc2VjdGlvbjpcbiAgY29uc3QgdGl0bGVfc2VjdGlvbjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHRpdGxlX3NlY3Rpb240LmNsYXNzTmFtZSA9ICd0aXRsZV9tZW51JztcbiAgdGl0bGVfc2VjdGlvbjQuaW5uZXJIVE1MID0gJ01haWxsYWdlIHRlcnJpdG9yaWFsIGRcXCdhbmFseXNlJztcbiAgY29uc3Qgc2VjdGlvbjQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2VjdGlvbjQuaWQgPSAnbWVudV90ZXJyaXRfbGV2ZWwnO1xuICBzZWN0aW9uNC5jbGFzc05hbWUgPSAnYm94JztcbiAgc2VjdGlvbjQuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gIHNlY3Rpb240LnN0eWxlLm1heEhlaWdodCA9ICcyMCUnO1xuICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0ZXJyaXRvcmlhbF9tZXNoLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0ZXJyaXRfbGV2ZWwgPSB0ZXJyaXRvcmlhbF9tZXNoW2ldO1xuICAgIGVudHJ5LmlubmVySFRNTCA9IGA8c3BhbiB2YWx1ZT1cIiR7dGVycml0X2xldmVsLmlkfVwiIGNsYXNzPSd0ZXJyaXRfbGV2ZWwgc3F1YXJlJz48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbF9jaGtcIj4ke3RlcnJpdF9sZXZlbC5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzcz1cImlfaW5mb1wiPmk8L3NwYW4+YDtcbiAgICBzZWN0aW9uNC5hcHBlbmRDaGlsZChlbnRyeSk7XG4gIH1cblxuICBjb25zdCBzZWN0aW9uNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzZWN0aW9uNC5pZCA9ICdtZW51X3RlcnJpdF9sZXZlbCc7XG4gIHNlY3Rpb240LmNsYXNzTmFtZSA9ICdib3gnO1xuICBzZWN0aW9uNC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgc2VjdGlvbjQuc3R5bGUubWF4SGVpZ2h0ID0gJzIwJSc7XG4gIGNvbnN0IGltZzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgaW1nMi5jbGFzc05hbWUgPSAnaW1nX3NjYWxlX2xvZ28nO1xuICBpbWcyLnNyYyA9ICdpbWcvTWFyaWFubmVfQ0dFVF9SVkIucG5nJztcbiAgaW1nMi5zdHlsZS5tYXJnaW4gPSAnMC45ZW0gMC41ZW0nO1xuICAvLyBpbWcyLnN0eWxlLndpZHRoID0gJzcuNWVtJztcbiAgaW1nMi5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgY29uc3QgbG9nb19yZWdpb3ZpeiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBsb2dvX3JlZ2lvdml6LmNsYXNzTmFtZSA9ICdpbWdfc2NhbGVfbG9nbyc7XG4gIGxvZ29fcmVnaW92aXouc3JjID0gJ2ltZy9sb2dvX3JlZ2lvdml6LnBuZyc7XG4gIGxvZ29fcmVnaW92aXouc3R5bGUubWFyZ2luID0gJzAuNGVtJztcbiAgLy8gbG9nb19yZWdpb3Zpei5zdHlsZS53aWR0aCA9ICc3LjVlbSc7XG4gIGxvZ29fcmVnaW92aXouc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xuICBjb25zdCBpbWcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIGltZzEuY2xhc3NOYW1lID0gJ2ltZ19zY2FsZV9sb2dvJztcbiAgaW1nMS5zcmMgPSAnaW1nL2xvZ29fcmlhdGUucG5nJztcbiAgaW1nMS5zdHlsZS5tYXJnaW4gPSAnMC45ZW0gMC41ZW0nO1xuICAvLyBpbWcxLnN0eWxlLndpZHRoID0gJzcuNWVtJztcbiAgaW1nMS5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG4gIGNvbnN0IGJsYWJsYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgYmxhYmxhLmlkID0gJ2xpbmtfY3JlZGl0c19zb3VyY2UnO1xuICBibGFibGEuY2xhc3NOYW1lID0gJ2xpbmsnO1xuICBibGFibGEuc3R5bGUubWFyZ2luID0gJzBlbSAwLjVlbSc7XG4gIGJsYWJsYS5zdHlsZS5mb250U2l6ZSA9ICcwLjVlbSc7XG4gIGJsYWJsYS5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG4gIGJsYWJsYS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIGJsYWJsYS5pbm5lckhUTUwgPSAnQ3LDqWRpdHMgJiBpbmZvcm1hdGlvbnMgc3VwcGzDqW1lbnRhaXJlJztcblxuICBzZWN0aW9uNS5hcHBlbmRDaGlsZChpbWcyKTtcbiAgc2VjdGlvbjUuYXBwZW5kQ2hpbGQobG9nb19yZWdpb3Zpeik7XG4gIHNlY3Rpb241LmFwcGVuZENoaWxkKGltZzEpO1xuICBzZWN0aW9uNS5hcHBlbmRDaGlsZChibGFibGEpO1xuXG4gIC8vIFRoZSBhY3R1YWwgbWVudSBjb250YWluaW5nIHRoZXNlIDUgc2VjdGlvbnM6XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuICBtZW51LmlkID0gJ21lbnUnO1xuICBtZW51LnN0eWxlLmZsb2F0ID0gJ2xlZnQnO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb24xKTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uMSk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQodGl0bGVfc2VjdGlvbjIpO1xuICBtZW51LmFwcGVuZENoaWxkKHNlY3Rpb24yKTtcbiAgbWVudS5hcHBlbmRDaGlsZCh0aXRsZV9zZWN0aW9uMyk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjMpO1xuICBtZW51LmFwcGVuZENoaWxkKHRpdGxlX3NlY3Rpb240KTtcbiAgbWVudS5hcHBlbmRDaGlsZChzZWN0aW9uNCk7XG4gIG1lbnUuYXBwZW5kQ2hpbGQoc2VjdGlvbjUpO1xuICAvLyBoYW5kbGVJbnB1dFJlZ2lvTmFtZShuYW1lcyk7XG59O1xuXG5jb25zdCBoYW5kbGVJbnB1dFJlZ2lvTmFtZSA9IChhbGxvd2VkX25hbWVzKSA9PiB7XG4gIGNvbnN0IGlkc19uYW1lcyA9IHt9O1xuICBhbGxvd2VkX25hbWVzLmZvckVhY2goKGZ0KSA9PiB7IGlkc19uYW1lc1tmdC5uYW1lLnRvTG93ZXJDYXNlKCldID0gZnQuaWQ7IH0pO1xuICBjb25zdCBuYW1lcyA9IGFsbG93ZWRfbmFtZXMubWFwKGQgPT4gZC5uYW1lLnRvVXBwZXJDYXNlKCkpO1xuICBjb25zdCBuYW1lczIgPSBuYW1lcy5tYXAoZCA9PiBkLnRvTG93ZXJDYXNlKCkpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gnKS5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpZHNfbmFtZXNbdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9jb21wbGV0ZScpLnZhbHVlID0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZTtcbiAgICAgIHRoaXMudmFsdWUgPSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdF9yZWdpbycpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9O1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gnKS5vbmtleXVwID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b2NvbXBsZXRlJykudmFsdWUgPSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lO1xuICAgICAgLy8gdGhpcy52YWx1ZSA9IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0X3JlZ2lvJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgY29uc3QgbmV3X3ZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b2NvbXBsZXRlJykudmFsdWUgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzMi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG5hbWVzMltpXS5sYXN0SW5kZXhPZihuZXdfdmFsdWUsIDApID09PSAwKSB7XG4gICAgICAgIGlmIChldiAmJiAoZXYua2V5ID09PSAnVGFiJyB8fCBldi5rZXkgPT09ICdFbnRlcicpKSB7XG4gICAgICAgICAgY29uc3QgdCA9IHZhbHVlICsgbmFtZXMyW2ldLnN1YnN0cihuZXdfdmFsdWUubGVuZ3RoLCBuYW1lczJbaV0ubGVuZ3RoKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJykudmFsdWUgPSB0O1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvY29tcGxldGUnKS52YWx1ZSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyX2FmdGVyID0gbmFtZXMyW2ldLnN1YnN0cihuZXdfdmFsdWUubGVuZ3RoLCBuYW1lczJbaV0ubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgbmV3X3N0ciA9IHZhbHVlICsgc3RyX2FmdGVyO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b2NvbXBsZXRlJykudmFsdWUgPSBuZXdfc3RyO1xuICAgICAgICAvLyBpZiAoZXYgJiYgZXYua2V5ID09PSAnVGFiJykge1xuICAgICAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gnKS52YWx1ZSA9IG5hbWVzMltpXTtcbiAgICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXV0b2NvbXBsZXRlJykudmFsdWUgPSBuYW1lczJbaV07XG4gICAgICAgIC8vICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGNvbnN0IHN0cl9hZnRlciA9IG5hbWVzMltpXS5zdWJzdHIobmV3X3ZhbHVlLmxlbmd0aCwgbmFtZXMyW2ldLmxlbmd0aCk7XG4gICAgICAgIC8vIGNvbnN0IG5ld19zdHIgPSB2YWx1ZSArIHN0cl9hZnRlcjtcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9jb21wbGV0ZScpLnZhbHVlID0gbmV3X3N0cjtcbiAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9jb21wbGV0ZScpLnZhbHVlO1xuICAgIGNvbnN0IGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJykudmFsdWU7XG4gICAgY29uc3QgY29kZSA9IGlkc19uYW1lc1thLnRvTG93ZXJDYXNlKCldO1xuICAgIGlmIChhID09PSBiICYmIGNvZGUpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YXJnZXRfcmVnaW9uLnNxdWFyZVt2YWx1ZT1cIiR7Y29kZX1cIl1gKS5jbGljaygpO1xuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgeyBjcmVhdGVNZW51LCBoYW5kbGVJbnB1dFJlZ2lvTmFtZSB9O1xuIiwiaW1wb3J0IHRpbmdsZSBmcm9tICd0aW5nbGUuanMnO1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnLi8uLi9tYWluJztcbmltcG9ydCB7IGV4cG9ydEh0bWxSYXBwb3J0LCBjbGlja0RsUGRmIH0gZnJvbSAnLi9oZWxwZXJzJztcblxuLyoqXG4qIEZ1bmN0aW9uIHRvIHByZXBhcmUgdGhlIG1lbnUsIGxvY2F0ZWQgb24gdGhlIHRvcCBvZiB0aGUgd2luZG93LCBhbGxvd2luZyB0byBjaG9vc2VcbiogYmV0d2VlbiB0aGUgdmFyaW91cyBraW5kIG9mIGNoYXJ0cyBvZmZlcmVkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cbiogVGhlIGZ1bmN0aW9uIG9ubHkgY3JlYXRlcyB0aGUgZWxlbWVudCBvbiB0aGUgRE9NLiBCaW5kaW5nIGlzIG1hZGUgbGF0ZXIuXG4qXG4qIEByZXR1cm4ge1ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUb3BNZW51KCkge1xuICBjb25zdCB0b3BfbWVudSA9IGQzLnNlbGVjdCgnI21lbnV0b3AnKVxuICAgIC5zdHlsZXMoeyAnZm9udC1mYW1pbHknOiBcIidTaWduaWthJywgc2Fucy1zZXJpZlwiLCAnZm9udC1zaXplJzogJzAuODBlbScsICd0ZXh0LWFsaWduJzogJ2NlbnRlcicgfSk7XG5cbiAgdG9wX21lbnVcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRycyh7IGNsYXNzOiAndGl0bGVfc2VjdGlvbiB0MScgfSlcbiAgICAuaHRtbCgnU8OJTEVDVElPTicpO1xuXG4gIGNvbnN0IHR5cGVfY2hhcnQgPSB0b3BfbWVudVxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RvcF9zZWN0aW9uIHQyJylcbiAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnZmxleCcpO1xuXG4gIGNvbnN0IHBvc2l0aW9uID0gdHlwZV9jaGFydFxuICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3R5cGVfY29tcGFyYWlzb24nKTtcblxuICBwb3NpdGlvbi5hcHBlbmQoJ3AnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZV90eXBlX2NvbXAnKVxuICAgIC5odG1sKCdQT1NJVElPTicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QxIHNlbGVjdGVkJywgdmFsdWU6ICdCYXJDaGFydDEnIH0pXG4gICAgLmh0bWwoJzEgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QyIGRpc2FibGVkJywgdmFsdWU6ICdTY2F0dGVyUGxvdDInIH0pXG4gICAgLmh0bWwoJzIgaW5kLicpO1xuXG4gIHBvc2l0aW9uLmFwcGVuZCgnc3BhbicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICd0eXBlX2NoYXJ0IGNoYXJ0X3QzIGRpc2FibGVkJywgdmFsdWU6ICdSYWRhckNoYXJ0MycgfSlcbiAgICAuaHRtbCgnKzMgaW5kLicpO1xuXG4gIGNvbnN0IHJlc3NlbWJsYW5jZSA9IHR5cGVfY2hhcnRcbiAgICAuYXBwZW5kKCdkaXYnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0eXBlX2NvbXBhcmFpc29uJyk7XG5cbiAgcmVzc2VtYmxhbmNlLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlX3R5cGVfY29tcCcpXG4gICAgLmh0bWwoJ1JFU1NFTUJMQU5DRVMnKTtcblxuICByZXNzZW1ibGFuY2UuYXBwZW5kKCdzcGFuJylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3R5cGVfY2hhcnQgY2hhcnRfdDEnLCB2YWx1ZTogJ1NpbWlsYXJpdHkxcGx1cycgfSlcbiAgICAuaHRtbCgnKzEgaW5kLicpO1xuXG4gIHRvcF9tZW51XG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cnMoeyBjbGFzczogJ3RpdGxlX3NlY3Rpb24gdDMnIH0pXG4gICAgLmh0bWwoJ1FVRUxMRVMgUsOJR0lPTlMgPycpO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gcHJlcGFyZSB0aGUgaWNvbnMgZGlzcGxheWVkIG9uIHRoZSB0b3Agb2YgdGhlIG1hcC5cbiogVGhlIGZ1bmN0aW9uIG9ubHkgY3JlYXRlcyB0aGUgZWxlbWVudCBvbiB0aGUgRE9NLiBCaW5kaW5nIGlzIG1hZGUgbGF0ZXIuXG4qXG4qIEByZXR1cm4ge1ZvaWR9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCkge1xuICBjb25zdCBoZWFkZXJfbWFwX3NlY3Rpb24gPSBkMy5zZWxlY3QoJyNtYXBfc2VjdGlvbicpXG4gICAgLmluc2VydCgnZGl2JywgJy5jb250X3N2Zy5jbWFwJylcbiAgICAuYXR0cignaWQnLCAnaGVhZGVyX21hcCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdmaWx0ZXJfaW5mbycsIHRpdGxlOiAnRXNwYWNlIGRcXCfDqXR1ZGUnIH0pO1xuXG4gIGNvbnN0IGNvbXBsZXR1ZGVfc2VjdGlvbiA9IGhlYWRlcl9tYXBfc2VjdGlvbi5hcHBlbmQoJ2RpdicpXG4gICAgLmF0dHJzKHsgY2xhc3M6ICdjb21wbGV0dWRlX3NlY3Rpb24nLCB0aXRsZTogJ0NvbXBsw6l0dWRlIGRlIGxcXCdpbmZvcm1hdGlvbicgfSk7XG5cbiAgY29tcGxldHVkZV9zZWN0aW9uLmFwcGVuZCgncCcpXG4gICAgLmF0dHIoJ2lkJywgJ2NvbXBsZXR1ZGVfZmVhdHVyZXMnKTtcblxuICBjb21wbGV0dWRlX3NlY3Rpb24uYXBwZW5kKCdwJylcbiAgICAuYXR0cignaWQnLCAnY29tcGxldHVkZV9wb3B1bGF0aW9uJyk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uIGFjdGl2ZSBpbWdfc2NhbGUnLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLXRvb2wtcmVjdC1zZWxlY3QucG5nJyxcbiAgICAgIGlkOiAnaW1nX3JlY3Rfc2VsZWMnLFxuICAgICAgdGl0bGU6ICdSZWN0YW5nbGUgZGUgc8OpbGVjdGlvbicsXG4gICAgfSk7XG5cbiAgaGVhZGVyX21hcF9zZWN0aW9uLmluc2VydCgnaW1nJylcbiAgICAuYXR0cnMoe1xuICAgICAgY2xhc3M6ICdtYXBfYnV0dG9uIGltZ19zY2FsZScsXG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL2dpbXAtdG9vbC16b29tLnBuZycsXG4gICAgICBpZDogJ2ltZ19tYXBfem9vbScsXG4gICAgICB0aXRsZTogJ1pvb20nLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIGNsYXNzOiAnbWFwX2J1dHRvbiBpbWdfc2NhbGUnLFxuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIHNyYzogJ2ltZy9naW1wLWN1cnNvci5wbmcnLFxuICAgICAgaWQ6ICdpbWdfbWFwX3NlbGVjdCcsXG4gICAgICB0aXRsZTogJ1PDqWxlY3Rpb24gcGFyIGNsaWMnLFxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2RpdicpXG4gICAgLmF0dHJzKHtcbiAgICAgIGlkOiAnem9vbV9pbicsXG4gICAgICBjbGFzczogJ3RvcF9oYWxmX2NpcmNsZSBub3NlbGVjdCcsXG4gICAgICB0aXRsZTogJ1pvb20gcG9zaXRpZicsXG4gICAgfSlcbiAgICAuYXBwZW5kKCdzcGFuJylcbiAgICAudGV4dCgnKycpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5pbnNlcnQoJ2RpdicpXG4gICAgLmF0dHJzKHtcbiAgICAgIGlkOiAnem9vbV9vdXQnLFxuICAgICAgY2xhc3M6ICd0b3BfaGFsZl9jaXJjbGUgbm9zZWxlY3QnLFxuICAgICAgdGl0bGU6ICdab29tIG7DqWdhdGlmJyxcbiAgICB9KVxuICAgIC5hcHBlbmQoJ3NwYW4nKVxuICAgIC50ZXh0KCctJyk7XG59XG5cbi8qKlxuKiBGdW5jdGlvbiB0byBwcmVwYXJlIHRoZSBpY29ucyBkaXNwbGF5ZWQgb24gdGhlIHRvcCBvZiB0aGUgY2hhcnQuXG4qIFRoZSBmdW5jdGlvbiBjcmVhdGVzIHRoZSBlbGVtZW50cyBvbiB0aGUgRE9NIGFuZCBiaW5kIGNsaWNrIGV2ZW50cyBvblxuKiB0aGVzZSBlbGVtZW50cyAodGhlIGJlaGF2aW9yIG9mIHRoZSBkaWZmZXJlbnQgZGlhbG9ncyBjcmVhdGVkIGlzIGRldGVybWluZWRcbiogYXQgdGhlaXIgb3BlbmluZyBieSBzb21lIGluZm9ybWF0aW9ucyBwcmVzZW50IGluIHRoZSBnbG9iYWwgdmFyaWFibGUgJ2FwcCcpLlxuKlxuKiBAcmV0dXJuIHtWb2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyQ2hhcnQoKSB7XG4gIGNvbnN0IGhlYWRlcl9iYXJfc2VjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAuaW5zZXJ0KCdwJywgJy5jb250X3N2Zy5jY2hhcnQnKVxuICAgIC5hdHRyKCdpZCcsICdoZWFkZXJfY2hhcnQnKVxuICAgIC5zdHlsZSgnbWFyZ2luLWJvdHRvbScsICcwJylcbiAgICAuc3R5bGUoJ2NsZWFyJywgJ2JvdGgnKTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL3BpY3RvX2Rvd25sb2FkMi5wbmcnLFxuICAgICAgaWQ6ICdpbWdfdGFibGUnLFxuICAgICAgdGl0bGU6ICdUw6lsw6ljaGFyZ2VtZW50IGRlcyBkb25uw6llcycsXG4gICAgICBjbGFzczogJ2ltZ19zY2FsZScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBgPGRpdiBpZD1cInByZXBfcmFwcG9ydFwiPjxoMz5Eb25uw6llcyBlbiBjb3VycyBkZSBwcsOpcGFyYXRpb24uLi48L2gzPlxuPGRpdiBjbGFzcz1cInNwaW5uZXJcIj48ZGl2IGNsYXNzPVwiY3ViZTFcIj48L2Rpdj48ZGl2IGNsYXNzPVwiY3ViZTJcIj48L2Rpdj48L2Rpdj48L2Rpdj5gO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2VzY2FwZSddLFxuICAgICAgICBjbG9zZUxhYmVsOiAnQ2xvc2UnLFxuICAgICAgICBvbk9wZW4oKSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnRpbmdsZS1tb2RhbC50aW5nbGUtbW9kYWwtLXZpc2libGUnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwwLDAsMC40KSc7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgbW9kYWwuZGVzdHJveSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG1vZGFsLnNldENvbnRlbnQoYDxoMz5Uw6lsw6ljaGFyZ2VtZW50czwvaDM+PGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPlxuPHA+PGEgY2xhc3M9XCJidXR0b25Eb3dubG9hZCBsYXJnZVwiIGlkPVwiZGxfZGF0YVwiIGhyZWY9XCIjXCI+VGFibGUgZGUgZG9ubsOpZXMgKC5jc3YpPC9hPjwvcD5cbjxwPjxhIGNsYXNzPVwiYnV0dG9uRG93bmxvYWQgbGFyZ2VcIiBpZD1cImRsX21ldGFkYXRhXCIgaHJlZj1cImRhdGEvTWV0YWRvbm5lZXNfUmVnaW92aXoucGRmXCI+RmljaGUgZGUgbcOpdGFkb25uw6llcyAoLnBkZik8L2E+PC9wPlxuPHA+PGEgY2xhc3M9XCJidXR0b25Eb3dubG9hZCBsYXJnZVwiIGlkPVwiZGxfZ2VvbGF5ZXJcIiBocmVmPVwiI1wiIGRvd25sb2FkPkZvbmQgZGUgY2FydGUgKC5nZW9qc29uKTwvYT48L3A+PC9kaXY+YCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkbF9tZXRhZGF0YScpLm9uY2xpY2sgPSBjbGlja0RsUGRmO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGxfZGF0YScpLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgICAgICAgIGNvbnN0IG51bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgICAgICAgIGNvbnN0IGRlbnVtcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5kZW51bTtcbiAgICAgICAgICBjb25zdCBjb2x1bW5zID0gWydpZCcsICduYW1lJ107XG4gICAgICAgICAgcmF0aW9zLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaCh2KTtcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaChudW1zW2ldKTtcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaChkZW51bXNbaV0pO1xuICAgICAgICAgICAgY29sdW1ucy5wdXNoKGBwcl8ke3Z9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGV0IHRhYmxlX2NvbnRlbnQgPSBbXG4gICAgICAgICAgICBjb2x1bW5zLmpvaW4oJywnKSwgJ1xcclxcbiddO1xuICAgICAgICAgIGFwcC5jaGFydC5jdXJyZW50X2lkcy5mb3JFYWNoKChpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGwxID0gYXBwLmN1cnJlbnRfZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gaWR4KTtcbiAgICAgICAgICAgIGNvbnN0IGwyID0gYXBwLmNoYXJ0LmRhdGEuZmluZChkID0+IGQuaWQgPT09IGlkeCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsMSwgbDIpO1xuICAgICAgICAgICAgdGFibGVfY29udGVudC5wdXNoKGNvbHVtbnMubWFwKGMgPT4gbDFbY10gfHwgbDJbY10pLmpvaW4oJywnKSk7XG4gICAgICAgICAgICB0YWJsZV9jb250ZW50LnB1c2goJ1xcclxcbicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIGFwcC5jdXJyZW50X2RhdGEubWFwKGQgPT4gY29sdW1ucy5tYXAoYyA9PiBkW2NdKS5qb2luKCcsJykpLmpvaW4oJ1xcclxcbicpLFxuICAgICAgICAgIHRhYmxlX2NvbnRlbnQgPSB0YWJsZV9jb250ZW50LmpvaW4oJycpO1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQodGFibGVfY29udGVudCl9YCk7XG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ1JlZ2lvdml6X2V4cG9ydC5jc3YnKTtcbiAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RsX2dlb2xheWVyJykub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICBkMy5yZXF1ZXN0KCdkYXRhL0NHRVRfbnV0c19hbGwuZ2VvanNvbicsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgYGRhdGE6YXBwbGljYXRpb24vZ2VvK2pzb247Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChyZXN1bHQucmVzcG9uc2UpfWApO1xuICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ0NHRVRfbnV0c19hbGwuZ2VvanNvbicpO1xuICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKGVsZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIHdpbmRvdy5vcGVuKCdkYXRhL0NHRVRfbnV0c19hbGwuZ2VvanNvbicpO1xuICAgICAgICB9O1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4vLyBvbmNsaWNrPVwidGhpcy5ocmVmPScjJzsgd2luZG93Lm9wZW4oJ2RhdGEvTWV0YWRvbm5lZXNfUmVnaW92aXoucGRmJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7IHRoaXMuaHJlZj0nZGF0YS9NZXRhZG9ubmVlc19SZWdpb3Zpei5wZGYnO3JldHVybiBmYWxzZTtcIlxuXG4gIGhlYWRlcl9iYXJfc2VjdGlvbi5pbnNlcnQoJ2ltZycpXG4gICAgLmF0dHJzKHtcbiAgICAgIHdpZHRoOiAyMCxcbiAgICAgIGhlaWdodDogMjAsXG4gICAgICBzcmM6ICdpbWcvcGljdG9fcmVwb3J0Mi5wbmcnLFxuICAgICAgaWQ6ICdpbWdfcHJpbnRlcicsXG4gICAgICB0aXRsZTogJ0V4cG9ydCBkXFwndW4gcmFwcG9ydCcsXG4gICAgICBjbGFzczogJ2ltZ19zY2FsZScsXG4gICAgfSlcbiAgICAuc3R5bGVzKHsgbWFyZ2luOiAnM3B4JywgZmxvYXQ6ICdyaWdodCcsIGN1cnNvcjogJ3BvaW50ZXInIH0pXG4gICAgLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGxldCBocmVmO1xuICAgICAgY29uc3QgY29udGVudCA9IGA8ZGl2IGlkPVwicHJlcF9yYXBwb3J0XCI+PGgzPlJhcHBvcnQgZW4gY291cnMgZGUgcHLDqXBhcmF0aW9uLi4uPC9oMz5cbjxkaXYgY2xhc3M9XCJzcGlubmVyXCI+PGRpdiBjbGFzcz1cImN1YmUxXCI+PC9kaXY+PGRpdiBjbGFzcz1cImN1YmUyXCI+PC9kaXY+PC9kaXY+PC9kaXY+YDtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgICBzdGlja3lGb290ZXI6IGZhbHNlLFxuICAgICAgICBjbG9zZU1ldGhvZHM6IFsnb3ZlcmxheScsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGhyZWYpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBtb2RhbC5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBhcHAuY2hhcnQuZ2V0VGVtcGxhdGVIZWxwKCk7XG4gICAgICBjb25zdCBodG1sX2RvYyA9IGV4cG9ydEh0bWxSYXBwb3J0KHNlY3Rpb25zLCBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lKTtcbiAgICAgIC8vIGNvbnN0IGhyZWYgPSBgZGF0YTp0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChodG1sX2RvYyl9YDtcbiAgICAgIGhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtodG1sX2RvY10sIHsgdHlwZTogJ3RleHQvaHRtbCcgfSkpO1xuICAgICAgLy8gZWxlbS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChodG1sX2RvYyl9YCk7XG4gICAgICAvLyBlbGVtLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAncmFwcG9ydC5odG1sJyk7XG4gICAgICAvLyBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbW9kYWwuc2V0Q29udGVudChgPGRpdiBpZD1cInByZXBfcmFwcG9ydFwiPjxwPjxhIGNsYXNzPVwiYnV0dG9uRG93bmxvYWRcIiBpZD1cImRsX3JhcHBvcnRcIiBkb3dubG9hZD1cIlJlZ2lvdml6X3JhcHBvcnQuaHRtbFwiIGhyZWY9XCIke2hyZWZ9XCI+VMOpbMOpY2hhcmdlcjwvYT48L3A+PC9kaXY+YCk7XG4gICAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkbF9yYXBwb3J0Jykub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICAvLyAgIGVsZW0uY2xpY2soKTtcbiAgICAgICAgLy8gICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICAvLyB9O1xuICAgICAgfSwgMjUwKTtcbiAgICB9KTtcblxuICBoZWFkZXJfYmFyX3NlY3Rpb24uaW5zZXJ0KCdpbWcnKVxuICAgIC5hdHRycyh7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgc3JjOiAnaW1nL3BpY3RvX2luZm9ybWF0aW9uMi5wbmcnLFxuICAgICAgaWQ6ICdpbWdfaW5mbycsXG4gICAgICB0aXRsZTogJ0FpZGUnLFxuICAgICAgY2xhc3M6ICdpbWdfc2NhbGUnLFxuICAgIH0pXG4gICAgLnN0eWxlcyh7IG1hcmdpbjogJzNweCcsIGZsb2F0OiAncmlnaHQnLCBjdXJzb3I6ICdwb2ludGVyJyB9KVxuICAgIC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBoZWxwX21lc3NhZ2UgPSBhcHAuY2hhcnQuZ2V0SGVscE1lc3NhZ2UoKS5zcGxpdCgnXFxuJykuam9pbignPGJyPicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChoZWxwX21lc3NhZ2UpO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgIH0pO1xufVxuIiwiLyoqXG4gKiBFYXJ0aCBSYWRpdXMgdXNlZCB3aXRoIHRoZSBIYXJ2ZXNpbmUgZm9ybXVsYSBhbmQgYXBwcm94aW1hdGVzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBFYXJ0aC5cbiAqL1xudmFyIGVhcnRoUmFkaXVzID0gNjM3MTAwOC44O1xuXG4vKipcbiAqIFVuaXQgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyB1c2luZyBhIHNwaGVyaWNhbCAobm9uLWVsbGlwc29pZCkgZWFydGggcmFkaXVzLlxuICovXG52YXIgZmFjdG9ycyA9IHtcbiAgICBtZXRlcnM6IGVhcnRoUmFkaXVzLFxuICAgIG1ldHJlczogZWFydGhSYWRpdXMsXG4gICAgbWlsbGltZXRlcnM6IGVhcnRoUmFkaXVzICogMTAwMCxcbiAgICBtaWxsaW1ldHJlczogZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIGNlbnRpbWV0ZXJzOiBlYXJ0aFJhZGl1cyAqIDEwMCxcbiAgICBjZW50aW1ldHJlczogZWFydGhSYWRpdXMgKiAxMDAsXG4gICAga2lsb21ldGVyczogZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IGVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBtaWxlczogZWFydGhSYWRpdXMgLyAxNjA5LjM0NCxcbiAgICBuYXV0aWNhbG1pbGVzOiBlYXJ0aFJhZGl1cyAvIDE4NTIsXG4gICAgaW5jaGVzOiBlYXJ0aFJhZGl1cyAqIDM5LjM3MCxcbiAgICB5YXJkczogZWFydGhSYWRpdXMgLyAxLjA5MzYsXG4gICAgZmVldDogZWFydGhSYWRpdXMgKiAzLjI4MDg0LFxuICAgIHJhZGlhbnM6IDEsXG4gICAgZGVncmVlczogZWFydGhSYWRpdXMgLyAxMTEzMjUsXG59O1xuXG4vKipcbiAqIFVuaXRzIG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgYmFzZWQgb24gMSBtZXRlci5cbiAqL1xudmFyIHVuaXRzRmFjdG9ycyA9IHtcbiAgICBtZXRlcnM6IDEsXG4gICAgbWV0cmVzOiAxLFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwLFxuICAgIGNlbnRpbWV0ZXJzOiAxMDAsXG4gICAgY2VudGltZXRyZXM6IDEwMCxcbiAgICBraWxvbWV0ZXJzOiAxIC8gMTAwMCxcbiAgICBraWxvbWV0cmVzOiAxIC8gMTAwMCxcbiAgICBtaWxlczogMSAvIDE2MDkuMzQ0LFxuICAgIG5hdXRpY2FsbWlsZXM6IDEgLyAxODUyLFxuICAgIGluY2hlczogMzkuMzcwLFxuICAgIHlhcmRzOiAxIC8gMS4wOTM2LFxuICAgIGZlZXQ6IDMuMjgwODQsXG4gICAgcmFkaWFuczogMSAvIGVhcnRoUmFkaXVzLFxuICAgIGRlZ3JlZXM6IDEgLyAxMTEzMjUsXG59O1xuXG4vKipcbiAqIEFyZWEgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIHNxdWFyZSBtZXRlci5cbiAqL1xudmFyIGFyZWFGYWN0b3JzID0ge1xuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsbGltZXRlcnM6IDEwMDAwMDAsXG4gICAgbWlsbGltZXRyZXM6IDEwMDAwMDAsXG4gICAgY2VudGltZXRlcnM6IDEwMDAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAwMCxcbiAgICBraWxvbWV0ZXJzOiAwLjAwMDAwMSxcbiAgICBraWxvbWV0cmVzOiAwLjAwMDAwMSxcbiAgICBhY3JlczogMC4wMDAyNDcxMDUsXG4gICAgbWlsZXM6IDMuODZlLTcsXG4gICAgeWFyZHM6IDEuMTk1OTkwMDQ2LFxuICAgIGZlZXQ6IDEwLjc2MzkxMDQxNyxcbiAgICBpbmNoZXM6IDE1NTAuMDAzMTAwMDA2XG59O1xuXG4vKipcbiAqIFdyYXBzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGluIGEgR2VvSlNPTiB7QGxpbmsgRmVhdHVyZX0uXG4gKlxuICogQG5hbWUgZmVhdHVyZVxuICogQHBhcmFtIHtHZW9tZXRyeX0gZ2VvbWV0cnkgaW5wdXQgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZX0gYSBHZW9KU09OIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvbWV0cnkgPSB7XG4gKiAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNTBdXG4gKiB9O1xuICpcbiAqIHZhciBmZWF0dXJlID0gdHVyZi5mZWF0dXJlKGdlb21ldHJ5KTtcbiAqXG4gKiAvLz1mZWF0dXJlXG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmUoZ2VvbWV0cnksIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zIGlzIGludmFsaWQnKTtcbiAgICB2YXIgYmJveCA9IG9wdGlvbnMuYmJveDtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmlkO1xuXG4gICAgLy8gVmFsaWRhdGlvblxuICAgIGlmIChnZW9tZXRyeSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKHByb3BlcnRpZXMgJiYgcHJvcGVydGllcy5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB0aHJvdyBuZXcgRXJyb3IoJ3Byb3BlcnRpZXMgbXVzdCBiZSBhbiBPYmplY3QnKTtcbiAgICBpZiAoYmJveCkgdmFsaWRhdGVCQm94KGJib3gpO1xuICAgIGlmIChpZCkgdmFsaWRhdGVJZChpZCk7XG5cbiAgICAvLyBNYWluXG4gICAgdmFyIGZlYXQgPSB7dHlwZTogJ0ZlYXR1cmUnfTtcbiAgICBpZiAoaWQpIGZlYXQuaWQgPSBpZDtcbiAgICBpZiAoYmJveCkgZmVhdC5iYm94ID0gYmJveDtcbiAgICBmZWF0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICAgIGZlYXQuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICByZXR1cm4gZmVhdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGZyb20gYSBHZW9tZXRyeSBzdHJpbmcgdHlwZSAmIGNvb3JkaW5hdGVzLlxuICogRm9yIEdlb21ldHJ5Q29sbGVjdGlvbiB0eXBlIHVzZSBgaGVscGVycy5nZW9tZXRyeUNvbGxlY3Rpb25gXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEdlb21ldHJ5IFR5cGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBHZW9tZXRyeVxuICogQHJldHVybnMge0dlb21ldHJ5fSBhIEdlb0pTT04gR2VvbWV0cnlcbiAqIEBleGFtcGxlXG4gKiB2YXIgdHlwZSA9ICdQb2ludCc7XG4gKiB2YXIgY29vcmRpbmF0ZXMgPSBbMTEwLCA1MF07XG4gKlxuICogdmFyIGdlb21ldHJ5ID0gdHVyZi5nZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcyk7XG4gKlxuICogLy89Z2VvbWV0cnlcbiAqL1xuZnVuY3Rpb24gZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMsIG9wdGlvbnMpIHtcbiAgICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCFpc09iamVjdChvcHRpb25zKSkgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zIGlzIGludmFsaWQnKTtcbiAgICB2YXIgYmJveCA9IG9wdGlvbnMuYmJveDtcblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBpZiAoIXR5cGUpIHRocm93IG5ldyBFcnJvcigndHlwZSBpcyByZXF1aXJlZCcpO1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgaXMgcmVxdWlyZWQnKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIG11c3QgYmUgYW4gQXJyYXknKTtcbiAgICBpZiAoYmJveCkgdmFsaWRhdGVCQm94KGJib3gpO1xuXG4gICAgLy8gTWFpblxuICAgIHZhciBnZW9tO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ1BvaW50JzogZ2VvbSA9IHBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTGluZVN0cmluZyc6IGdlb20gPSBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnUG9seWdvbic6IGdlb20gPSBwb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6IGdlb20gPSBtdWx0aVBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzogZ2VvbSA9IG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7IGJyZWFrO1xuICAgIGNhc2UgJ011bHRpUG9seWdvbic6IGdlb20gPSBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMpLmdlb21ldHJ5OyBicmVhaztcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IodHlwZSArICcgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgICBpZiAoYmJveCkgZ2VvbS5iYm94ID0gYmJveDtcbiAgICByZXR1cm4gZ2VvbTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvaW50fSB7QGxpbmsgRmVhdHVyZX0gZnJvbSBhIFBvc2l0aW9uLlxuICpcbiAqIEBuYW1lIHBvaW50XG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIGxvbmdpdHVkZSwgbGF0aXR1ZGUgcG9zaXRpb24gKGVhY2ggaW4gZGVjaW1hbCBkZWdyZWVzKVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gYSBQb2ludCBmZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSk7XG4gKlxuICogLy89cG9pbnRcbiAqL1xuZnVuY3Rpb24gcG9pbnQoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5Jyk7XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBiZSBhdCBsZWFzdCAyIG51bWJlcnMgbG9uZycpO1xuICAgIGlmICghaXNOdW1iZXIoY29vcmRpbmF0ZXNbMF0pIHx8ICFpc051bWJlcihjb29yZGluYXRlc1sxXSkpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBjb250YWluIG51bWJlcnMnKTtcblxuICAgIHJldHVybiBmZWF0dXJlKHtcbiAgICAgICAgdHlwZTogJ1BvaW50JyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgfSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvaW50IGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIHBvaW50c1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGVhY2ggRmVhdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IFBvaW50IEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnRzID0gdHVyZi5wb2ludHMoW1xuICogICBbLTc1LCAzOV0sXG4gKiAgIFstODAsIDQ1XSxcbiAqICAgWy03OCwgNTBdXG4gKiBdKTtcbiAqXG4gKiAvLz1wb2ludHNcbiAqL1xuZnVuY3Rpb24gcG9pbnRzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBpcyByZXF1aXJlZCcpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheScpO1xuXG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludChjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvbHlnb259IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIExpbmVhclJpbmdzLlxuICpcbiAqIEBuYW1lIHBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBQb2x5Z29uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLCB7IG5hbWU6ICdwb2x5MScgfSk7XG4gKlxuICogLy89cG9seWdvblxuICovXG5mdW5jdGlvbiBwb2x5Z29uKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBpcyByZXF1aXJlZCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBpZiAocmluZy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggTGluZWFyUmluZyBvZiBhIFBvbHlnb24gbXVzdCBoYXZlIDQgb3IgbW9yZSBQb3NpdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nW3JpbmcubGVuZ3RoIC0gMV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBvaW50IG9mIFBvbHlnb24gY29udGFpbnMgdHdvIG51bWJlcnNcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGogPT09IDAgJiYgIWlzTnVtYmVyKHJpbmdbMF1bMF0pIHx8ICFpc051bWJlcihyaW5nWzBdWzFdKSkgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVycycpO1xuICAgICAgICAgICAgaWYgKHJpbmdbcmluZy5sZW5ndGggLSAxXVtqXSAhPT0gcmluZ1swXVtqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgYW5kIGxhc3QgUG9zaXRpb24gYXJlIG5vdCBlcXVpdmFsZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZlYXR1cmUoe1xuICAgICAgICB0eXBlOiAnUG9seWdvbicsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgIH0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvbHlnb24gY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9seWdvbnNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbnMgPSB0dXJmLnBvbHlnb25zKFtcbiAqICAgW1tbLTUsIDUyXSwgWy00LCA1Nl0sIFstMiwgNTFdLCBbLTcsIDU0XSwgWy01LCA1Ml1dXSxcbiAqICAgW1tbLTE1LCA0Ml0sIFstMTQsIDQ2XSwgWy0xMiwgNDFdLCBbLTE3LCA0NF0sIFstMTUsIDQyXV1dLFxuICogXSk7XG4gKlxuICogLy89cG9seWdvbnNcbiAqL1xuZnVuY3Rpb24gcG9seWdvbnMoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5Jyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvbHlnb24oY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBMaW5lU3RyaW5nfSB7QGxpbmsgRmVhdHVyZX0gZnJvbSBhbiBBcnJheSBvZiBQb3NpdGlvbnMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5nMSA9IHR1cmYubGluZVN0cmluZyhbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSwge25hbWU6ICdsaW5lIDEnfSk7XG4gKiB2YXIgbGluZXN0cmluZzIgPSB0dXJmLmxpbmVTdHJpbmcoW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV0sIHtuYW1lOiAnbGluZSAyJ30pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmcxXG4gKiAvLz1saW5lc3RyaW5nMlxuICovXG5mdW5jdGlvbiBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBpcyByZXF1aXJlZCcpO1xuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zJyk7XG4gICAgLy8gQ2hlY2sgaWYgZmlyc3QgcG9pbnQgb2YgTGluZVN0cmluZyBjb250YWlucyB0d28gbnVtYmVyc1xuICAgIGlmICghaXNOdW1iZXIoY29vcmRpbmF0ZXNbMF1bMV0pIHx8ICFpc051bWJlcihjb29yZGluYXRlc1swXVsxXSkpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBjb250YWluIG51bWJlcnMnKTtcblxuICAgIHJldHVybiBmZWF0dXJlKHtcbiAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICB9LCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIExpbmVTdHJpbmd9IHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gZnJvbSBhbiBBcnJheSBvZiBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIGxpbmVTdHJpbmdzXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBMaW5lU3RyaW5nIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmVzdHJpbmdzID0gdHVyZi5saW5lU3RyaW5ncyhbXG4gKiAgIFtbLTI0LCA2M10sIFstMjMsIDYwXSwgWy0yNSwgNjVdLCBbLTIwLCA2OV1dLFxuICogICBbWy0xNCwgNDNdLCBbLTEzLCA0MF0sIFstMTUsIDQ1XSwgWy0xMCwgNDldXVxuICogXSk7XG4gKlxuICogLy89bGluZXN0cmluZ3NcbiAqL1xuZnVuY3Rpb24gbGluZVN0cmluZ3MoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5Jyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVTdHJpbmcoY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogVGFrZXMgb25lIG9yIG1vcmUge0BsaW5rIEZlYXR1cmV8RmVhdHVyZXN9IGFuZCBjcmVhdGVzIGEge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtGZWF0dXJlW119IGZlYXR1cmVzIGlucHV0IGZlYXR1cmVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gRmVhdHVyZUNvbGxlY3Rpb24gb2YgRmVhdHVyZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgbG9jYXRpb25BID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSwge25hbWU6ICdMb2NhdGlvbiBBJ30pO1xuICogdmFyIGxvY2F0aW9uQiA9IHR1cmYucG9pbnQoWy03NS44MzMsIDM5LjI4NF0sIHtuYW1lOiAnTG9jYXRpb24gQid9KTtcbiAqIHZhciBsb2NhdGlvbkMgPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdLCB7bmFtZTogJ0xvY2F0aW9uIEMnfSk7XG4gKlxuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgbG9jYXRpb25BLFxuICogICBsb2NhdGlvbkIsXG4gKiAgIGxvY2F0aW9uQ1xuICogXSk7XG4gKlxuICogLy89Y29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcywgb3B0aW9ucykge1xuICAgIC8vIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMgaXMgaW52YWxpZCcpO1xuICAgIHZhciBiYm94ID0gb3B0aW9ucy5iYm94O1xuICAgIHZhciBpZCA9IG9wdGlvbnMuaWQ7XG5cbiAgICAvLyBWYWxpZGF0aW9uXG4gICAgaWYgKCFmZWF0dXJlcykgdGhyb3cgbmV3IEVycm9yKCdObyBmZWF0dXJlcyBwYXNzZWQnKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmVhdHVyZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmVzIG11c3QgYmUgYW4gQXJyYXknKTtcbiAgICBpZiAoYmJveCkgdmFsaWRhdGVCQm94KGJib3gpO1xuICAgIGlmIChpZCkgdmFsaWRhdGVJZChpZCk7XG5cbiAgICAvLyBNYWluXG4gICAgdmFyIGZjID0ge3R5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbid9O1xuICAgIGlmIChpZCkgZmMuaWQgPSBpZDtcbiAgICBpZiAoYmJveCkgZmMuYmJveCA9IGJib3g7XG4gICAgZmMuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICByZXR1cm4gZmM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgTGluZVN0cmluZ3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxNdWx0aUxpbmVTdHJpbmc+fSBhIE11bHRpTGluZVN0cmluZyBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbW1swLDBdLFsxMCwxMF1dXSk7XG4gKlxuICogLy89bXVsdGlMaW5lXG4gKi9cbmZ1bmN0aW9uIG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgaXMgcmVxdWlyZWQnKTtcblxuICAgIHJldHVybiBmZWF0dXJlKHtcbiAgICAgICAgdHlwZTogJ011bHRpTGluZVN0cmluZycsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgIH0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aVBvaW50Pn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aVBvaW50XG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb3NpdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxNdWx0aVBvaW50Pn0gYSBNdWx0aVBvaW50IGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUHQgPSB0dXJmLm11bHRpUG9pbnQoW1swLDBdLFsxMCwxMF1dKTtcbiAqXG4gKiAvLz1tdWx0aVB0XG4gKi9cbmZ1bmN0aW9uIG11bHRpUG9pbnQoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ2Nvb3JkaW5hdGVzIGlzIHJlcXVpcmVkJyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZSh7XG4gICAgICAgIHR5cGU6ICdNdWx0aVBvaW50JyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgfSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9seWdvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2x5Z29uXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvbHlnb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYSBtdWx0aXBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1tbWzAsMF0sWzAsMTBdLFsxMCwxMF0sWzEwLDBdLFswLDBdXV1dKTtcbiAqXG4gKiAvLz1tdWx0aVBvbHlcbiAqXG4gKi9cbmZ1bmN0aW9uIG11bHRpUG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgaXMgcmVxdWlyZWQnKTtcblxuICAgIHJldHVybiBmZWF0dXJlKHtcbiAgICAgICAgdHlwZTogJ011bHRpUG9seWdvbicsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgIH0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIGdlb21ldHJ5Q29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheTxHZW9tZXRyeT59IGdlb21ldHJpZXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBHZW9tZXRyaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8R2VvbWV0cnlDb2xsZWN0aW9uPn0gYSBHZW9KU09OIEdlb21ldHJ5Q29sbGVjdGlvbiBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHB0ID0ge1xuICogICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgICBcImNvb3JkaW5hdGVzXCI6IFsxMDAsIDBdXG4gKiAgICAgfTtcbiAqIHZhciBsaW5lID0ge1xuICogICAgIFwidHlwZVwiOiBcIkxpbmVTdHJpbmdcIixcbiAqICAgICBcImNvb3JkaW5hdGVzXCI6IFsgWzEwMSwgMF0sIFsxMDIsIDFdIF1cbiAqICAgfTtcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5nZW9tZXRyeUNvbGxlY3Rpb24oW3B0LCBsaW5lXSk7XG4gKlxuICogLy89Y29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBnZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cmllcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmICghZ2VvbWV0cmllcykgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyaWVzIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21ldHJpZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJpZXMgbXVzdCBiZSBhbiBBcnJheScpO1xuXG4gICAgcmV0dXJuIGZlYXR1cmUoe1xuICAgICAgICB0eXBlOiAnR2VvbWV0cnlDb2xsZWN0aW9uJyxcbiAgICAgICAgZ2VvbWV0cmllczogZ2VvbWV0cmllc1xuICAgIH0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFJvdW5kIG51bWJlciB0byBwcmVjaXNpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIE51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gUHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByb3VuZGVkIG51bWJlclxuICogQGV4YW1wbGVcbiAqIHR1cmYucm91bmQoMTIwLjQzMjEpXG4gKiAvLz0xMjBcbiAqXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxLCAyKVxuICogLy89MTIwLjQzXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKG51bSwgcHJlY2lzaW9uKSB7XG4gICAgaWYgKG51bSA9PT0gdW5kZWZpbmVkIHx8IG51bSA9PT0gbnVsbCB8fCBpc05hTihudW0pKSB0aHJvdyBuZXcgRXJyb3IoJ251bSBpcyByZXF1aXJlZCcpO1xuICAgIGlmIChwcmVjaXNpb24gJiYgIShwcmVjaXNpb24gPj0gMCkpIHRocm93IG5ldyBFcnJvcigncHJlY2lzaW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gcmFkaWFucyB0byBhIG1vcmUgZnJpZW5kbHkgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQG5hbWUgcmFkaWFuc1RvTGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBpbiByYWRpYW5zIGFjcm9zcyB0aGUgc3BoZXJlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPSdraWxvbWV0ZXJzJ10gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzIGluY2hlcywgeWFyZHMsIG1ldHJlcywgbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmFkaWFuc1RvTGVuZ3RoKHJhZGlhbnMsIHVuaXRzKSB7XG4gICAgaWYgKHJhZGlhbnMgPT09IHVuZGVmaW5lZCB8fCByYWRpYW5zID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ3JhZGlhbnMgaXMgcmVxdWlyZWQnKTtcblxuICAgIGlmICh1bml0cyAmJiB0eXBlb2YgdW5pdHMgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoJ3VuaXRzIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB2YXIgZmFjdG9yID0gZmFjdG9yc1t1bml0cyB8fCAna2lsb21ldGVycyddO1xuICAgIGlmICghZmFjdG9yKSB0aHJvdyBuZXcgRXJyb3IodW5pdHMgKyAnIHVuaXRzIGlzIGludmFsaWQnKTtcbiAgICByZXR1cm4gcmFkaWFucyAqIGZhY3Rvcjtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gcmFkaWFuc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb1JhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPSdraWxvbWV0ZXJzJ10gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzIGluY2hlcywgeWFyZHMsIG1ldHJlcywgbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBsZW5ndGhUb1JhZGlhbnMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgaWYgKGRpc3RhbmNlID09PSB1bmRlZmluZWQgfHwgZGlzdGFuY2UgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcignZGlzdGFuY2UgaXMgcmVxdWlyZWQnKTtcblxuICAgIGlmICh1bml0cyAmJiB0eXBlb2YgdW5pdHMgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoJ3VuaXRzIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB2YXIgZmFjdG9yID0gZmFjdG9yc1t1bml0cyB8fCAna2lsb21ldGVycyddO1xuICAgIGlmICghZmFjdG9yKSB0aHJvdyBuZXcgRXJyb3IodW5pdHMgKyAnIHVuaXRzIGlzIGludmFsaWQnKTtcbiAgICByZXR1cm4gZGlzdGFuY2UgLyBmYWN0b3I7XG59XG5cbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSBhIHJlYWwtd29ybGQgdW5pdCBpbnRvIGRlZ3JlZXNcbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0ZXJzLCBraWxvbWV0cmVzLCBmZWV0XG4gKlxuICogQG5hbWUgbGVuZ3RoVG9EZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgaW4gcmVhbCB1bml0c1xuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz0na2lsb21ldGVycyddIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgb3Iga2lsb21ldGVycyBpbmNoZXMsIHlhcmRzLCBtZXRyZXMsIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gbGVuZ3RoVG9EZWdyZWVzKGRpc3RhbmNlLCB1bml0cykge1xuICAgIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbnkgYmVhcmluZyBhbmdsZSBmcm9tIHRoZSBub3J0aCBsaW5lIGRpcmVjdGlvbiAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogYW5kIHJldHVybnMgYW4gYW5nbGUgYmV0d2VlbiAwLTM2MCBkZWdyZWVzIChwb3NpdGl2ZSBjbG9ja3dpc2UpLCAwIGJlaW5nIHRoZSBub3J0aCBsaW5lXG4gKlxuICogQG5hbWUgYmVhcmluZ1RvQXppbXV0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgYW5nbGUsIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIGJlYXJpbmdUb0F6aW11dGgoYmVhcmluZykge1xuICAgIGlmIChiZWFyaW5nID09PSBudWxsIHx8IGJlYXJpbmcgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdiZWFyaW5nIGlzIHJlcXVpcmVkJyk7XG5cbiAgICB2YXIgYW5nbGUgPSBiZWFyaW5nICUgMzYwO1xuICAgIGlmIChhbmdsZSA8IDApIGFuZ2xlICs9IDM2MDtcbiAgICByZXR1cm4gYW5nbGU7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gcmFkaWFucyB0byBkZWdyZWVzXG4gKlxuICogQG5hbWUgcmFkaWFuc1RvRGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge251bWJlcn0gZGVncmVlcyBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkaWFucykge1xuICAgIGlmIChyYWRpYW5zID09PSBudWxsIHx8IHJhZGlhbnMgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdyYWRpYW5zIGlzIHJlcXVpcmVkJyk7XG5cbiAgICB2YXIgZGVncmVlcyA9IHJhZGlhbnMgJSAoMiAqIE1hdGguUEkpO1xuICAgIHJldHVybiBkZWdyZWVzICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhbmdsZSBpbiBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqXG4gKiBAbmFtZSBkZWdyZWVzVG9SYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcykge1xuICAgIGlmIChkZWdyZWVzID09PSBudWxsIHx8IGRlZ3JlZXMgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdkZWdyZWVzIGlzIHJlcXVpcmVkJyk7XG5cbiAgICB2YXIgcmFkaWFucyA9IGRlZ3JlZXMgJSAzNjA7XG4gICAgcmV0dXJuIHJhZGlhbnMgKiBNYXRoLlBJIC8gMTgwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgbGVuZ3RoIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW5hbFVuaXQgb2YgdGhlIGxlbmd0aFxuICogQHBhcmFtIHtzdHJpbmd9IFtmaW5hbFVuaXQ9J2tpbG9tZXRlcnMnXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGxlbmd0aFxuICovXG5mdW5jdGlvbiBjb252ZXJ0TGVuZ3RoKGxlbmd0aCwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAobGVuZ3RoID09PSBudWxsIHx8IGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2xlbmd0aCBpcyByZXF1aXJlZCcpO1xuICAgIGlmICghKGxlbmd0aCA+PSAwKSkgdGhyb3cgbmV3IEVycm9yKCdsZW5ndGggbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuXG4gICAgcmV0dXJuIHJhZGlhbnNUb0xlbmd0aChsZW5ndGhUb1JhZGlhbnMobGVuZ3RoLCBvcmlnaW5hbFVuaXQpLCBmaW5hbFVuaXQgfHwgJ2tpbG9tZXRlcnMnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGFyZWEgdG8gdGhlIHJlcXVlc3RlZCB1bml0LlxuICogVmFsaWQgdW5pdHM6IGtpbG9tZXRlcnMsIGtpbG9tZXRyZXMsIG1ldGVycywgbWV0cmVzLCBjZW50aW1ldHJlcywgbWlsbGltZXRlcnMsIGFjcmVzLCBtaWxlcywgeWFyZHMsIGZlZXQsIGluY2hlc1xuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbmFsVW5pdD0nbWV0ZXJzJ10gb2YgdGhlIGRpc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZpbmFsVW5pdD0na2lsb21ldGVycyddIHJldHVybmVkIHVuaXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb252ZXJ0ZWQgZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gY29udmVydEFyZWEoYXJlYSwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAoYXJlYSA9PT0gbnVsbCB8fCBhcmVhID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignYXJlYSBpcyByZXF1aXJlZCcpO1xuICAgIGlmICghKGFyZWEgPj0gMCkpIHRocm93IG5ldyBFcnJvcignYXJlYSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG5cbiAgICB2YXIgc3RhcnRGYWN0b3IgPSBhcmVhRmFjdG9yc1tvcmlnaW5hbFVuaXQgfHwgJ21ldGVycyddO1xuICAgIGlmICghc3RhcnRGYWN0b3IpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBvcmlnaW5hbCB1bml0cycpO1xuXG4gICAgdmFyIGZpbmFsRmFjdG9yID0gYXJlYUZhY3RvcnNbZmluYWxVbml0IHx8ICdraWxvbWV0ZXJzJ107XG4gICAgaWYgKCFmaW5hbEZhY3RvcikgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpbmFsIHVuaXRzJyk7XG5cbiAgICByZXR1cm4gKGFyZWEgLyBzdGFydEZhY3RvcikgKiBmaW5hbEZhY3Rvcjtcbn1cblxuLyoqXG4gKiBpc051bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gbnVtIE51bWJlciB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqIEBleGFtcGxlXG4gKiB0dXJmLmlzTnVtYmVyKDEyMylcbiAqIC8vPXRydWVcbiAqIHR1cmYuaXNOdW1iZXIoJ2ZvbycpXG4gKiAvLz1mYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcihudW0pIHtcbiAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgbnVtICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG51bSk7XG59XG5cbi8qKlxuICogaXNPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IGlucHV0IHZhcmlhYmxlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNPYmplY3Qoe2VsZXZhdGlvbjogMTB9KVxuICogLy89dHJ1ZVxuICogdHVyZi5pc09iamVjdCgnZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgcmV0dXJuICghIWlucHV0KSAmJiAoaW5wdXQuY29uc3RydWN0b3IgPT09IE9iamVjdCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgQkJveFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJib3ggQkJveCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIEJCb3ggaXMgbm90IHZhbGlkXG4gKiBAZXhhbXBsZVxuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDAsIDExMCwgNTBdKVxuICogLy89T0tcbiAqIHZhbGlkYXRlQkJveChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goJ0ZvbycpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KDUpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KHVuZGVmaW5lZClcbiAqIC8vPUVycm9yXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQkJveChiYm94KSB7XG4gICAgaWYgKCFiYm94KSB0aHJvdyBuZXcgRXJyb3IoJ2Jib3ggaXMgcmVxdWlyZWQnKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYmJveCkpIHRocm93IG5ldyBFcnJvcignYmJveCBtdXN0IGJlIGFuIEFycmF5Jyk7XG4gICAgaWYgKGJib3gubGVuZ3RoICE9PSA0ICYmIGJib3gubGVuZ3RoICE9PSA2KSB0aHJvdyBuZXcgRXJyb3IoJ2Jib3ggbXVzdCBiZSBhbiBBcnJheSBvZiA0IG9yIDYgbnVtYmVycycpO1xuICAgIGJib3guZm9yRWFjaChmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtKSkgdGhyb3cgbmV3IEVycm9yKCdiYm94IG11c3Qgb25seSBjb250YWluIG51bWJlcnMnKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBJZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIElkIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEB0aHJvd3MgRXJyb3IgaWYgSWQgaXMgbm90IHZhbGlkXG4gKiBAZXhhbXBsZVxuICogdmFsaWRhdGVJZChbLTE4MCwgLTQwLCAxMTAsIDUwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKFstMTgwLCAtNDBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQoJ0ZvbycpXG4gKiAvLz1PS1xuICogdmFsaWRhdGVJZCg1KVxuICogLy89T0tcbiAqIHZhbGlkYXRlSWQobnVsbClcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKHVuZGVmaW5lZClcbiAqIC8vPUVycm9yXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ2lkIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHRocm93IG5ldyBFcnJvcignaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZycpO1xufVxuXG4vLyBEZXByZWNhdGVkIG1ldGhvZHNcbmZ1bmN0aW9uIHJhZGlhbnMyZGVncmVlcygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCBoYXMgYmVlbiByZW5hbWVkIHRvIGByYWRpYW5zVG9EZWdyZWVzYCcpO1xufVxuXG5mdW5jdGlvbiBkZWdyZWVzMnJhZGlhbnMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBgZGVncmVlc1RvUmFkaWFuc2AnKTtcbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VUb0RlZ3JlZXMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBgbGVuZ3RoVG9EZWdyZWVzYCcpO1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVRvUmFkaWFucygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCBoYXMgYmVlbiByZW5hbWVkIHRvIGBsZW5ndGhUb1JhZGlhbnNgJyk7XG59XG5cbmZ1bmN0aW9uIHJhZGlhbnNUb0Rpc3RhbmNlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYHJhZGlhbnNUb0xlbmd0aGAnKTtcbn1cblxuZnVuY3Rpb24gYmVhcmluZ1RvQW5nbGUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBgYmVhcmluZ1RvQXppbXV0aGAnKTtcbn1cblxuZnVuY3Rpb24gY29udmVydERpc3RhbmNlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gYGNvbnZlcnRMZW5ndGhgJyk7XG59XG5cbmV4cG9ydCB7IGVhcnRoUmFkaXVzLCBmYWN0b3JzLCB1bml0c0ZhY3RvcnMsIGFyZWFGYWN0b3JzLCBmZWF0dXJlLCBnZW9tZXRyeSwgcG9pbnQsIHBvaW50cywgcG9seWdvbiwgcG9seWdvbnMsIGxpbmVTdHJpbmcsIGxpbmVTdHJpbmdzLCBmZWF0dXJlQ29sbGVjdGlvbiwgbXVsdGlMaW5lU3RyaW5nLCBtdWx0aVBvaW50LCBtdWx0aVBvbHlnb24sIGdlb21ldHJ5Q29sbGVjdGlvbiwgcm91bmQsIHJhZGlhbnNUb0xlbmd0aCwgbGVuZ3RoVG9SYWRpYW5zLCBsZW5ndGhUb0RlZ3JlZXMsIGJlYXJpbmdUb0F6aW11dGgsIHJhZGlhbnNUb0RlZ3JlZXMsIGRlZ3JlZXNUb1JhZGlhbnMsIGNvbnZlcnRMZW5ndGgsIGNvbnZlcnRBcmVhLCBpc051bWJlciwgaXNPYmplY3QsIHZhbGlkYXRlQkJveCwgdmFsaWRhdGVJZCwgcmFkaWFuczJkZWdyZWVzLCBkZWdyZWVzMnJhZGlhbnMsIGRpc3RhbmNlVG9EZWdyZWVzLCBkaXN0YW5jZVRvUmFkaWFucywgcmFkaWFuc1RvRGlzdGFuY2UsIGJlYXJpbmdUb0FuZ2xlLCBjb252ZXJ0RGlzdGFuY2UgfTtcbiIsImltcG9ydCB7IGZlYXR1cmUsIGxpbmVTdHJpbmcgfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRFYWNoXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29vcmRpbmF0ZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIGNvb3JkRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1jdXJyZW50Q29vcmRcbiAqICAgLy89Y29vcmRJbmRleFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGNvb3JkRWFjaChnZW9qc29uLCBjYWxsYmFjaywgZXhjbHVkZVdyYXBDb29yZCkge1xuICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIEdlb0pTT05cbiAgICBpZiAoZ2VvanNvbiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBqLCBrLCBsLCBnZW9tZXRyeSwgc3RvcEcsIGNvb3JkcyxcbiAgICAgICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgICAgIHdyYXBTaHJpbmsgPSAwLFxuICAgICAgICBjb29yZEluZGV4ID0gMCxcbiAgICAgICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24sXG4gICAgICAgIHR5cGUgPSBnZW9qc29uLnR5cGUsXG4gICAgICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSB0eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICBpc0ZlYXR1cmUgPSB0eXBlID09PSAnRmVhdHVyZScsXG4gICAgICAgIHN0b3AgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggOiAxO1xuXG4gICAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgICAvLyBpcyBiZWNhdXNlIGl0J3MgdHJ5aW5nIHRvIGJlIGZhc3QuIEdlb0pTT04gc3VwcG9ydHMgbXVsdGlwbGUga2luZHNcbiAgICAvLyBvZiBvYmplY3RzIGF0IGl0cyByb290OiBGZWF0dXJlQ29sbGVjdGlvbiwgRmVhdHVyZXMsIEdlb21ldHJpZXMuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAgIC8vIG1lYW5zIHRoYXQgc29tZSBvZiB0aGUgYGZvcmAgbG9vcHMgeW91IHNlZSBiZWxvdyBhY3R1YWxseSBqdXN0IGRvbid0IGFwcGx5XG4gICAgLy8gdG8gY2VydGFpbiBpbnB1dHMuIEZvciBpbnN0YW5jZSwgaWYgeW91IGdpdmUgdGhpcyBqdXN0IGFcbiAgICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAgIC8vIGlzIGdyYWR1YWxseSByZW5hbWUgdGhlIGlucHV0IHVudGlsIGl0J3MgY2FsbGVkICdnZW9tZXRyeScuXG4gICAgLy9cbiAgICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgICAvLyBmZXcgbnVtYmVycyBhbmQgYm9vbGVhbnMsIHJhdGhlciB0aGFuIGFueSB0ZW1wb3JhcnkgYXJyYXlzIGFzIHdvdWxkXG4gICAgLy8gYmUgcmVxdWlyZWQgd2l0aCB0aGUgbm9ybWFsaXphdGlvbiBhcHByb2FjaC5cbiAgICBmb3IgKHZhciBmZWF0dXJlSW5kZXggPSAwOyBmZWF0dXJlSW5kZXggPCBzdG9wOyBmZWF0dXJlSW5kZXgrKykge1xuICAgICAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbiA9IChpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLmdlb21ldHJ5IDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLmdlb21ldHJ5IDogZ2VvanNvbikpO1xuICAgICAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IChnZW9tZXRyeU1heWJlQ29sbGVjdGlvbikgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJyA6IGZhbHNlO1xuICAgICAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllcy5sZW5ndGggOiAxO1xuXG4gICAgICAgIGZvciAodmFyIGdlb21JbmRleCA9IDA7IGdlb21JbmRleCA8IHN0b3BHOyBnZW9tSW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gaXNHZW9tZXRyeUNvbGxlY3Rpb24gP1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ2VvbUluZGV4XSA6IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGVzIG51bGwgR2VvbWV0cnkgLS0gU2tpcHMgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgdmFyIGdlb21UeXBlID0gZ2VvbWV0cnkudHlwZTtcblxuICAgICAgICAgICAgd3JhcFNocmluayA9IChleGNsdWRlV3JhcENvb3JkICYmIChnZW9tVHlwZSA9PT0gJ1BvbHlnb24nIHx8IGdlb21UeXBlID09PSAnTXVsdGlQb2x5Z29uJykpID8gMSA6IDA7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZ2VvbVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BvaW50JzpcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjb29yZHMsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNvb3Jkc1tqXSwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnTXVsdGlQb2ludCcpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGNvb3Jkc1tqXS5sZW5ndGggLSB3cmFwU2hyaW5rOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNvb3Jkc1tqXVtrXSwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnUG9seWdvbicpIGdlb21ldHJ5SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnUG9seWdvbicpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdNdWx0aVBvbHlnb24nOlxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnTXVsdGlQb2x5Z29uJykgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobCA9IDA7IGwgPCBjb29yZHNbal1ba10ubGVuZ3RoIC0gd3JhcFNocmluazsgbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soY29vcmRzW2pdW2tdW2xdLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgICAgICBjb29yZEVhY2goZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSwgY2FsbGJhY2ssIGV4Y2x1ZGVXcmFwQ29vcmQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gR2VvbWV0cnkgVHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBjb29yZFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIFN0YXJ0cyBhdCBpbmRleCAwLCBpZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQsIGFuZCBhdCBpbmRleCAxIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgY29vcmRpbmF0ZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpXG4gKlxuICogQG5hbWUgY29vcmRSZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258R2VvbWV0cnl8RmVhdHVyZX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRDb29yZCwgY29vcmRJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuY29vcmRSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50Q29vcmRcbiAqICAgLy89Y29vcmRJbmRleFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICByZXR1cm4gY3VycmVudENvb3JkO1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGNvb3JkUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUsIGV4Y2x1ZGVXcmFwQ29vcmQpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBjb29yZEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICAgICAgICBpZiAoY29vcmRJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KTtcbiAgICB9LCBleGNsdWRlV3JhcENvb3JkKTtcbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgcHJvcEVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgcHJvcEVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgcHJvcGVydGllcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgcHJvcEVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gcHJvcEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgaTtcbiAgICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgJ0ZlYXR1cmVDb2xsZWN0aW9uJzpcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllcywgaSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSAnRmVhdHVyZSc6XG4gICAgICAgIGNhbGxiYWNrKGdlb2pzb24ucHJvcGVydGllcywgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgcHJvcFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHsqfSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0IGludG8gYSBzaW5nbGUgdmFsdWUsXG4gKiBzaW1pbGFyIHRvIGhvdyBBcnJheS5yZWR1Y2Ugd29ya3MuIEhvd2V2ZXIsIGluIHRoaXMgY2FzZSB3ZSBsYXppbHkgcnVuXG4gKiB0aGUgcmVkdWN0aW9uLCBzbyBhbiBhcnJheSBvZiBhbGwgcHJvcGVydGllcyBpcyB1bm5lY2Vzc2FyeS5cbiAqXG4gKiBAbmFtZSBwcm9wUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50UHJvcGVydGllc1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIHByb3BFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gICAgICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50UHJvcGVydGllcztcbiAgICAgICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZlYXR1cmVFYWNoXG4gKlxuICogQGNhbGxiYWNrIGZlYXR1cmVFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxhbnk+fSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gICAgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnKSB7XG4gICAgICAgIGNhbGxiYWNrKGdlb2pzb24sIDApO1xuICAgIH0gZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZlYXR1cmVSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGZlYXR1cmVSZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5mZWF0dXJlUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmZWF0dXJlUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBmZWF0dXJlRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICAgICAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIEdldCBhbGwgY29vcmRpbmF0ZXMgZnJvbSBhbnkgR2VvSlNPTiBvYmplY3QuXG4gKlxuICogQG5hbWUgY29vcmRBbGxcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZSBwb3NpdGlvbiBhcnJheVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdmFyIGNvb3JkcyA9IHR1cmYuY29vcmRBbGwoZmVhdHVyZXMpO1xuICogLy89IFtbMjYsIDM3XSwgWzM2LCA1M11dXG4gKi9cbmZ1bmN0aW9uIGNvb3JkQWxsKGdlb2pzb24pIHtcbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgICAgICBjb29yZHMucHVzaChjb29yZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZ2VvbUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZ2VvbUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtHZW9tZXRyeX0gY3VycmVudEdlb21ldHJ5IFRoZSBjdXJyZW50IEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmVQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IEZlYXR1cmUgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZlYXR1cmVCQm94IFRoZSBjdXJyZW50IEZlYXR1cmUgQkJveCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGZlYXR1cmVJZCBUaGUgY3VycmVudCBGZWF0dXJlIElkIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBnZW9tRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBqLCBnLCBnZW9tZXRyeSwgc3RvcEcsXG4gICAgICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgICAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbixcbiAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICBmZWF0dXJlSWQsXG4gICAgICAgIGZlYXR1cmVJbmRleCA9IDAsXG4gICAgICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSBnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgIGlzRmVhdHVyZSA9IGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnLFxuICAgICAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAgIC8vIFRoaXMgbG9naWMgbWF5IGxvb2sgYSBsaXR0bGUgd2VpcmQuIFRoZSByZWFzb24gd2h5IGl0IGlzIHRoYXQgd2F5XG4gICAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gICAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBoYW5kbGluZyBhbGwgb2YgdGhlbSwgYW5kIHRoYXRcbiAgICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAgIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gICAgLy8gUG9pbnQgZ2VvbWV0cnksIHRoZW4gYm90aCBsb29wcyBhcmUgc2hvcnQtY2lyY3VpdGVkIGFuZCBhbGwgd2UgZG9cbiAgICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAgIC8vXG4gICAgLy8gVGhpcyBhbHNvIGFpbXMgdG8gYWxsb2NhdGUgYXMgZmV3IHJlc291cmNlcyBhcyBwb3NzaWJsZToganVzdCBhXG4gICAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAgIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gICAgZm9yIChpID0gMDsgaSA8IHN0b3A7IGkrKykge1xuXG4gICAgICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gKGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzW2ldLmdlb21ldHJ5IDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLmdlb21ldHJ5IDogZ2VvanNvbikpO1xuICAgICAgICBmZWF0dXJlUHJvcGVydGllcyA9IChpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzIDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLnByb3BlcnRpZXMgOiB7fSkpO1xuICAgICAgICBmZWF0dXJlQkJveCA9IChpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5iYm94IDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLmJib3ggOiB1bmRlZmluZWQpKTtcbiAgICAgICAgZmVhdHVyZUlkID0gKGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzW2ldLmlkIDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLmlkIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gKGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uKSA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLnR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nIDogZmFsc2U7XG4gICAgICAgIHN0b3BHID0gaXNHZW9tZXRyeUNvbGxlY3Rpb24gPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzLmxlbmd0aCA6IDE7XG5cbiAgICAgICAgZm9yIChnID0gMDsgZyA8IHN0b3BHOyBnKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gaXNHZW9tZXRyeUNvbGxlY3Rpb24gP1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ10gOiBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbjtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIG51bGwgR2VvbWV0cnlcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgICAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzoge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhnZW9tZXRyeS5nZW9tZXRyaWVzW2pdLCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBHZW9tZXRyeSBUeXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBpbmNyZWFzZSBgZmVhdHVyZUluZGV4YCBwZXIgZWFjaCBmZWF0dXJlXG4gICAgICAgIGZlYXR1cmVJbmRleCsrO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZ2VvbVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGdlb21SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlUHJvcGVydGllcyBUaGUgY3VycmVudCBGZWF0dXJlIFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlQkJveCBUaGUgY3VycmVudCBGZWF0dXJlIEJCb3ggYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBmZWF0dXJlSWQgVGhlIGN1cnJlbnQgRmVhdHVyZSBJZCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZ2VvbWV0cnkgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGdlb21SZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5nZW9tUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqICAgcmV0dXJuIGN1cnJlbnRHZW9tZXRyeVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGdlb21SZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIGdlb21FYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAgICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRHZW9tZXRyeTtcbiAgICAgICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlbkVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZmxhdHRlbkVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBmbGF0dGVuZWQgZmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmVJbmRleCwgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgZm9yIHNpbmdsZSBnZW9tZXRyeVxuICAgICAgICB2YXIgdHlwZSA9IChnZW9tZXRyeSA9PT0gbnVsbCkgPyBudWxsIDogZ2VvbWV0cnkudHlwZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgICBjYWxsYmFjayhmZWF0dXJlKGdlb21ldHJ5LCBwcm9wZXJ0aWVzLCB7YmJveDogYmJveCwgaWQ6IGlkfSksIGZlYXR1cmVJbmRleCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2VvbVR5cGU7XG5cbiAgICAgICAgLy8gQ2FsbGJhY2sgZm9yIG11bHRpLWdlb21ldHJ5XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgICAgIGdlb21UeXBlID0gJ1BvaW50JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgZ2VvbVR5cGUgPSAnTGluZVN0cmluZyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzpcbiAgICAgICAgICAgIGdlb21UeXBlID0gJ1BvbHlnb24nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb29yZGluYXRlLCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgICAgICAgdmFyIGdlb20gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogZ2VvbVR5cGUsXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYWxsYmFjayhmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlblJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5SZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBtdWx0aUZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgICBlbHNlIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRFYWNoXG4gKlxuICogQGNhbGxiYWNrIHNlZ21lbnRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudFNlZ21lbnQgVGhlIGN1cnJlbnQgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciAyLXZlcnRleCBsaW5lIHNlZ21lbnQgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICogKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01MCwgNV0sIFstNDAsIC0xMF0sIFstNTAsIC0xMF0sIFstNDAsIDVdLCBbLTUwLCA1XV1dKTtcbiAqXG4gKiAvLyBJdGVyYXRlIG92ZXIgR2VvSlNPTiBieSAyLXZlcnRleCBzZWdtZW50c1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz1jdXJyZW50U2VnbWVudFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICAvLz1zZWdtZW50SW5kZXhcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgdG90YWwgPSAwO1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdG90YWwrKztcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBzZWdtZW50RWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAgIGZsYXR0ZW5FYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChmZWF0dXJlJCQxLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSB7XG4gICAgICAgIHZhciBzZWdtZW50SW5kZXggPSAwO1xuXG4gICAgICAgIC8vIEV4Y2x1ZGUgbnVsbCBHZW9tZXRyaWVzXG4gICAgICAgIGlmICghZmVhdHVyZSQkMS5nZW9tZXRyeSkgcmV0dXJuO1xuICAgICAgICAvLyAoTXVsdGkpUG9pbnQgZ2VvbWV0cmllcyBkbyBub3QgY29udGFpbiBzZWdtZW50cyB0aGVyZWZvcmUgdGhleSBhcmUgaWdub3JlZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24uXG4gICAgICAgIHZhciB0eXBlID0gZmVhdHVyZSQkMS5nZW9tZXRyeS50eXBlO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ1BvaW50JyB8fCB0eXBlID09PSAnTXVsdGlQb2ludCcpIHJldHVybjtcblxuICAgICAgICAvLyBHZW5lcmF0ZSAyLXZlcnRleCBsaW5lIHNlZ21lbnRzXG4gICAgICAgIGNvb3JkUmVkdWNlKGZlYXR1cmUkJDEsIGZ1bmN0aW9uIChwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXhDb29yZCwgbXV0bGlQYXJ0SW5kZXhDb29yZCwgZ2VvbWV0cnlJbmRleCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWdtZW50ID0gbGluZVN0cmluZyhbcHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZF0sIGZlYXR1cmUkJDEucHJvcGVydGllcyk7XG4gICAgICAgICAgICBjYWxsYmFjayhjdXJyZW50U2VnbWVudCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCwgc2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb29yZDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50UmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIDItdmVydGV4IGxpbmUgc2VnbWVudCBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBjdXJyZW50SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICpcbiAqIC8vIEl0ZXJhdGUgb3ZlciBHZW9KU09OIGJ5IDItdmVydGV4IHNlZ21lbnRzXG4gKiB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzU2VnbWVudCwgY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gcHJldmlvdXNTZWdtZW50XG4gKiAgIC8vPSBjdXJyZW50U2VnbWVudFxuICogICAvLz0gZmVhdHVyZUluZGV4XG4gKiAgIC8vPSBtdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz0gZ2VvbWV0cnlJbmRleFxuICogICAvLz0gc2VnbWVudEluZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRTZWdtZW50XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIGluaXRpYWxWYWx1ZSA9IDBcbiAqIHZhciB0b3RhbCA9IHR1cmYuc2VnbWVudFJlZHVjZShwb2x5Z29uLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSkge1xuICogICAgIHByZXZpb3VzVmFsdWUrKztcbiAqICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbiAqIH0sIGluaXRpYWxWYWx1ZSk7XG4gKi9cbmZ1bmN0aW9uIHNlZ21lbnRSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIHZhciBzdGFydGVkID0gZmFsc2U7XG4gICAgc2VnbWVudEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0ZWQgPT09IGZhbHNlICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSBwcmV2aW91c1ZhbHVlID0gY3VycmVudFNlZ21lbnQ7XG4gICAgICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpO1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgbGluZUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgbGluZUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50TGluZSBUaGUgY3VycmVudCBMaW5lU3RyaW5nfExpbmVhclJpbmcgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZFxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGxpbmUgb3IgcmluZyBjb29yZGluYXRlcyBpbiBMaW5lU3RyaW5nLCBQb2x5Z29uLCBNdWx0aUxpbmVTdHJpbmcsIE11bHRpUG9seWdvbiBGZWF0dXJlcyBvciBHZW9tZXRyaWVzLFxuICogc2ltaWxhciB0byBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGxpbmVFYWNoXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xQb2x5Z29ufE11bHRpTGluZVN0cmluZ3xNdWx0aVBvbHlnb24+fSBnZW9qc29uIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgW1syNiwgMzddLCBbMzUsIDQ1XV0sXG4gKiAgIFtbMzYsIDUzXSwgWzM4LCA1MF0sIFs0MSwgNTVdXVxuICogXSk7XG4gKlxuICogdHVyZi5saW5lRWFjaChtdWx0aUxpbmUsIGZ1bmN0aW9uIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1jdXJyZW50TGluZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGxpbmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICghZ2VvanNvbikgdGhyb3cgbmV3IEVycm9yKCdnZW9qc29uIGlzIHJlcXVpcmVkJyk7XG5cbiAgICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSQkMSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgICBpZiAoZmVhdHVyZSQkMS5nZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB2YXIgdHlwZSA9IGZlYXR1cmUkJDEuZ2VvbWV0cnkudHlwZTtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGZlYXR1cmUkJDEuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGZlYXR1cmUkJDEsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIDAsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgICAgICAgZm9yICh2YXIgZ2VvbWV0cnlJbmRleCA9IDA7IGdlb21ldHJ5SW5kZXggPCBjb29yZHMubGVuZ3RoOyBnZW9tZXRyeUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhsaW5lU3RyaW5nKGNvb3Jkc1tnZW9tZXRyeUluZGV4XSwgZmVhdHVyZSQkMS5wcm9wZXJ0aWVzKSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgbGluZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50TGluZSBUaGUgY3VycmVudCBMaW5lU3RyaW5nfExpbmVhclJpbmcgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWRcbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgbGluZVJlZHVjZVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1xuICogICB0dXJmLnBvbHlnb24oW1tbMTIsNDhdLFsyLDQxXSxbMjQsMzhdLFsxMiw0OF1dLCBbWzksNDRdLFsxMyw0MV0sWzEzLDQ1XSxbOSw0NF1dXSksXG4gKiAgIHR1cmYucG9seWdvbihbW1s1LCA1XSwgWzAsIDBdLCBbMiwgMl0sIFs0LCA0XSwgWzUsIDVdXV0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmxpbmVSZWR1Y2UobXVsdGlQb2x5LCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50TGluZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICByZXR1cm4gY3VycmVudExpbmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBsaW5lUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBsaW5lRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAgICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgICBlbHNlIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbmV4cG9ydCB7IGNvb3JkRWFjaCwgY29vcmRSZWR1Y2UsIHByb3BFYWNoLCBwcm9wUmVkdWNlLCBmZWF0dXJlRWFjaCwgZmVhdHVyZVJlZHVjZSwgY29vcmRBbGwsIGdlb21FYWNoLCBnZW9tUmVkdWNlLCBmbGF0dGVuRWFjaCwgZmxhdHRlblJlZHVjZSwgc2VnbWVudEVhY2gsIHNlZ21lbnRSZWR1Y2UsIGxpbmVFYWNoLCBsaW5lUmVkdWNlIH07XG4iLCJpbXBvcnQgeyBjb29yZEVhY2ggfSBmcm9tICdAdHVyZi9tZXRhJztcbmltcG9ydCB7IHBvaW50IH0gZnJvbSAnQHR1cmYvaGVscGVycyc7XG5cbi8qKlxuICogVGFrZXMgb25lIG9yIG1vcmUgZmVhdHVyZXMgYW5kIGNhbGN1bGF0ZXMgdGhlIGNlbnRyb2lkIHVzaW5nIHRoZSBtZWFuIG9mIGFsbCB2ZXJ0aWNlcy5cbiAqIFRoaXMgbGVzc2VucyB0aGUgZWZmZWN0IG9mIHNtYWxsIGlzbGFuZHMgYW5kIGFydGlmYWN0cyB3aGVuIGNhbGN1bGF0aW5nIHRoZSBjZW50cm9pZCBvZiBhIHNldCBvZiBwb2x5Z29ucy5cbiAqXG4gKiBAbmFtZSBjZW50cm9pZFxuICogQHBhcmFtIHtHZW9KU09OfSBnZW9qc29uIEdlb0pTT04gdG8gYmUgY2VudGVyZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IHRoYXQgaXMgdXNlZCBhcyB0aGUge0BsaW5rIEZlYXR1cmV9J3MgcHJvcGVydGllc1xuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSB0aGUgY2VudHJvaWQgb2YgdGhlIGlucHV0IGZlYXR1cmVzXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTgxLCA0MV0sIFstODgsIDM2XSwgWy04NCwgMzFdLCBbLTgwLCAzM10sIFstNzcsIDM5XSwgWy04MSwgNDFdXV0pO1xuICpcbiAqIHZhciBjZW50cm9pZCA9IHR1cmYuY2VudHJvaWQocG9seWdvbik7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvbHlnb24sIGNlbnRyb2lkXVxuICovXG5mdW5jdGlvbiBjZW50cm9pZChnZW9qc29uLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHhTdW0gPSAwO1xuICAgIHZhciB5U3VtID0gMDtcbiAgICB2YXIgbGVuID0gMDtcbiAgICBjb29yZEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGNvb3JkKSB7XG4gICAgICAgIHhTdW0gKz0gY29vcmRbMF07XG4gICAgICAgIHlTdW0gKz0gY29vcmRbMV07XG4gICAgICAgIGxlbisrO1xuICAgIH0sIHRydWUpO1xuICAgIHJldHVybiBwb2ludChbeFN1bSAvIGxlbiwgeVN1bSAvIGxlbl0sIHByb3BlcnRpZXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjZW50cm9pZDtcbiIsImltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyB2YXJpYWJsZXNfaW5mbywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2ggfSBmcm9tICcuLy4uL21haW4nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuXG4vKipcbiogQXR0YWNoIHRoZSBmdWxsX2RhdGFzZXQgQXJyYXkgdG8gdGhlIGFwcCBPYmplY3QgYW5kIGNyZWF0ZSBhIGRpY3Rpb25uYXJ5XG4qIGFsbG93aW5nIHRvIG9idGFpbiB0ZXJyaXRvcmlhbCB1bml0cyBuYW1lIGZyb20gdGhlaXIgSWQuXG4qXG4qIEBwYXJhbSB7QXJyYXl9IGZ1bGxfZGF0YXNldCAtIFRoZSBkYXRhc2V0IGFzIGFuIEFycmF5IG9mIE9iamVjdFxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlX2RhdGFzZXQoZnVsbF9kYXRhc2V0LCBhcHApIHtcbiAgYXBwLmZ1bGxfZGF0YXNldCA9IGZ1bGxfZGF0YXNldDtcbiAgLy8gQ3JlYXRlIGFuIE9iamVjdCBmZWF0dXJlX2lkIC0+ICBmZWF0dXJlX25hbWUgZm9yIGVhc2llciBsb29rdXA6XG4gIGFwcC5mZWF0dXJlX25hbWVzID0ge307XG4gIGZ1bGxfZGF0YXNldC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgYXBwLmZlYXR1cmVfbmFtZXNbZWxlbS5pZF0gPSBlbGVtLm5hbWU7XG4gIH0pO1xufVxuXG5cbi8qKlxuKiBGaWx0ZXIgdGhlIGluaXRpYWwgZGF0YXNldCBpbiBvcmRlciB0byBvYnRhaW4gb25seSB0aGUgZmVhdHVyZXNcbiogY29uY2VybmVkIGJ5IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGRpdmlzaW9uIGFuZCBieSB0aGUgc2VsZWN0ZWQgc3R1ZHkgYXJlYVxuKiAob3IgdGhlIGdlb2dyYXBoaWNhbCBuZWlnaGJvcmhvb2QpIGlmIGFueS4gVGhlIHJldHVybmVkIGV4dHJhY3QgYWxzbyBvbmx5IGNvbnRhaW5zXG4qIHRoZSB2YXJpYWJsZXMgY3VycmVudGx5IHNlbGVjdGVkIGluIHRoZSBpbnRlcmZhY2UuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBhcHAgLSBUaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBkYXRhLCBjb250YWluaW5nIG9ubHkgdGhlIHJlcXVlc3RlZCB2YXJpYWJsZXNcbiogICBmb3IgdGhlIGZlYXR1cmUgb2YgdGhlIGN1cnJlbnQgc3R1ZHkgem9uZSwgd2l0aG91dCBmZWF0dXJlcyBjb250YWluaW5nIGVtcHR5IHJhdGlvcy5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxWYXIoYXBwKSB7XG4gIC8vIEZldGNoIHRoZSBuYW1lKHMpIG9mIHRoZSByYXRpbyAoYW5kIGFzc29jaWF0ZWQgbnVtIGFuZCBkZW51bSB2YXJpYWJsZSksXG4gIC8vIHRoZSBuYW1lIG9mIHRoZSB0YXJnZXRlZCByZWdpb24gYW5kIHRoZSBjdXJyZW50IGxldmVsIDpcbiAgY29uc3Qge1xuICAgIG51bSwgZGVudW0sIHJhdGlvLCBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbmFtZV9maWVsZCwgbXlfcmVnaW9uLFxuICB9ID0gYXBwLmN1cnJlbnRfY29uZmlnO1xuXG4gIGNvbnN0IGFsbF92YXJpYWJsZXMgPSByYXRpby5jb25jYXQobnVtKS5jb25jYXQoZGVudW0pO1xuICAvLyBQcmVwYXJlIHRoZSBkYXRhOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICtmdFtjdXJyZW50X2xldmVsXSAmJiBmaWx0ZXJfa2V5LmluZGV4T2YoZnRbaWRfZmllbGRdKSA+IC0xKTtcbiAgICBhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkgPSBudWxsO1xuICB9IGVsc2UgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVswXVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnRbY3VycmVudF9sZXZlbF0gJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgICBhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkgPSBteV9jYXRlZ29yeTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiArZnRbY3VycmVudF9sZXZlbF0pO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSA9IG51bGw7XG4gIH1cbiAgdGVtcCA9IHRlbXAubWFwKChmdCkgPT4ge1xuICAgIGNvbnN0IHByb3BzX2ZlYXR1cmUgPSB7XG4gICAgICBpZDogZnRbaWRfZmllbGRdLFxuICAgICAgbmFtZTogZnRbbmFtZV9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBhbGxfdmFyaWFibGVzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbYWxsX3ZhcmlhYmxlc1tpXV0gPSArZnRbYWxsX3ZhcmlhYmxlc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KTtcbiAgYXBwLmN1cnJlbnRfZGF0YSA9IHRlbXA7XG59XG5cblxuLyoqXG4qIEZ1bmN0aW9uIGFsbG93aW5nIHRvIGZpbHRlciB0aGUgZW50aXRpZXMgb2YgdGhlIGdlb2dyYXBoaWNhbCBsYXllclxuKiBhY2NvcmRpbmcgdG8gdGhlIHRlcnJpdG9yaWFsIGRpdmlzaW9uIGNob3Nlbi5cbipcbiogQHBhcmFtIHtBcnJheX0gbnV0c19mZWF0dXJlcyAtIFRoZSBhcnJheSBvZiBnZW9qc29uIEZlYXR1cmUgdG8gYmUgZmlsdGVyZWQuXG4qIEByZXR1cm4ge0FycmF5fSAtIFRoZSBmaWx0ZXJlZCBhcnJheS5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyTGV2ZWxHZW9tKG51dHNfZmVhdHVyZXMsIGZpbHRlciA9ICdOMScpIHtcbiAgcmV0dXJuIG51dHNfZmVhdHVyZXMuZmlsdGVyKGQgPT4gZC5wcm9wZXJ0aWVzW2ZpbHRlcl0gPT09IDEpO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gcHJlcGFyZSAzIGdsb2JhbCB2YXJpYWJsZXMgKGJvdGggYXJlIEFycmF5IG9mIE9iamVjdHMpIGZyb20gdGhlIGFycmF5XG4qIGNvbnRhaW5pbmcgdGhlIHJlYWRlZCAnbWV0YWRhdGEuY3N2JyBmaWxlLiBUaGV5IHJlc3BlY3RpdmVseSBkZXNjcmliZTogdGhlIHZhcmlhYmxlc1xuKiB0byBiZSB1c2VkIGluIHRoZSBhcHBsaWNhdGlvbiAoY29kZSwgcHJldHR5IG5hbWUsIHVuaXQsIG1ldGhvZG9sb2d5LCBkYXRhIHNvdXJjZSwgZGF0ZSwgZXRjKSxcbiogdGhlIHN0dWR5IGFyZWFzIHRvIHVzZSAobmFtZSwgZGlzcGxheSBsZXZlbCwgZXRjLikgYW5kIHRoZSByZWZlcmVuY2UgdGVycml0b3JpYWwgZGl2aXNpb25zXG4qIChlYWNoIG9uZSBkZXNjcmliZWQgYnkgYSBjb2RlIG1ha2luZyBpdCBwb3NzaWJsZSB0byBmaWx0ZXIgdGhlIGZlYXR1cmVzIG9mIHRoZSBnZW9ncmFwaGljIGxheWVyXG4qIGFuZCB0aGUgZmVhdHVyZXMgaW4gdGhlIHJlZmVyZW5jZSBkYXRhc2V0LilcbipcbiogQHBhcmFtIHtBcnJheX0gbWV0YWRhdGFfaW5kaWNhdGV1cnMgLSBUaGUgYXJyYXkgcmV0dXJuZWQgYnkgZDMuY3N2LlxuKiBAcmV0dXJuIHt2b2lkfSAtIE5vdGhpbmcgYXMgdGhlc2UgMyBvYmplY3RzIGFyZSBnbG9iYWxzIGFuZCBtb2RpZmllZCBpbiBwbGFjZS5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVZhcmlhYmxlc0luZm8obWV0YWRhdGFfaW5kaWNhdGV1cnMpIHtcbiAgbWV0YWRhdGFfaW5kaWNhdGV1cnNcbiAgICAuZmlsdGVyKGZ0ID0+IGZ0LlJlZ2lvdml6X2l0ZW0gPT09ICdJbmRpY2F0ZXVyJyB8fCBmdC5SZWdpb3Zpel9pdGVtID09PSAnU3RvY2snKVxuICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgdmFyaWFibGVzX2luZm8ucHVzaCh7XG4gICAgICAgIGlkOiBmdC5pZCxcbiAgICAgICAgaWQxOiBgJHtmdC5pZDF9YCxcbiAgICAgICAgaWQyOiBgJHtmdC5pZDJ9YCxcbiAgICAgICAgbmFtZTogYCR7ZnQuTmFtZX0gKCR7cGFyc2VJbnQoZnQuWWVhciwgMTApfSlgLFxuICAgICAgICB1bml0OiBgJHtmdC5Vbml0fWAsXG4gICAgICAgIGdyb3VwOiBmdC5UaGVtZSxcbiAgICAgICAgbWV0aG9kbzogZnQuTWV0aG9kb2xvZ3ksXG4gICAgICAgIHNvdXJjZTogZnQuRGF0YV9zb3VyY2UsXG4gICAgICAgIGxhc3RfdXBkYXRlOiBmdC5MYXN0X3VwZGF0ZSxcbiAgICAgICAgZm9ybXVsYTogZnQuRm9ybXVsYSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICBtZXRhZGF0YV9pbmRpY2F0ZXVyc1xuICAgIC5maWx0ZXIoZnQgPT4gZnQuUmVnaW92aXpfaXRlbSA9PT0gJ1N0dWR5IEFyZWEnKVxuICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgc3R1ZHlfem9uZXMucHVzaCh7XG4gICAgICAgIG5hbWU6IGZ0Lk5hbWUsXG4gICAgICAgIGlkOiBmdC5pZCxcbiAgICAgICAgZGlzcGxheV9sZXZlbDogZnQuVGhlbWUsXG4gICAgICAgIG1ldGhvZG9sb2d5OiBmdC5NZXRob2RvbG9neSxcbiAgICAgICAgdXJsOiBmdC5VUkwsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgbWV0YWRhdGFfaW5kaWNhdGV1cnNcbiAgICAuZmlsdGVyKGZ0ID0+IGZ0LlJlZ2lvdml6X2l0ZW0gPT09ICdUZXJyaXRvcmlhbCBkaXZpc2lvbicpXG4gICAgLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICB0ZXJyaXRvcmlhbF9tZXNoLnB1c2goeyBuYW1lOiBmdC5OYW1lLCBpZDogZnQuaWQsIG1ldGhvZG9sb2d5OiBmdC5NZXRob2RvbG9neSB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4qIFNldCBhbmQgYXBwbHkgYSBuZXcgZmlsdGVyIChpZS4gcmVzdHJpY3QgdGhlIHN0dWR5IGFyZWEpIG9uIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWQuXG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBmaWx0ZXJfdHlwZSAtIFRoZSBuYW1lIG9mIHRoZSBmaWx0ZXIgdG8gdXNlLlxuKiBAcmV0dXJuIHt2b2lkfVxuKlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKSB7XG4gIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ2ZpbHRlcl9jb3VudHJ5Jykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gJ1BheXMnO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlID09PSAnbm9fZmlsdGVyJykge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGZpbHRlcl90eXBlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSA9IGZpbHRlcl90eXBlO1xuICB9IGVsc2Uge1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5ID0gZmlsdGVyX3R5cGU7XG4gIH1cbiAgZmlsdGVyTGV2ZWxWYXIoYXBwKTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbiogQXBwbHkgYSByZWdpb24gY2hhbmdlIChtYWRlIGluIHRoZSBsZWZ0IG1lbnUpIGluIHRoZSB2YXJpb3VzIGdsb2JhbCB2YXJpYWJsZXNcbiogY29udGFpbmluZyBzcGVjaWZpYyBpbmZvcm1hdGlvbiBhYm91dCBcIm15IHJlZ2lvblwiLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcGFyYW0ge1N0cmluZ30gaWRfcmVnaW9uIC0gVGhlIGlkIG9mIHRoZSBuZXcgdGFyZ2V0ZWQgZmVhdHVyZSAobXkgcmVnaW9uKS5cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIGRpc3BsYXllZCBtYXAuXG4qIEByZXR1cm4ge1ZvaWR9XG4qXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihhcHAsIGlkX3JlZ2lvbiwgbWFwX2VsZW0pIHtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA9IGlkX3JlZ2lvbjtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZSA9IGFwcC5mZWF0dXJlX25hbWVzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dO1xuICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1hcF9lbGVtLmNvbXB1dGVEaXN0TWF0KCk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbigrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RfZmlsdGVyJykudmFsdWUpO1xuICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpIHtcbiAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICB9XG4gIC8vIFJlc2V0IHRoZSBjb2xvciB0byB1c2Ugb24gdGhlIGNoYXJ0L21hcDpcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbiogQWRkcyBhIHZhcmlhYmxlIHRvIHRoZSBjdXJyZW50bHkgdXNlZCBleHRyYWN0IG9mIHRoZSBkYXRhc2V0IChwcmV2aW91c2x5XG4qIG9idGFpbmVkIHdpdGggdGhlICdmaWx0ZXJMZXZlbFZhcicgZnVuY3Rpb24pLlxuKlxuKiBAcGFyYW0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcGFyYW0gY29kZV9yYXRpbyAtIFRoZSBjb2RlIG9mIHRoZSB2YXJpYWJsZSB0byBiZSBhZGRlZC5cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gYWRkVmFyaWFibGUoYXBwLCBjb2RlX3JhdGlvKSB7XG4gIGNvbnN0IHZhcmlhYmxlX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maWx0ZXIoZCA9PiBkLmlkID09PSBjb2RlX3JhdGlvKVswXTtcbiAgYXBwLmNvbG9ycyA9IHt9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICBhcHAuY3VycmVudF9jb25maWcubnVtLnB1c2godmFyaWFibGVfaW5mby5pZDEpO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0ucHVzaCh2YXJpYWJsZV9pbmZvLmlkMik7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5wdXNoKHZhcmlhYmxlX2luZm8uaWQpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWUucHVzaCh2YXJpYWJsZV9pbmZvLm5hbWUpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fdW5pdC5wdXNoKHZhcmlhYmxlX2luZm8udW5pdCk7XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBSZW1vdmVzIGEgdmFyaWFibGUgZnJvbSB0aGUgY3VycmVudGx5IHVzZWQgZXh0cmFjdCBvZiB0aGUgZGF0YXNldCAocHJldmlvdXNseVxuKiBvYnRhaW5lZCB3aXRoIHRoZSAnZmlsdGVyTGV2ZWxWYXInIGZ1bmN0aW9uKS5cbipcbiogQHBhcmFtIGFwcCAtIFRoZSB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBnbG9iYWwgcGFyYW1ldGVycyBhYm91dFxuKiAgIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiogQHBhcmFtIGNvZGVfcmF0aW8gLSBUaGUgY29kZSBvZiB0aGUgdmFyaWFibGUgdG8gYmUgcmVtb3ZlLlxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWYXJpYWJsZShhcHAsIGNvZGVfcmF0aW8pIHtcbiAgY29uc3QgaXggPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uaW5kZXhPZihjb2RlX3JhdGlvKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0uc3BsaWNlKGl4LCAxKTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnNwbGljZShpeCwgMSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5zcGxpY2UoaXgsIDEpO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fdW5pdC5zcGxpY2UoaXgsIDEpO1xuICBmaWx0ZXJMZXZlbFZhcihhcHApO1xufVxuXG4vKipcbiogUmVzZXQgdGhlIGN1cnJlbnQgdmFyaWFibGVzIGluIHVzZSAodXNlZCBpbiBvcmRlciB0byBhdm9pZCBzdWNjZXNzaXZlIGNhbGxzXG4qIHRvIGFkZFZhcmlhYmxlIGFuZCByZW1vdmVWYXJpYWJsZSBpZiBuZWNlc3NhcnkpLlxuKlxuKiBAcGFyYW0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcGFyYW0gY29kZXNfcmF0aW8gLVxuKiBAcmV0dXJuIHt2b2lkfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFZhcmlhYmxlcyhhcHAsIGNvZGVzX3JhdGlvKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLm51bSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcuZGVudW0gPSBbXTtcbiAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvID0gW107XG4gIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZSA9IFtdO1xuICBhcHAuY3VycmVudF9jb25maWcucmF0aW9fdW5pdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29kZXNfcmF0aW8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjb2RlX3JhdGlvID0gY29kZXNfcmF0aW9baV07XG4gICAgY29uc3QgdmFyaWFibGVfaW5mbyA9IHZhcmlhYmxlc19pbmZvLmZpbHRlcihkID0+IGQuaWQgPT09IGNvZGVfcmF0aW8pWzBdO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5udW0ucHVzaCh2YXJpYWJsZV9pbmZvLmlkMSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLmRlbnVtLnB1c2godmFyaWFibGVfaW5mby5pZDIpO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpby5wdXNoKHZhcmlhYmxlX2luZm8uaWQpO1xuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb19wcmV0dHlfbmFtZS5wdXNoKHZhcmlhYmxlX2luZm8ubmFtZSk7XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3VuaXQucHVzaCh2YXJpYWJsZV9pbmZvLnVuaXQpO1xuICB9XG4gIGZpbHRlckxldmVsVmFyKGFwcCk7XG59XG5cbi8qKlxuKiBDb21wdXRlIHRoZSByYXRpbyBvZiBhdmFpbGFibGUgKD0gbm90IGVtcHR5KSB2YWx1ZXMgKHRoZSBjb21wbGV0ZW5lc3MpIHdpdGhpblxuKiB0aGUgc3Vic2V0IGN1cnJlbnRseSBpbiB1c2UgZm9yIGFsbCB0aGUgdmFyaWFibGVzIGluIFwidmFyc1wiLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC0gVGhlIHZhcmlhYmxlIGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBwYXJhbWV0ZXJzIGFib3V0XG4qICAgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuKiBAcGFyYW0ge0FycmF5fSB2YXJzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIGZvciB3aGljaCBjb21wbGV0ZW5lc3Mgd2lsbCBiZSBjYWxjdWxhdGVkLlxuKiBAcGFyYW0ge1N0cmluZ30gb3V0cHV0IC0gV2hldGhlciB0byBvdXRwdXQgdGhlIHJlc3VsdCBhcyBhIE51bWJlciBvciBhcyBhbiBBcnJheVxuKiBAcmV0dXJuIHtOdW1iZXIgb3IgQXJyYXl9IC0gTnVtYmVyOiBUaGUgcmF0aW9zIG9mIGZlYXR1cmVzIHdpdGggYXZhaWxhYmxlIHZhbHVlcyB3aXRoaW5cbiogICAgdGhlIHN0dWR5IHpvbmUgKGluICUpIG9yLCBBcnJheSA6IHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgd2l0aCBhdmFpbGFibGUgdmFsdWVzXG4qICAgIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGZlYXR1cmVzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHZhcnMsIG91dHB1dCA9ICdyYXRpbycpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRfbGV2ZWwsIGlkX2ZpZWxkLCBmaWx0ZXJfa2V5LCBteV9yZWdpb24sXG4gIH0gPSBhcHAuY3VycmVudF9jb25maWc7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBkYXRhc2V0ICh3aXRoaW4gdGhlIFwic3R1ZHkgem9uZVwiIGlmIGFueSk6XG4gIGxldCB0ZW1wO1xuICBpZiAoZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0gJiYgZmlsdGVyX2tleS5pbmRleE9mKGZ0W2lkX2ZpZWxkXSkgPiAtMSk7XG4gIH0gZWxzZSBpZiAoZmlsdGVyX2tleSkge1xuICAgIGNvbnN0IG15X2NhdGVnb3J5ID0gYXBwLmZ1bGxfZGF0YXNldC5maW5kKGZ0ID0+IGZ0W2lkX2ZpZWxkXSA9PT0gbXlfcmVnaW9uKVtmaWx0ZXJfa2V5XTtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSAmJiBmdFtmaWx0ZXJfa2V5XSA9PT0gbXlfY2F0ZWdvcnkpO1xuICB9IGVsc2Uge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdKTtcbiAgfVxuICBjb25zdCB0b3RhbF9sZW5ndGggPSB0ZW1wLmxlbmd0aDtcblxuICAvLyBDb21wdXRlIHRoZSBsZW5ndGggb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB2YXJzLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIHByb3BzX2ZlYXR1cmVbdmFyc1tpXV0gPSArZnRbdmFyc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wc19mZWF0dXJlO1xuICB9KS5maWx0ZXIoZnQgPT4gdmFycy5tYXAocmF0aW9fbmFtZSA9PiAhIWZ0W3JhdGlvX25hbWVdKS5ldmVyeSh2ID0+IHYgPT09IHRydWUpKTtcbiAgY29uc3QgZmlsdGVyZWRfbGVuZ3RoID0gdGVtcC5sZW5ndGg7XG5cbiAgaWYgKCEob3V0cHV0ID09PSAncmF0aW8nKSkge1xuICAgIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGZlYXR1cmVzIHdpdGggYXZhaWxhYmxlIHZhbHVlcyB3aXRoaW5cbiAgICAvLyB0aGUgc3R1ZHkgem9uZSwgYW5kIHRoZSB0b3RhbCBudW1iZXIgb2YgZmVhdHVyZXMgb2YgdGhlIHN0dWR5IHpvbmVcbiAgICByZXR1cm4gW2ZpbHRlcmVkX2xlbmd0aCwgdG90YWxfbGVuZ3RoXTtcbiAgfVxuICAvLyBSZXR1cm4gdGhlIHJhdGlvIG9mIGF2YWlsYWJsZSB2YWx1ZXMgKFwiY29tcGzDqXR1ZGVcIikgd2l0aGluXG4gIC8vIHRoZSBzdHVkeSB6b25lIHNlbGVjdGVkIGJ5IHRoZSB1c2VyOlxuICByZXR1cm4gTWF0aC5yb3VuZCgoZmlsdGVyZWRfbGVuZ3RoIC8gdG90YWxfbGVuZ3RoKSAqIDEwMDAwKSAvIDEwMDtcbn1cblxuLyoqXG4qIENvbXB1dGUgdGhlIHJhdGlvIG9mIHBvcHVsYXRpb24gY292ZXJlZCBieSBmZWF0dXJlcyBvbiB3aGljaCBhbGwgdGhlIHZhcmlhYmxlc1xuKiBvZiBcInZhcnNcIiBhcmUgYXZhaWxhYmxlLlxuKlxuKiBAcGFyYW0ge09iamVjdH0gYXBwIC1UaGUgdmFyaWFibGUgY29udGFpbmluZyB0aGUgZ2xvYmFsIHBhcmFtZXRlcnMgYWJvdXRcbiogICB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4qIEBwYXJhbSB7QXJyYXl9IHZhcnMgLSBBIGxpc3Qgb2YgdmFyaWFibGUgbmFtZXMgZm9yIHdoaWNoIGNvbXBsZXRlbmVzcyB3aWxsIGJlIGNhbGN1bGF0ZWQuXG4qIEByZXR1cm4ge051bWJlcn0gLSBUaGUgcmF0aW8gKGluICUpIG9mIHBvcHVsYXRpb24gY292ZXJlZCBieSBmZWF0dXJlcyBmb3Igd2hpY2hcbiogICBhcmUgYXZhaWxhYmxlIHdpdGhpbiB0aGUgc3R1ZHkgem9uZS5cbipcbiovXG5leHBvcnQgZnVuY3Rpb24gY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB2YXJzKSB7XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50X2xldmVsLCBpZF9maWVsZCwgZmlsdGVyX2tleSwgbXlfcmVnaW9uLCBwb3BfZmllbGQsXG4gIH0gPSBhcHAuY3VycmVudF9jb25maWc7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgdG90YWwgcG9wdWxhdGlvbiBzdG9jayBvZiB0aGUgZGF0YSAod2l0aGluIHRoZSBcInN0dWR5IHpvbmVcIiBpZiBhbnkpOlxuICBsZXQgdGVtcDtcbiAgaWYgKGZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHRlbXAgPSBhcHAuZnVsbF9kYXRhc2V0XG4gICAgICAuZmlsdGVyKGZ0ID0+ICEhK2Z0W2N1cnJlbnRfbGV2ZWxdICYmIGZpbHRlcl9rZXkuaW5kZXhPZihmdFtpZF9maWVsZF0pID4gLTEpO1xuICB9IGVsc2UgaWYgKGZpbHRlcl9rZXkpIHtcbiAgICBjb25zdCBteV9jYXRlZ29yeSA9IGFwcC5mdWxsX2RhdGFzZXQuZmluZChmdCA9PiBmdFtpZF9maWVsZF0gPT09IG15X3JlZ2lvbilbZmlsdGVyX2tleV07XG4gICAgdGVtcCA9IGFwcC5mdWxsX2RhdGFzZXRcbiAgICAgIC5maWx0ZXIoZnQgPT4gISErZnRbY3VycmVudF9sZXZlbF0gJiYgZnRbZmlsdGVyX2tleV0gPT09IG15X2NhdGVnb3J5KTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wID0gYXBwLmZ1bGxfZGF0YXNldFxuICAgICAgLmZpbHRlcihmdCA9PiAhIStmdFtjdXJyZW50X2xldmVsXSk7XG4gIH1cbiAgbGV0IHRvdGFsX3BvcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0ZW1wLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdG90YWxfcG9wICs9IE51bWJlci5pc05hTigrdGVtcFtpXVtwb3BfZmllbGRdKSA/IDAgOiArdGVtcFtpXVtwb3BfZmllbGRdO1xuICB9XG4gIC8vIENvbXB1dGUgdGhlIHBvcHVsYXRpb24gc3RvY2sgb2YgdGhlIGRhdGFzZXQgaWYgd2UgZmlsdGVyIGVtcHR5IGZlYXR1cmVzXG4gIC8vIG9uIGFsbCB0aGUgdmFyaWFibGVzIG9mIFwidmFyc1wiOlxuICB0ZW1wID0gdGVtcC5tYXAoKGZ0KSA9PiB7XG4gICAgY29uc3QgcHJvcHNfZmVhdHVyZSA9IHtcbiAgICAgIGlkOiBmdFtpZF9maWVsZF0sXG4gICAgICBwb3A6ICtmdFtwb3BfZmllbGRdLFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdmFycy5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBwcm9wc19mZWF0dXJlW3ZhcnNbaV1dID0gK2Z0W3ZhcnNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNfZmVhdHVyZTtcbiAgfSkuZmlsdGVyKGZ0ID0+IHZhcnMubWFwKHJhdGlvX25hbWUgPT4gISFmdFtyYXRpb19uYW1lXSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSk7XG4gIGxldCBzdWJzZXRfcG9wID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRlbXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBzdWJzZXRfcG9wICs9IE51bWJlci5pc05hTih0ZW1wW2ldLnBvcCkgPyAwIDogdGVtcFtpXS5wb3A7XG4gIH1cbiAgLy8gUmV0dXJuIHRoZSByYXRpbyBvZiBwb3B1bGF0aW9uIHZhbHVlcyAoXCJjb21wbMOpdHVkZVwiKSB3aXRoaW5cbiAgLy8gdGhlIHN0dWR5IHpvbmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXI6XG4gIHJldHVybiBNYXRoLnJvdW5kKChzdWJzZXRfcG9wIC8gdG90YWxfcG9wKSAqIDEwMDAwKSAvIDEwMDtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiIsImltcG9ydCBjZW50cm9pZCBmcm9tICdAdHVyZi9jZW50cm9pZCc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuLy4uL21haW4nO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3Jfc3VwLCBjb2xvcl9pbmYsIGNvbG9yX2hpZ2hsaWdodCwgZml4ZWRfZGltZW5zaW9uIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IG1hdGhfbWF4LCBnZXRTdmdQYXRoVHlwZSwgc3ZnUGF0aFRvQ29vcmRzLCBldWNsaWRpYW5fZGlzdGFuY2UsIHByZXBhcmVUb29sdGlwMiwgZ2V0RWxlbWVudHNGcm9tUG9pbnQsIG5vQ29udGV4dE1lbnUgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgZmlsdGVyTGV2ZWxHZW9tIH0gZnJvbSAnLi9wcmVwYXJlX2RhdGEnO1xuXG5cbmNvbnN0IHN2Z19tYXAgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfbWFwJykub24oJ2NvbnRleHRtZW51Jywgbm9Db250ZXh0TWVudSk7XG5jb25zdCB3aWR0aF9tYXAgPSBmaXhlZF9kaW1lbnNpb24ubWFwLndpZHRoO1xuY29uc3QgaGVpZ2h0X21hcCA9IGZpeGVkX2RpbWVuc2lvbi5tYXAuaGVpZ2h0O1xubGV0IHN0eWxlcztcbmxldCBwcm9qZWN0aW9uO1xubGV0IHBhdGg7XG5cbmZ1bmN0aW9uIGdldF9iYm94X2xheWVyX3BhdGgobmFtZSkge1xuICBjb25zdCBiYm94X2xheWVyID0gW1tJbmZpbml0eSwgSW5maW5pdHldLCBbLUluZmluaXR5LCAtSW5maW5pdHldXTtcbiAgc3ZnX21hcC5zZWxlY3QoYCMke25hbWV9YClcbiAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAuZWFjaCgoZCkgPT4ge1xuICAgICAgY29uc3QgYmJveF9wYXRoID0gcGF0aC5ib3VuZHMoZC5nZW9tZXRyeSk7XG4gICAgICBiYm94X2xheWVyWzBdWzBdID0gYmJveF9wYXRoWzBdWzBdIDwgYmJveF9sYXllclswXVswXSA/IGJib3hfcGF0aFswXVswXSA6IGJib3hfbGF5ZXJbMF1bMF07XG4gICAgICBiYm94X2xheWVyWzBdWzFdID0gYmJveF9wYXRoWzBdWzFdIDwgYmJveF9sYXllclswXVsxXSA/IGJib3hfcGF0aFswXVsxXSA6IGJib3hfbGF5ZXJbMF1bMV07XG4gICAgICBiYm94X2xheWVyWzFdWzBdID0gYmJveF9wYXRoWzFdWzBdID4gYmJveF9sYXllclsxXVswXSA/IGJib3hfcGF0aFsxXVswXSA6IGJib3hfbGF5ZXJbMV1bMF07XG4gICAgICBiYm94X2xheWVyWzFdWzFdID0gYmJveF9wYXRoWzFdWzFdID4gYmJveF9sYXllclsxXVsxXSA/IGJib3hfcGF0aFsxXVsxXSA6IGJib3hfbGF5ZXJbMV1bMV07XG4gICAgfSk7XG4gIHJldHVybiBiYm94X2xheWVyO1xufVxuXG5mdW5jdGlvbiBmaXRMYXllcigpIHtcbiAgcHJvamVjdGlvbi5zY2FsZSgxKS50cmFuc2xhdGUoWzAsIDBdKTtcbiAgY29uc3QgYiA9IGdldF9iYm94X2xheWVyX3BhdGgoJ2ZyYW1lJyk7XG4gIGNvbnN0IHMgPSAxIC8gbWF0aF9tYXgoKGJbMV1bMF0gLSBiWzBdWzBdKSAvIHdpZHRoX21hcCwgKGJbMV1bMV0gLSBiWzBdWzFdKSAvIGhlaWdodF9tYXApO1xuICBjb25zdCB0ID0gWyh3aWR0aF9tYXAgLSBzICogKGJbMV1bMF0gKyBiWzBdWzBdKSkgLyAyLCAoaGVpZ2h0X21hcCAtIHMgKiAoYlsxXVsxXSArIGJbMF1bMV0pKSAvIDJdO1xuICBwcm9qZWN0aW9uLnNjYWxlKHMpLnRyYW5zbGF0ZSh0KTtcbiAgc3ZnX21hcC5zZWxlY3RBbGwoJ3BhdGgnKS5hdHRyKCdkJywgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIG1hcF96b29tZWQoKSB7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGQzLmV2ZW50ID8gZDMuZXZlbnQudHJhbnNmb3JtIDogc3ZnX21hcC5ub2RlKCkuX196b29tO1xuICBpZiAodHJhbnNmb3JtLmsgPCAxKSB0cmFuc2Zvcm0uayA9IDE7XG4gIGlmICh0cmFuc2Zvcm0uayA9PT0gMSkge1xuICAgIHRyYW5zZm9ybS54ID0gMDtcbiAgICB0cmFuc2Zvcm0ueSA9IDA7XG4gIH1cbiAgY29uc3QgbGF5ZXJzID0gc3ZnX21hcC5zZWxlY3QoJyNsYXllcnMnKTtcbiAgY29uc3QgdCA9IGxheWVyc1xuICAgIC5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMjI1KTtcblxuICBsYXllcnMuc2VsZWN0QWxsKCdnJylcbiAgICAudHJhbnNpdGlvbih0KVxuICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0eWxlc1t0aGlzLmlkXSA/XG4gICAgICAgIGAke3N0eWxlc1t0aGlzLmlkXVsnc3Ryb2tlLXdpZHRoJ10gLyB0cmFuc2Zvcm0ua31weGBcbiAgICAgICAgOiBudWxsO1xuICAgIH0pO1xuXG4gIGxheWVycy5zZWxlY3RBbGwoJ2cnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG5cbiAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC50cmFuc2l0aW9uKHQpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XG59XG5cbmZ1bmN0aW9uIGludGVycG9sYXRlWm9vbSh0cmFuc2xhdGUsIHNjYWxlKSB7XG4gIGNvbnN0IG5vZGVfc3ZnX21hcCA9IHN2Z19tYXAubm9kZSgpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSBkMy56b29tVHJhbnNmb3JtKG5vZGVfc3ZnX21hcCk7XG4gIHJldHVybiBkMy50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjI1KS50d2Vlbignem9vbScsICgpID0+IHtcbiAgICBjb25zdCBpVHJhbnNsYXRlID0gZDMuaW50ZXJwb2xhdGUoW3RyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueV0sIHRyYW5zbGF0ZSk7XG4gICAgY29uc3QgaVNjYWxlID0gZDMuaW50ZXJwb2xhdGUodHJhbnNmb3JtLmssIHNjYWxlKTtcbiAgICByZXR1cm4gKHRfdmFsdWUpID0+IHtcbiAgICAgIG5vZGVfc3ZnX21hcC5fX3pvb20uayA9IGlTY2FsZSh0X3ZhbHVlKTtcbiAgICAgIGNvbnN0IF90ID0gaVRyYW5zbGF0ZSh0X3ZhbHVlKTtcbiAgICAgIG5vZGVfc3ZnX21hcC5fX3pvb20ueCA9IF90WzBdO1xuICAgICAgbm9kZV9zdmdfbWFwLl9fem9vbS55ID0gX3RbMV07XG4gICAgICBtYXBfem9vbWVkKCk7XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHpvb21DbGljaygpIHtcbiAgY29uc3QgZGlyZWN0aW9uID0gKHRoaXMuaWQgPT09ICd6b29tX2luJykgPyAxIDogLTE7XG4gIGNvbnN0IGZhY3RvciA9IDAuMTtcbiAgY29uc3QgY2VudGVyID0gW3dpZHRoX21hcCAvIDIsIGhlaWdodF9tYXAgLyAyXTtcbiAgY29uc3QgdHJhbnNmb3JtID0gZDMuem9vbVRyYW5zZm9ybShzdmdfbWFwLm5vZGUoKSk7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IFt0cmFuc2Zvcm0ueCwgdHJhbnNmb3JtLnldO1xuICBjb25zdCB2aWV3ID0geyB4OiB0cmFuc2xhdGVbMF0sIHk6IHRyYW5zbGF0ZVsxXSwgazogdHJhbnNmb3JtLmsgfTtcbiAgbGV0IHRhcmdldF96b29tID0gMTtcbiAgbGV0IHRyYW5zbGF0ZTAgPSBbXTtcbiAgbGV0IGwgPSBbXTtcbiAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgdGFyZ2V0X3pvb20gPSB0cmFuc2Zvcm0uayAqICgxICsgZmFjdG9yICogZGlyZWN0aW9uKTtcbiAgdHJhbnNsYXRlMCA9IFsoY2VudGVyWzBdIC0gdmlldy54KSAvIHZpZXcuaywgKGNlbnRlclsxXSAtIHZpZXcueSkgLyB2aWV3LmtdO1xuICB2aWV3LmsgPSB0YXJnZXRfem9vbTtcbiAgbCA9IFt0cmFuc2xhdGUwWzBdICogdmlldy5rICsgdmlldy54LCB0cmFuc2xhdGUwWzFdICogdmlldy5rICsgdmlldy55XTtcbiAgdmlldy54ICs9IGNlbnRlclswXSAtIGxbMF07XG4gIHZpZXcueSArPSBjZW50ZXJbMV0gLSBsWzFdO1xuICBpbnRlcnBvbGF0ZVpvb20oW3ZpZXcueCwgdmlldy55XSwgdmlldy5rKTtcbn1cblxuXG5mdW5jdGlvbiBtYWtlTWFwTGVnZW5kKGxlZ2VuZF9lbGVtcywgc2l6ZSwgdHJhbnNsYXRlWSkge1xuICBjb25zdCByZWN0X3NpemUgPSAxNTtcbiAgY29uc3Qgc3BhY2luZyA9IDQ7XG4gIGNvbnN0IGxnZF9oZWlnaHQgPSByZWN0X3NpemUgKyBzcGFjaW5nO1xuICBjb25zdCBvZmZzZXQgPSBsZ2RfaGVpZ2h0ICogbGVnZW5kX2VsZW1zLmxlbmd0aCAvIDI7XG5cbiAgY29uc3Qgd2lkdGhfdmFsdWVfbWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9zZWN0aW9uJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKiAwLjk4O1xuICBkMy5zZWxlY3QoJy5jb250X3N2Zy5jbGdkJylcbiAgICAuc3R5bGUoJ3BhZGRpbmctdG9wJywgYCR7KHNpemUgLyBmaXhlZF9kaW1lbnNpb24ubGVnZW5kLndpZHRoKSAqIHdpZHRoX3ZhbHVlX21hcH1weGApO1xuXG4gIGNvbnN0IGdycF9sZ2QgPSBkMy5zZWxlY3QoJyNzdmdfbGVnZW5kJylcbiAgICAuYXR0cigndmlld0JveCcsIGAwIDAgJHtmaXhlZF9kaW1lbnNpb24ubGVnZW5kLndpZHRofSAke3NpemV9YClcbiAgICAuYXBwZW5kKCdnJylcbiAgICAuc3R5bGVzKHsgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywgJ2ZvbnQtZmFtaWx5JzogJ1xcJ1NpZ25pa2FcXCcsIHNhbnMtc2VyaWYnIH0pO1xuXG4gIGNvbnN0IGxlZ2VuZHMgPSBncnBfbGdkLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXG4gICAgLmRhdGEobGVnZW5kX2VsZW1zKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKCR7WzEwLCArdHJhbnNsYXRlWSArIGkgKiBsZ2RfaGVpZ2h0IC0gb2Zmc2V0XX0pYCk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRycyh7IHdpZHRoOiByZWN0X3NpemUsIGhlaWdodDogcmVjdF9zaXplIH0pXG4gICAgLnN0eWxlcyhkID0+ICh7IGZpbGw6IGQuY29sb3IsIHN0cm9rZTogZC5jb2xvciB9KSk7XG5cbiAgbGVnZW5kcy5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRycyh7IHg6IHJlY3Rfc2l6ZSArIHNwYWNpbmcsIHk6IHJlY3Rfc2l6ZSAtIHNwYWNpbmcgfSlcbiAgICAudGV4dChkID0+IGQudGV4dCk7XG5cbiAgaWYgKGxlZ2VuZF9lbGVtc1tsZWdlbmRfZWxlbXMubGVuZ3RoIC0gMV0uY29sb3IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGNvbnN0IGVsZW1zID0gZ3JwX2xnZC5zZWxlY3RBbGwoJ2cubGVnZW5kJykuX2dyb3Vwc1swXTtcbiAgICBjb25zdCBsYXN0X2VsZW0gPSBkMy5zZWxlY3QoZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV0pO1xuICAgIGxhc3RfZWxlbS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgLmF0dHIoJ3BvaW50cycsIGAwLDAgJHtyZWN0X3NpemV9LCR7cmVjdF9zaXplfSAwLCR7cmVjdF9zaXplfWApXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBsYXN0X2VsZW0ubm9kZSgpLl9fZGF0YV9fLmNvbG9yWzBdKTtcbiAgICBsYXN0X2VsZW0uYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgIC5hdHRyKCdwb2ludHMnLCBgMCwwICR7cmVjdF9zaXplfSwwICR7cmVjdF9zaXplfSwke3JlY3Rfc2l6ZX1gKVxuICAgICAgLnN0eWxlKCdmaWxsJywgbGFzdF9lbGVtLm5vZGUoKS5fX2RhdGFfXy5jb2xvclsxXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TGVnZW5kRWxlbXModHlwZSkge1xuICBpZiAodHlwZSA9PT0gMCkge1xuICAgIHJldHVybiBbXG4gICAgICBbXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX2hpZ2hsaWdodCwgdGV4dDogYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCB9LFxuICAgICAgICB7IGNvbG9yOiBjb2xvcl9jb3VudHJpZXMsIHRleHQ6ICdBdXRyZXMgcsOpZ2lvbnMgZGUgbFxcJ2VzcGFjZSBkXFwnw6l0dWRlJyB9LFxuICAgICAgICB7IGNvbG9yOiBjb2xvcl9zdXAsIHRleHQ6ICdSYW5nIHBsdXMgw6lsZXbDqSBxdWUgbWEgcsOpZ2lvbicgfSxcbiAgICAgICAgeyBjb2xvcjogY29sb3JfaW5mLCB0ZXh0OiAnUmFuZyBtb2lucyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uJyB9LFxuICAgICAgXSxcbiAgICAgICc4MCcsICc0MScsXG4gICAgXTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAxKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFtcbiAgICAgICAgeyBjb2xvcjogY29sb3JfaGlnaGxpZ2h0LCB0ZXh0OiBgTWEgcsOpZ2lvbiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX1gIH0sXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX2NvdW50cmllcywgdGV4dDogJ0F1dHJlcyByw6lnaW9ucyBkZSBsXFwnZXNwYWNlIGRcXCfDqXR1ZGUnIH0sXG4gICAgICAgIHsgY29sb3I6IGNvbG9yX3N1cCwgdGV4dDogJ1JhbmcgcGx1cyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uICgyIGluZGljYXRldXJzKScgfSxcbiAgICAgICAgeyBjb2xvcjogY29sb3JfaW5mLCB0ZXh0OiAnUmFuZyBtb2lucyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uICgyIGluZGljYXRldXJzKScgfSxcbiAgICAgICAgeyBjb2xvcjogWydvcmFuZ2UnLCAncmdiKDE2MCwgMzAsIDE2MCknXSwgdGV4dDogJ1JhbmcgcGx1cyDDqWxldsOpIHF1ZSBtYSByw6lnaW9uICgxIGluZGljYXRldXIgc3VyIDIpJyB9LFxuICAgICAgXSxcbiAgICAgICcxMDAnLCAnNTAnLFxuICAgIF07XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBbXG4gICAgICB7IGNvbG9yOiBjb2xvcl9oaWdobGlnaHQsIHRleHQ6IGBNYSByw6lnaW9uIDogJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfWAgfSxcbiAgICAgIHsgY29sb3I6IGNvbG9yX2NvdW50cmllcywgdGV4dDogJ0F1dHJlcyByw6lnaW9ucyBkZSBsXFwnZXNwYWNlIGRcXCfDqXR1ZGUgKHPDqWxlY3Rpb25uYWJsZXMpJyB9LFxuICAgICAgLy8geyBjb2xvcjogY29sb3JfY291bnRyaWVzLCB0ZXh0OiAnQXV0cmVzIHLDqWdpb25zIGRlIGxcXCdlc3BhY2UgZFxcJ8OpdHVkZSwgc8OpbGVjdGlvbm5hYmxlcyBwb3VyIGxhIGNvbXBhcmFpc29uJyB9LFxuICAgIF0sXG4gICAgJzUwJywgJzIyLjUnLFxuICBdO1xufVxuXG5cbmNsYXNzIE1hcFNlbGVjdCB7XG4gIGNvbnN0cnVjdG9yKG51dHMsIG90aGVyX2xheWVycywgdXNlcl9zdHlsZXMsIGZpbHRlciA9ICdOMScpIHtcbiAgICBzdHlsZXMgPSBPYmplY3QuYXNzaWduKHt9LCB1c2VyX3N0eWxlcyk7XG4gICAgLy8gYmJveF9zdmcgPSBzdmdfbWFwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyB3aWR0aF9tYXAgPSArYmJveF9zdmcud2lkdGggfHwgKDUwMCAqIGFwcC5yYXRpb1RvV2lkZSk7XG4gICAgY29uc3Qgd2lkdGhfdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAqIDAuOTg7XG4gICAgZDMuc2VsZWN0KCcuY29udF9zdmcuY21hcCcpLnN0eWxlKCdwYWRkaW5nLXRvcCcsIGAkeyhmaXhlZF9kaW1lbnNpb24ubWFwLmhlaWdodCAvIGZpeGVkX2RpbWVuc2lvbi5tYXAud2lkdGgpICogd2lkdGhfdmFsdWV9cHhgKTtcbiAgICAvLyBzdmdfbWFwLmF0dHIoJ2hlaWdodCcsIGAke2hlaWdodF9tYXB9cHhgKVxuICAgIC8vICAgLmF0dHIoJ3dpZHRoJywgYCR7d2lkdGhfbWFwfXB4YCk7XG4gICAgLy8gYXBwLm1hcERyYXdSYXRpbyA9IGFwcC5yYXRpb1RvV2lkZTtcbiAgICBwcm9qZWN0aW9uID0gZDMuZ2VvSWRlbnRpdHkoKVxuICAgICAgLmZpdEV4dGVudChbWzAsIDBdLCBbZml4ZWRfZGltZW5zaW9uLm1hcC53aWR0aCwgZml4ZWRfZGltZW5zaW9uLm1hcC5oZWlnaHRdXSwgb3RoZXJfbGF5ZXJzLmdldCgnZnJhbWUnKSlcbiAgICAgIC5yZWZsZWN0WSh0cnVlKTtcblxuICAgIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTtcblxuICAgIGNvbnN0IGxheWVycyA9IHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdsYXllcnMnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdzY2FsZSgxKScpO1xuICAgIHRoaXMubnV0cyA9IG51dHM7XG4gICAgdGhpcy56b29tX21hcCA9IGQzLnpvb20oKVxuICAgICAgLnNjYWxlRXh0ZW50KFsxLCA1XSlcbiAgICAgIC50cmFuc2xhdGVFeHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgLm9uKCd6b29tJywgbWFwX3pvb21lZCk7XG5cbiAgICBzdmdfbWFwLmNhbGwodGhpcy56b29tX21hcCk7XG5cbiAgICBjb25zdCBmbl9hdHRyc19sYXllcnMgPSBkID0+ICh7XG4gICAgICBjbGFzczogJ3RnX2Z0JyxcbiAgICAgIHRpdGxlOiBgJHtkLnByb3BlcnRpZXNbYXBwLmN1cnJlbnRfY29uZmlnLm5hbWVfZmllbGRdfSAoJHtkLmlkfSlgLFxuICAgICAgZmlsbDogKGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQpLFxuICAgICAgZDogcGF0aCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxheWVyX2xpc3QgPSBPYmplY3Qua2V5cyhzdHlsZXMpO1xuICAgIGZvciAobGV0IGkgPSAwLCBuX2xheWVyID0gbGF5ZXJfbGlzdC5sZW5ndGg7IGkgPCBuX2xheWVyOyBpKyspIHtcbiAgICAgIGNvbnN0IG5hbWVfbHlyID0gbGF5ZXJfbGlzdFtpXTtcbiAgICAgIGNvbnN0IHN0eWxlX2xheWVyID0gc3R5bGVzW25hbWVfbHlyXTtcbiAgICAgIGlmIChzdHlsZV9sYXllci50YXJnZXQgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy50YXJnZXRfbGF5ZXIgPSBsYXllcnMuYXBwZW5kKCdnJylcbiAgICAgICAgICAuYXR0cnMoc3R5bGVfbGF5ZXIpO1xuICAgICAgICB0aGlzLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5kYXRhKGZpbHRlckxldmVsR2VvbSh0aGlzLm51dHMuZmVhdHVyZXMsIGZpbHRlciksIGQgPT4gZC5pZClcbiAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgIC5hdHRycyhmbl9hdHRyc19sYXllcnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAgICAgLmF0dHJzKHN0eWxlX2xheWVyKVxuICAgICAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgIC5kYXRhKG90aGVyX2xheWVycy5nZXQobmFtZV9seXIpLmZlYXR1cmVzKVxuICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgLmF0dHIoJ2QnLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGF5ZXJzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBpZDogJ3RlbXAnIH0pO1xuXG4gICAgdGhpcy5sYXllcnMgPSBsYXllcnM7XG4gICAgZml0TGF5ZXIoKTtcbiAgICBhcHAudHlwZV9wYXRoID0gZ2V0U3ZnUGF0aFR5cGUodGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0KCdwYXRoJykubm9kZSgpLmdldEF0dHJpYnV0ZSgnZCcpKTtcbiAgICB0aGlzLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wdHMgPSBzdmdQYXRoVG9Db29yZHModGhpcy5nZXRBdHRyaWJ1dGUoJ2QnKSwgYXBwLnR5cGVfcGF0aCk7XG4gICAgICB9KTtcbiAgICB0aGlzLnRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcDIoZDMuc2VsZWN0KHN2Z19tYXAubm9kZSgpLnBhcmVudEVsZW1lbnQpLCBudWxsLCAndG9vbHRpcF9tYXAnKTtcbiAgICB0aGlzLmJpbmRUb29sdGlwcygpO1xuICB9XG5cbiAgdXBkYXRlTGV2ZWxSZWdpb24oZmlsdGVyID0gJ04xJykge1xuICAgIGNvbnN0IG5ld19zZWxlY3Rpb24gPSBmaWx0ZXJMZXZlbEdlb20odGhpcy5udXRzLmZlYXR1cmVzLCBmaWx0ZXIpO1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMudGFyZ2V0X2xheWVyXG4gICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5kYXRhKG5ld19zZWxlY3Rpb24sIGQgPT4gZC5pZCk7XG4gICAgc2VsZWN0aW9uLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgdGl0bGU6IGAke2QucHJvcGVydGllc1thcHAuY3VycmVudF9jb25maWcubmFtZV9maWVsZF19ICgke2QuaWR9KWAsXG4gICAgICAgIGZpbGw6IGQuaWQgIT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyBjb2xvcl9jb3VudHJpZXMgOiBjb2xvcl9oaWdobGlnaHQsXG4gICAgICAgIGQ6IHBhdGgsXG4gICAgICB9KSk7XG4gICAgc2VsZWN0aW9uXG4gICAgICAuYXR0cignZCcsIHBhdGgpO1xuICAgIHNlbGVjdGlvblxuICAgICAgLmV4aXQoKVxuICAgICAgLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzZXRDb2xvcnMobmV3X3NlbGVjdGlvbi5tYXAoZCA9PiBkLmlkKSk7XG4gICAgdGhpcy5jb21wdXRlRGlzdE1hdCgpO1xuICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3B0cyA9IHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuICAgIHRoaXMuYmluZFRvb2x0aXBzKCk7XG4gIH1cblxuICBiaW5kVG9vbHRpcHMoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAvLyBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIC8vIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgLy8gdCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgLy8gfSwgMjUwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZSBtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLnRpdGxlJykuaHRtbCh0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnKSk7XG4gICAgICAgIGNvbnN0IGIgPSBzZWxmLnRvb2x0aXAuc2VsZWN0KCcudGl0bGUnKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBkMy5ldmVudC5jbGllbnRYIDwgKHdpbmRvdy5pbm5lcldpZHRoIC0gKGIud2lkdGggKyAyMCkpXG4gICAgICAgICAgPyBkMy5ldmVudC5jbGllbnRYIC0gNVxuICAgICAgICAgIDogZDMuZXZlbnQuY2xpZW50WCAtIGIud2lkdGg7XG4gICAgICAgIHNlbGYudG9vbHRpcFxuICAgICAgICAgIC5zdHlsZXMoe1xuICAgICAgICAgICAgZGlzcGxheTogbnVsbCxcbiAgICAgICAgICAgIGxlZnQ6IGAke2xlZnR9cHhgLFxuICAgICAgICAgICAgdG9wOiBgJHtkMy5ldmVudC5jbGllbnRZIC0gYi5oZWlnaHQgLSAyMH1weGAsXG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Q29sb3JzKGN1cnJlbnRfaWRzKSB7XG4gICAgdGhpcy50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiBhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Wm9vbSgpIHtcbiAgICBzdmdfbWFwLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgIC5jYWxsKHRoaXMuem9vbV9tYXAudHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkpO1xuICB9XG5cbiAgdXBkYXRlTGVnZW5kKCkge1xuICAgIGQzLnNlbGVjdCgnI3N2Z19sZWdlbmQgPiBnID4gLmxlZ2VuZCA+IHRleHQnKVxuICAgICAgLnRleHQoYE1hIHLDqWdpb24gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9YCk7XG4gIH1cblxuICByZW1vdmVSZWN0QnJ1c2goKSB7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKHRoaXMuYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICB9XG5cbiAgY2FsbEJydXNoKHNlbGVjdGlvbikge1xuICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuY2FsbCh0aGlzLmJydXNoX21hcC5tb3ZlLCBzZWxlY3Rpb24pO1xuICB9XG5cbiAgYmluZEJydXNoQ2xpY2soY2hhcnQpIHtcbiAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgIHRoaXMucmVzZXRab29tKCk7XG4gICAgaWYgKGNoYXJ0LmhhbmRsZUNsaWNrTWFwKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX21hcF9zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChjaGFydC5oYW5kbGVfYnJ1c2hfbWFwKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5icnVzaF9tYXAgPSBkMy5icnVzaCgpXG4gICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoX21hcCwgaGVpZ2h0X21hcF1dKVxuICAgICAgICAub24oJ3N0YXJ0IGJydXNoJywgKCkgPT4ge1xuICAgICAgICAgIGNoYXJ0LmhhbmRsZV9icnVzaF9tYXAoZDMuZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIHN2Z19tYXAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoX21hcCcpXG4gICAgICAgIC5jYWxsKHRoaXMuYnJ1c2hfbWFwKTtcblxuICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgICAgICAub24oJ21vdXNlbW92ZSBtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbXMgPSBnZXRFbGVtZW50c0Zyb21Qb2ludChkMy5ldmVudC5jbGllbnRYLCBkMy5ldmVudC5jbGllbnRZKTtcbiAgICAgICAgICBjb25zdCBlbGVtID0gZWxlbXMuZmluZChlID0+IGUuY2xhc3NOYW1lLmJhc2VWYWwgPT09ICd0Z19mdCcpO1xuICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdfY2xpY2tfZXZlbnQgPSBuZXcgTW91c2VFdmVudCgnbW91c2Vtb3ZlJywge1xuICAgICAgICAgICAgICBwYWdlWDogZDMuZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgIHBhZ2VZOiBkMy5ldmVudC5wYWdlWSxcbiAgICAgICAgICAgICAgY2xpZW50WDogZDMuZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgY2xpZW50WTogZDMuZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbGVtLmRpc3BhdGNoRXZlbnQobmV3X2NsaWNrX2V2ZW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgc2VsZi50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfcmVjdF9zZWxlYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19yZWN0X3NlbGVjJykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3NlbGVjdCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQuaGFuZGxlQ2xpY2tNYXAgJiYgIWNoYXJ0LmhhbmRsZV9icnVzaF9tYXApIHtcbiAgICAgIHRoaXMudGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGNoYXJ0LmhhbmRsZUNsaWNrTWFwKGQsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRVbml0c1dpdGhpbihkaXN0X2ttKSB7XG4gICAgY29uc3QgZGlzdCA9IGRpc3Rfa20gKiAxMDAwO1xuICAgIGlmICghdGhpcy5kaXN0X3RvX215X3JlZ2lvbikgdGhpcy5jb21wdXRlRGlzdE1hdCgpO1xuICAgIHJldHVybiB0aGlzLmRpc3RfdG9fbXlfcmVnaW9uLmZpbHRlcihkID0+IGQuZGlzdCA8PSBkaXN0KS5tYXAoZCA9PiBkLmlkKTtcbiAgfVxuXG4gIGNvbXB1dGVEaXN0TWF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgICAuY2FsbCh0aGlzLnRhcmdldF9sYXllci5ub2RlKCkucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpKTtcbiAgICBjb25zdCBuYl9mdCA9IGZlYXR1cmVzLmxlbmd0aDtcbiAgICBjb25zdCBteV9yZWdpb25fZ2VvbSA9IGZlYXR1cmVzLmZpbmQoXG4gICAgICBkID0+IGQuX19kYXRhX18uaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pLl9fZGF0YV9fLmdlb21ldHJ5O1xuICAgIGNvbnN0IG15X3JlZ2lvbl9jZW50cm9pZCA9IGNlbnRyb2lkKG15X3JlZ2lvbl9nZW9tKTtcbiAgICBjb25zdCByZXN1bHRfZGlzdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZnQ7IGkrKykge1xuICAgICAgY29uc3QgaWQgPSBmZWF0dXJlc1tpXS5fX2RhdGFfXy5pZDtcbiAgICAgIGNvbnN0IGRpc3QgPSBldWNsaWRpYW5fZGlzdGFuY2UoXG4gICAgICAgIG15X3JlZ2lvbl9jZW50cm9pZCwgY2VudHJvaWQoZmVhdHVyZXNbaV0uX19kYXRhX18uZ2VvbWV0cnkpKTtcbiAgICAgIHJlc3VsdF9kaXN0LnB1c2goeyBpZCwgZGlzdCB9KTtcbiAgICB9XG4gICAgdGhpcy5kaXN0X3RvX215X3JlZ2lvbiA9IHJlc3VsdF9kaXN0O1xuICB9XG5cbiAgdW5iaW5kQnJ1c2hDbGljaygpIHtcbiAgICB0aGlzLmJydXNoX21hcCA9IG51bGw7XG4gICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5yZW1vdmUoKTtcbiAgfVxuXG4gIGRpc3BsYXlMZWdlbmQodHlwZSA9IDApIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZDMuc2VsZWN0QWxsKCcjc3ZnX2xlZ2VuZCA+IGcnKS5yZW1vdmUoKTtcbiAgICBjb25zdCBbZWxlbXMsIHNpemUsIHR5XSA9IGdldExlZ2VuZEVsZW1zKHR5cGUpO1xuICAgIG1ha2VNYXBMZWdlbmQoZWxlbXMsIHNpemUsIHR5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlU291cmNlU2VjdGlvbigpIHtcbiAgY29uc3Qgc3JjX2dyb3VwID0gc3ZnX21hcC5hcHBlbmQoJ2cnKS5hdHRyKCdpZCcsICdzb3VyY2UnKTtcbiAgc3JjX2dyb3VwLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHJzKHtcbiAgICAgIHg6IHdpZHRoX21hcCAvIDIsXG4gICAgICB5OiBoZWlnaHRfbWFwIC0gOCxcbiAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLFxuICAgIH0pXG4gICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB4JylcbiAgICAudGV4dCgnRG9ubsOpZXMgOiBFdXJvc3RhdCAodMOpbMOpY2hhcmdlbWVudCA6IE9jdC4gMjAxNyktIExpbWl0ZSBhZG1pbmlzdHJhdGl2ZTogVU1TIFJJQVRFLCBDQy1CWS1TQScpO1xufVxuXG5leHBvcnQge1xuICBNYXBTZWxlY3QsXG4gIG1ha2VTb3VyY2VTZWN0aW9uLFxuICBtYWtlTWFwTGVnZW5kLFxuICBzdmdfbWFwLFxuICB6b29tQ2xpY2ssXG59O1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtcyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fFxuICAgIHBsdXJhbChtcywgaCwgJ2hvdXInKSB8fFxuICAgIHBsdXJhbChtcywgbSwgJ21pbnV0ZScpIHx8XG4gICAgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHxcbiAgICBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtcyA8IG4gKiAxLjUpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgJyAnICsgbmFtZTtcbiAgfVxuICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAnICcgKyBuYW1lICsgJ3MnO1xufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWdbJ2RlZmF1bHQnXSA9IGNyZWF0ZURlYnVnO1xuZXhwb3J0cy5jb2VyY2UgPSBjb2VyY2U7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLmVuYWJsZWQgPSBlbmFibGVkO1xuZXhwb3J0cy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gKi9cblxuZXhwb3J0cy5uYW1lcyA9IFtdO1xuZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4vKipcbiAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAqXG4gKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgdmFyIGhhc2ggPSAwLCBpO1xuXG4gIGZvciAoaSBpbiBuYW1lc3BhY2UpIHtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXG4gIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIC8vIGRpc2FibGVkP1xuICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgIC8vIHNldCBgZGlmZmAgdGltZXN0YW1wXG4gICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgcHJldlRpbWUgPSBjdXJyO1xuXG4gICAgLy8gdHVybiB0aGUgYGFyZ3VtZW50c2AgaW50byBhIHByb3BlciBBcnJheVxuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBhcmdzWzBdID0gZXhwb3J0cy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24obWF0Y2gsIGZvcm1hdCkge1xuICAgICAgLy8gaWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICBpbmRleCsrO1xuICAgICAgdmFyIGZvcm1hdHRlciA9IGV4cG9ydHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cbiAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgIGV4cG9ydHMuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG4gICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cblxuICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgZGVidWcudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXG4gIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cy5pbml0KSB7XG4gICAgZXhwb3J0cy5pbml0KGRlYnVnKTtcbiAgfVxuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxuLyoqXG4gKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTtcblxuICBleHBvcnRzLm5hbWVzID0gW107XG4gIGV4cG9ydHMuc2tpcHMgPSBbXTtcblxuICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsImltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gJy4vaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlUmVzdW1lU3RhdCB7XG4gIGNvbnN0cnVjdG9yKHN1bW1hcnlfZmVhdHVyZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuICAgIGNvbnN0IG5iX2ZlYXR1cmVzID0gc3VtbWFyeV9mZWF0dXJlcy5sZW5ndGg7XG4gICAgY29uc3QgY29sdW1uX25hbWVzID0gWydWYXJpYWJsZScsICdNaW4nLCAnTW95JywgJ01lZCcsICdNYXgnLCAnTWEgcsOpZ2lvbiddO1xuICAgIGNvbnN0IG5iX2NvbHVtbnMgPSBjb2x1bW5fbmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbnRhaW5lcl9kaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbXlUYWJsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBkb2MuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgICBjb25zdCB0YWJsZV9ib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gICAgY29uc3QgaGVhZGVyc19yb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICBteVRhYmxlLmNsYXNzTmFtZSA9ICdtaW5pdGFibGUnO1xuICAgIGNvbnRhaW5lcl9kaXYuY2xhc3NOYW1lID0gJ21pbml0YWJsZV9jb250YWluZXInO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfY29sdW1uczsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IFsnVmFyaWFibGUnLCAnTWEgcsOpZ2lvbiddLmluZGV4T2YoY29sdW1uX25hbWVzW2ldKSA+IC0xXG4gICAgICAgID8gY29sdW1uX25hbWVzW2ldXG4gICAgICAgIDogYCR7Y29sdW1uX25hbWVzW2ldfS5gO1xuICAgICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc19yb3cpO1xuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9mZWF0dXJlczsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHJvdy5pZCA9IGByb3dfJHtzdW1tYXJ5X2ZlYXR1cmVzW2ldLmlkfWA7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5iX2NvbHVtbnM7IGorKykge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgIGNvbnN0IGNvbF9uYW1lID0gY29sdW1uX25hbWVzW2pdO1xuICAgICAgICBpZiAoY29sX25hbWUgIT09ICdWYXJpYWJsZScpIHtcbiAgICAgICAgICAvLyBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeV9mZWF0dXJlc1tpXVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGZvcm1hdE51bWJlcihzdW1tYXJ5X2ZlYXR1cmVzW2ldW2NvbF9uYW1lXSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBzdW1tYXJ5X2ZlYXR1cmVzW2ldW2NvbF9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgICB0YWJsZV9ib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfVxuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQodGFibGVfYm9keSk7XG4gICAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgb3B0aW9ucy5pZCB8fCAndGFibGVfc3VtbWFyeScpO1xuICAgIGNvbnRhaW5lcl9kaXYuYXBwZW5kQ2hpbGQobXlUYWJsZSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hcF9zZWN0aW9uJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyX2Rpdik7XG4gICAgdGhpcy5uYl9jb2x1bW5zID0gbmJfY29sdW1ucztcbiAgICB0aGlzLmNvbHVtbl9uYW1lcyA9IGNvbHVtbl9uYW1lcztcbiAgICB0aGlzLnRhYmxlX2JvZHkgPSB0YWJsZV9ib2R5O1xuICB9XG5cbiAgYWRkRmVhdHVyZXMoc3VtbWFyeV9mZWF0dXJlcykge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdW1tYXJ5X2ZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEZlYXR1cmUoc3VtbWFyeV9mZWF0dXJlc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRmVhdHVyZShzdW1tYXJ5KSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICByb3cuaWQgPSBgcm93XyR7c3VtbWFyeS5pZH1gO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5uYl9jb2x1bW5zOyBqKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgY29uc3QgY29sX25hbWUgPSB0aGlzLmNvbHVtbl9uYW1lc1tqXTtcbiAgICAgIGlmIChjb2xfbmFtZSAhPT0gJ1ZhcmlhYmxlJykge1xuICAgICAgICBjZWxsLmlubmVySFRNTCA9IE1hdGgucm91bmQoc3VtbWFyeVtjb2xfbmFtZV0gKiAxMCkgLyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gc3VtbWFyeVtjb2xfbmFtZV07XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICAgIHRoaXMudGFibGVfYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgcmVtb3ZlRmVhdHVyZShpZF92YXJpYWJsZSkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yKGB0ciNyb3dfJHtpZF92YXJpYWJsZX1gKTtcbiAgICBpZiAocm93KSByb3cucmVtb3ZlKCk7XG4gIH1cblxuICByZW1vdmVBbGwoKSB7XG4gICAgY29uc3Qgcm93cyA9IHRoaXMudGFibGVfYm9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpO1xuICAgIGZvciAobGV0IGkgPSByb3dzLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICByb3dzW2ldLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX2JvZHkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfYm9keSA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBsZXR1ZGVTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlX3BvcHVsYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcGxldHVkZV9zZWN0aW9uID4gI2NvbXBsZXR1ZGVfcG9wdWxhdGlvbicpO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wbGV0dWRlX3NlY3Rpb24gPiAjY29tcGxldHVkZV9mZWF0dXJlcycpO1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcy5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICB0aGlzLmNvbXBsZXR1ZGVfcG9wdWxhdGlvbi5jbGFzc05hbWUgPSAnJztcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmNvbXBsZXR1ZGVfZmVhdHVyZXMub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBzZWxmLmNvbXBsZXR1ZGVfcG9wdWxhdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9O1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgc2VsZi5jb21wbGV0dWRlX2ZlYXR1cmVzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUodmFsdWVfZmVhdHVyZXMsIHZhbHVlX3BvcCkge1xuICAgIHRoaXMuY29tcGxldHVkZV9mZWF0dXJlcy5pbm5lckhUTUwgPSBgRG9ubsOpZXMgZGlzcG9uaWJsZXMgcG91ciAke3ZhbHVlX2ZlYXR1cmVzWzBdfS8ke3ZhbHVlX2ZlYXR1cmVzWzFdfSByw6lnaW9ucy5gO1xuICAgIHRoaXMuY29tcGxldHVkZV9wb3B1bGF0aW9uLmlubmVySFRNTCA9IGBEb25uw6llcyBkaXNwb25pYmxlcyBwb3VyICR7dmFsdWVfcG9wfSUgZGUgbGEgcG9wdWxhdGlvbiBkZSBsJ2VzcGFjZSBkJ8OpdHVkZS5gO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBjb250ZXh0TWVudSB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuaXRlbXMucHVzaCh7XG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICBhY3Rpb246IGl0ZW0uYWN0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlSXRlbShuYW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SXRlbXMoaXRlbXMpIHtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIG5iX2l0ZW1zID0gaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbXM7IGkrKykge1xuICAgICAgaWYgKGl0ZW1zW2ldLm5hbWUgJiYgaXRlbXNbaV0uYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWRkSXRlbShpdGVtc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2hvd01lbnUoZXZlbnQsIHBhcmVudCwgaXRlbXMsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLkRPTW9iaikge1xuICAgICAgdGhpcy5oaWRlTWVudSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIHRoaXMuc2V0SXRlbXMoaXRlbXMpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdE1lbnUocGFyZW50KTtcbiAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B9cHhgO1xuICAgICAgdGhpcy5ET01vYmouc3R5bGUubGVmdCA9IGAke2V2ZW50LmNsaWVudFh9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS50b3AgPSBgJHtwb3NpdGlvblsxXX1weGA7XG4gICAgICB0aGlzLkRPTW9iai5zdHlsZS5sZWZ0ID0gYCR7cG9zaXRpb25bMF19cHhgO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGlkZU1lbnUoKSk7XG4gICAgfSwgMTUwKTtcbiAgfVxuXG4gIGhpZGVNZW51KCkge1xuICAgIGlmICh0aGlzLkRPTW9iaiAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50ICYmIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQpIHtcbiAgICAgIHRoaXMuRE9Nb2JqLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5ET01vYmopO1xuICAgICAgdGhpcy5ET01vYmogPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTWVudSk7XG4gIH1cblxuICBpbml0TWVudShwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5ET01vYmogJiYgdGhpcy5ET01vYmoucGFyZW50RWxlbWVudCAmJiB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKSB7XG4gICAgICB0aGlzLkRPTW9iai5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuRE9Nb2JqKTtcbiAgICAgIHRoaXMuRE9Nb2JqID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIG1lbnUuY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudSc7XG4gICAgbWVudS5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICBmb3IgKGxldCBpID0gMCwgbmJfaXRlbSA9IHRoaXMuaXRlbXMubGVuZ3RoOyBpIDwgbmJfaXRlbTsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgaSk7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLW5hbWVcIj4ke3RoaXMuaXRlbXNbaV0ubmFtZX08L3NwYW4+YDtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICBpdGVtLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGl4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgc2VsZi5pdGVtc1tpeF0uYWN0aW9uKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLkRPTW9iaiA9IG1lbnU7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKG1lbnUpO1xuICB9XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgY29tcCwgbWF0aF9yb3VuZCwgbWF0aF9hYnMsIFJlY3QsIHByZXBhcmVUb29sdGlwMiwgZ2V0TWVhbiwgc3ZnUGF0aFRvQ29vcmRzLCBnZXRFbGVtZW50c0Zyb21Qb2ludCwgZm9ybWF0TnVtYmVyLCBub0NvbnRleHRNZW51IH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX3N1cCwgY29sb3JfaW5mLCBjb2xvcl9oaWdobGlnaHQsIGZpeGVkX2RpbWVuc2lvbiB9IGZyb20gJy4vLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjUG9wQ29tcGxldHVkZVN1YnNldCwgY2FsY0NvbXBsZXR1ZGVTdWJzZXQgfSBmcm9tICcuLy4uL3ByZXBhcmVfZGF0YSc7XG5pbXBvcnQgeyBhcHAsIHJlc2V0Q29sb3JzLCB2YXJpYWJsZXNfaW5mbywgc3R1ZHlfem9uZXMsIHRlcnJpdG9yaWFsX21lc2ggfSBmcm9tICcuLy4uLy4uL21haW4nO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5pbXBvcnQgQ29tcGxldHVkZVNlY3Rpb24gZnJvbSAnLi8uLi9jb21wbGV0dWRlJztcbmltcG9ydCBDb250ZXh0TWVudSBmcm9tICcuLy4uL2NvbnRleHRNZW51JztcblxubGV0IHN2Z19iYXIgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfYmFyJyk7XG5sZXQgbWFyZ2luID0geyB0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMTAwLCBsZWZ0OiA2MCB9O1xubGV0IG1hcmdpbjIgPSB7IHRvcDogNDMwLCByaWdodDogMjAsIGJvdHRvbTogMTUsIGxlZnQ6IDYwIH07XG5sZXQgd2lkdGggPSBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbmxldCBoZWlnaHQgPSBmaXhlZF9kaW1lbnNpb24uY2hhcnQuaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5sZXQgaGVpZ2h0MiA9IGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tO1xubGV0IHN2Z19jb250YWluZXI7XG5sZXQgdDtcbmxldCBuYkZ0O1xubGV0IGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgMF07XG5sZXQgY3VycmVudF9yYW5nZSA9IFswLCAwXTtcbmxldCBkaXNwbGF5ZWQ7XG5cbmZ1bmN0aW9uIHVwZGF0ZURpbWVuc2lvbnMoKSB7XG4gIHN2Z19iYXIgPSBkMy5zZWxlY3QoJ3N2ZyNzdmdfYmFyJykub24oJ2NvbnRleHRtZW51Jywgbm9Db250ZXh0TWVudSk7XG4gIG1hcmdpbiA9IHtcbiAgICB0b3A6IDEwLFxuICAgIHJpZ2h0OiAyMCxcbiAgICBib3R0b206IDEwMCxcbiAgICBsZWZ0OiA2MCxcbiAgfTtcbiAgbWFyZ2luMiA9IHtcbiAgICB0b3A6IG1hdGhfcm91bmQoZml4ZWRfZGltZW5zaW9uLmNoYXJ0LmhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tICsgNDUpLFxuICAgIHJpZ2h0OiAyMCxcbiAgICBib3R0b206IDEyLjUsXG4gICAgbGVmdDogNjAsXG4gIH07XG4gIHdpZHRoID0gZml4ZWRfZGltZW5zaW9uLmNoYXJ0LndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGhlaWdodCA9IGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgaGVpZ2h0MiA9IGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLSBtYXJnaW4yLnRvcCAtIG1hcmdpbjIuYm90dG9tO1xuICBjb25zdCB3aWR0aF92YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICogMC45ODtcbiAgZDMuc2VsZWN0KCcuY29udF9zdmcuY2NoYXJ0Jykuc3R5bGUoJ3BhZGRpbmctdG9wJywgYCR7KGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLyBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGgpICogd2lkdGhfdmFsdWV9cHhgKTtcbiAgc3ZnX2NvbnRhaW5lciA9IHN2Z19iYXIuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJyk7XG59XG5cbi8qKlxuKiBHZXQgdGhlIHJhbmsgY29ycmVzcG9uZGluZyB0byB0aGUgbWVhbiB2YWx1ZVxuKiAob3IgYW55IHZhbHVlIGZvciB3aGljaCB3ZSBtYXkgYmUgaW50ZXJlc3RlZCBpbiBrbm93bmluZyBpdHMgcmFuaylcbipcbiogQHBhcmFtIHtOdW1iZXJ9IG1lYW5fdmFsdWUgLSBUaGUgbWVhbiB2YWx1ZS5cbiogQHBhcmFtIHtTdHJpbmd9IHJhdGlvX3RvX3VzZSAtIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSBjdXJyZW50bHkgaW4gdXNlLlxuKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIHJhbmsgY29ycmVzcG9uZGluZyB0byB0aGUgaW5wdXQgdmFsdWUuXG4qXG4qL1xuZnVuY3Rpb24gZ2V0TWVhblJhbmsobWVhbl92YWx1ZSwgcmF0aW9fdG9fdXNlKSB7XG4gIGxldCBtZWFuX3JhbmsgPSBhcHAuY3VycmVudF9kYXRhLm1hcChcbiAgICAoZCwgaSkgPT4gW2RbcmF0aW9fdG9fdXNlXSwgbWF0aF9hYnMobWVhbl92YWx1ZSAtIGRbcmF0aW9fdG9fdXNlXSksIGldKTtcbiAgbWVhbl9yYW5rLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzBdO1xuICBpZiAobWVhbl9yYW5rWzFdID4gbWVhbl92YWx1ZSkge1xuICAgIG1lYW5fcmFuayA9IG1lYW5fcmFua1syXSAtIDE7XG4gIH0gZWxzZSB7XG4gICAgbWVhbl9yYW5rID0gbWVhbl9yYW5rWzJdO1xuICB9XG4gIHJldHVybiBtZWFuX3Jhbms7XG59XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzY2F0dGVycGxvdCAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyQ2hhcnQxIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGJhciBjaGFydCBvbiB0aGUgYHN2Z19iYXJgIHN2ZyBlbGVtZW50IHByZXZpb3VzbHkgZGVmaW5lZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gcmVmX2RhdGEgLSBBIHJlZmVyZW5jZSB0byB0aGUgc3Vic2V0IG9mIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWRcbiAgICogdG8gY3JlYXRlIHRoZSBzY2F0dGVycGxvdCAoc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGZpZWxkIGZsYWdnZWQgYXMgcmF0aW9cbiAgICogaW4gdGhlIGBhcHAuY3VycmVudF9jb25maWcucmF0aW9gIE9iamVjdCkuXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHJlZl9kYXRhKSB7XG4gICAgdGhpcy5icnVzaGVkID0gKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50ICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnR5cGUgPT09ICd6b29tJykgcmV0dXJuOyAvLyBpZ25vcmUgYnJ1c2gtYnktem9vbVxuICAgICAgaWYgKCF0aGlzLngpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcyA9IGQzLmV2ZW50LnNlbGVjdGlvbiB8fCB0aGlzLngyLnJhbmdlKCk7XG4gICAgICBjb250ZXh0X2xlZnRfaGFuZGxlLmF0dHIoJ3gnLCBzWzBdIC0gMTIpO1xuICAgICAgY29udGV4dF9yaWdodF9oYW5kbGUuYXR0cigneCcsIHNbMV0gLSA3KTtcbiAgICAgIGN1cnJlbnRfcmFuZ2UgPSBbbWF0aF9yb3VuZChzWzBdIC8gKHdpZHRoIC8gbmJGdCkpLCBtYXRoX3JvdW5kKHNbMV0gLyAod2lkdGggLyBuYkZ0KSldO1xuICAgICAgdGhpcy54LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSkubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLnpvb20nKS5jYWxsKHRoaXMuem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAuc2NhbGUod2lkdGggLyAoY3VycmVudF9yYW5nZVsxXSAtIGN1cnJlbnRfcmFuZ2VbMF0pKVxuICAgICAgICAudHJhbnNsYXRlKC1jdXJyZW50X3JhbmdlWzBdLCAwKSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51cGRhdGVDb250ZXh0KGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pO1xuICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgICAgLy8gdGhpcy5icnVzaGVkX3RvcCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmJydXNoZWRfdG9wID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9mb2N1cyB8fCAhdGhpcy5tYXBfZWxlbSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBkM19ldmVudCA9IGQzLmV2ZW50O1xuICAgICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcblxuICAgICAgLy8gY29uc3QgZWxlbXMgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChcbiAgICAgIC8vICAgZDNfZXZlbnQuc291cmNlRXZlbnQucGFnZVgsIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnBhZ2VZKTtcbiAgICAgIC8vIGNvbnN0IGVsZW0gPSBlbGVtcy5maW5kKGUgPT4gZS5jbGFzc05hbWUuYmFzZVZhbCA9PT0gJ2JhcicpO1xuICAgICAgLy8gaWYgKGVsZW0pIHtcbiAgICAgIC8vICAgY29uc3QgbmV3X2NsaWNrX2V2ZW50ID0gbmV3IE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIHtcbiAgICAgIC8vICAgICBwYWdlWDogZDNfZXZlbnQuc291cmNlRXZlbnQucGFnZVgsXG4gICAgICAvLyAgICAgcGFnZVk6IGQzX2V2ZW50LnNvdXJjZUV2ZW50LnBhZ2VZLFxuICAgICAgLy8gICAgIGNsaWVudFg6IGQzX2V2ZW50LnNvdXJjZUV2ZW50LmNsaWVudFgsXG4gICAgICAvLyAgICAgY2xpZW50WTogZDNfZXZlbnQuc291cmNlRXZlbnQuY2xpZW50WSxcbiAgICAgIC8vICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgLy8gICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAvLyAgICAgdmlldzogd2luZG93XG4gICAgICAvLyAgIH0pO1xuICAgICAgLy8gICBlbGVtLmRpc3BhdGNoRXZlbnQobmV3X2NsaWNrX2V2ZW50KTtcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7IHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0QWxsKCdwJykuaHRtbCgnJyk7IH0sIDUpO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uXG4gICAgICAvLyAgICAgICAmJiBkM19ldmVudC5zb3VyY2VFdmVudFxuICAgICAgLy8gICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0ID09PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgLy8gICAgICAgICAnLmJydXNoX3RvcCA+IHJlY3Qub3ZlcmxheScpKSB7XG4gICAgICBpZiAoZDNfZXZlbnQgJiYgZDNfZXZlbnQuc2VsZWN0aW9uICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50ICYmIGQzX2V2ZW50LnNvdXJjZUV2ZW50LnRhcmdldCkge1xuICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICBjb25zdCBzID0gZDNfZXZlbnQuc2VsZWN0aW9uO1xuICAgICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gW1xuICAgICAgICAgIGN1cnJlbnRfcmFuZ2VbMF0gKyBtYXRoX3JvdW5kKHNbMF0gLyAod2lkdGggLyBkaXNwbGF5ZWQpKSAtIDEsXG4gICAgICAgICAgY3VycmVudF9yYW5nZVswXSArIG1hdGhfcm91bmQoc1sxXSAvICh3aWR0aCAvIGRpc3BsYXllZCkpLFxuICAgICAgICBdO1xuICAgICAgICAvLyB0aGlzLnguZG9tYWluKHRoaXMuZGF0YS5zbGljZShjdXJyZW50X3JhbmdlX2JydXNoWzBdICsgMSwgY3VycmVudF9yYW5nZV9icnVzaFsxXSlcbiAgICAgICAgLy8gICAubWFwKGZ0ID0+IGZ0LmlkKSk7XG4gICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fZm9jdXMuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMF0gJiYgaSA8IGN1cnJlbnRfcmFuZ2VfYnJ1c2hbMV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKGRbcmF0aW9fdG9fdXNlXSwgcmVmX3ZhbHVlLCB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgICAgICAgICAgYXBwLmNvbG9yc1tkLmlkXSA9IGNvbG9yO1xuICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPT09IHRydWUpIHtcbiAgICAgICAgICBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZDNfZXZlbnQgJiYgIWQzX2V2ZW50LnNlbGVjdGlvblxuICAgICAgICAgICAgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQgJiYgZDNfZXZlbnQuc291cmNlRXZlbnQuZGV0YWlsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb2N1cy5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGQgPT4gYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpO1xuICAgICAgICBpZiAodGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPT09IHRydWUpIHtcbiAgICAgICAgICBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIC8vIFNldCB0aGUgbWluaW11bSBudW1iZXIgb2YgdmFyaWFibGVzIHRvIGtlZXAgc2VsZWN0ZWQgZm9yIHRoaXMga2luZCBvZiBjaGFydDpcbiAgICBhcHAuY3VycmVudF9jb25maWcubmJfdmFyID0gMTtcbiAgICBjb25zdCB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpO1xuICAgIGNvbnN0IHgyID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpO1xuICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKTtcbiAgICBjb25zdCB5MiA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodDIsIDBdKTtcblxuICAgIGNvbnN0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KTtcbiAgICBjb25zdCB4QXhpczIgPSBkMy5heGlzQm90dG9tKHgyKTtcbiAgICBjb25zdCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpO1xuXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLngyID0geDI7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnkyID0geTI7XG4gICAgdGhpcy54QXhpcyA9IHhBeGlzO1xuICAgIHRoaXMueUF4aXMgPSB5QXhpcztcbiAgICB0aGlzLnhBeGlzMiA9IHhBeGlzMjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhdmFpbGFibGVfcmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IGF2YWlsYWJsZV9yYXRpb3NbMF07XG4gICAgdGhpcy5yYXRpb190b191c2UgPSByYXRpb190b191c2U7XG4gICAgdGhpcy51bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5pZCA9PT0gcmF0aW9fdG9fdXNlKS51bml0O1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3JhdGlvX3RvX3VzZV0pO1xuICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3JhdGlvX3RvX3VzZV0gLSBiW3JhdGlvX3RvX3VzZV0pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLmN1cnJlbnRfcmFua3MgPSB0aGlzLmRhdGEubWFwKChkLCBpKSA9PiBpICsgMSk7XG4gICAgbmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5tZWFuX3ZhbHVlID0gZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFtyYXRpb190b191c2VdKSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gZnQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdW3JhdGlvX3RvX3VzZV07XG4gICAgc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnY2xpcFBhdGgnKVxuICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgLy8gRm9jdXMgaXMgdGhlICdiaWcnIGJhciBjaGFydCwgbG9jYXRlZCBvbiB0aGUgdG9wOlxuICAgIGNvbnN0IGZvY3VzID0gc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdmb2N1cycsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgLFxuICAgICAgfSk7XG5cbiAgICAvLyBGb2N1cyBpcyB0aGUgJ3NtYWxsJyBiYXIgY2hhcnQsIGxvY2F0ZWQgb24gdGhlIGJvdHRvbTpcbiAgICBjb25zdCBjb250ZXh0ID0gc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdjb250ZXh0JyxcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bWFyZ2luMi5sZWZ0fSwgJHttYXJnaW4yLnRvcH0pYCxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZm9jdXMgPSBmb2N1cztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgeC5kb21haW4odGhpcy5jdXJyZW50X2lkcyk7XG4gICAgeS5kb21haW4oW1xuICAgICAgMCxcbiAgICAgIGQzLm1heCh0aGlzLmRhdGEsIGQgPT4gZFtyYXRpb190b191c2VdKSxcbiAgICBdKTtcbiAgICB4Mi5kb21haW4oeC5kb21haW4oKSk7XG4gICAgeTIuZG9tYWluKHkuZG9tYWluKCkpO1xuXG4gICAgY29uc3QgYnJ1c2hfYm90dG9tID0gZDMuYnJ1c2hYKClcbiAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHQyXV0pXG4gICAgICAub24oJ2JydXNoIGVuZCcsIHRoaXMuYnJ1c2hlZCk7XG5cbiAgICBjb25zdCBicnVzaF90b3AgPSBkMy5icnVzaFgoKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWRfdG9wKTtcblxuICAgIGNvbnN0IHpvb20gPSBkMy56b29tKClcbiAgICAgIC5zY2FsZUV4dGVudChbMSwgSW5maW5pdHldKVxuICAgICAgLnRyYW5zbGF0ZUV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcbiAgICAgIC8vIC5vbihcInpvb21cIiwgem9vbWVkKTtcbiAgICB0aGlzLmJydXNoX3RvcCA9IGJydXNoX3RvcDtcbiAgICB0aGlzLmJydXNoX2JvdHRvbSA9IGJydXNoX2JvdHRvbTtcbiAgICB0aGlzLnpvb20gPSB6b29tO1xuXG4gICAgZm9jdXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYXhpcyBheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgIH0pXG4gICAgICAuY2FsbCh4QXhpcyk7XG5cbiAgICBmb2N1cy5zZWxlY3QoJy5heGlzLS14JylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLmF0dHJzKHsgZHg6ICctMC44ZW0nLCBkeTogJzAuMTVlbScsIHRyYW5zZm9ybTogJ3JvdGF0ZSgtNjUpJyB9KTtcblxuICAgIGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS15JylcbiAgICAgIC5jYWxsKHlBeGlzLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKSk7XG5cbiAgICB0aGlzLmdfYmFyID0gZm9jdXMuYXBwZW5kKCdnJyk7XG5cbiAgICBjb25zdCBnX2JydXNoX3RvcCA9IGZvY3VzLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfdG9wJylcbiAgICAgIC5jYWxsKGJydXNoX3RvcCk7XG5cbiAgICBjb25zdCBncm91cGVfbGluZV9tZWFuID0gZm9jdXMuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbWVhbicpO1xuXG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgeTI6IHkodGhpcy5tZWFuX3ZhbHVlKSxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnMTAsIDUnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzJweCcsXG4gICAgICAgIGNsYXNzOiAnbWVhbl9saW5lJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICdyZWQnKTtcblxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7IHgxOiAwLCB4Mjogd2lkdGgsIHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSksICdzdHJva2Utd2lkdGgnOiAnMTRweCcsIGNsYXNzOiAndHJhbnNwX21lYW5fbGluZScgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS5zZWxlY3QoJy50aXRsZScpLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJykuaHRtbCgnJyk7IH0sIDI1MCk7XG4gICAgICAgIC8vIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUgcmVkJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7IHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0KCcudGl0bGUnKS5hdHRyKCdjbGFzcycsICd0aXRsZScpLmh0bWwoJycpOyB9LCAyNTApO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlIG1vdXNlZG93bicsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gWydNb3llbm5lIGRlIGxcXCdlc3BhY2UgZFxcJ8OpdHVkZSddO1xuICAgICAgICBsZXQgX2ggPSA2NTtcbiAgICAgICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSkge1xuICAgICAgICAgIGNvbnRlbnQucHVzaCgnPGJyPicsICcgKCcsIGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSwgJyknKTtcbiAgICAgICAgICBfaCArPSAyMDtcbiAgICAgICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgICAgICAgIGNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICc8YnI+JyxcbiAgICAgICAgICAgICcgKFLDqWdpb25zIGRhbnMgdW4gdm9pc2luYWdlIGRlICcsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKS52YWx1ZSxcbiAgICAgICAgICAgICdrbSknKTtcbiAgICAgICAgICBfaCArPSAyMDtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcudGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZSByZWQnKVxuICAgICAgICAgIC5odG1sKGNvbnRlbnQuam9pbignJykpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcuY29udGVudCcpXG4gICAgICAgICAgLmh0bWwoWydWYWxldXIgOiAnLCBmb3JtYXROdW1iZXIoc2VsZi5tZWFuX3ZhbHVlLCAxKSwgJyAnLCBzZWxmLnVuaXRdLmpvaW4oJycpKTtcbiAgICAgICAgc2VsZi50b29sdGlwXG4gICAgICAgICAgLnN0eWxlcyh7XG4gICAgICAgICAgICBkaXNwbGF5OiBudWxsLFxuICAgICAgICAgICAgbGVmdDogYCR7ZDMuZXZlbnQuY2xpZW50WCAtIHdpbmRvdy5zY3JvbGxYIC0gNX1weGAsXG4gICAgICAgICAgICB0b3A6IGAke2QzLmV2ZW50LmNsaWVudFkgLSB3aW5kb3cuc2Nyb2xsWSAtIF9ofXB4YCxcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuXG4gICAgY29uc3QgZ19icnVzaF9ib3R0b20gPSBjb250ZXh0LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hfYm90dG9tJylcbiAgICAgIC5jYWxsKGJydXNoX2JvdHRvbSk7XG5cbiAgICBjb25zdCBjb250ZXh0X2xlZnRfaGFuZGxlID0gZ19icnVzaF9ib3R0b20uaW5zZXJ0KCdpbWFnZScsICcuaGFuZGxlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyLFxuICAgICAgICB4OiB4Mih0aGlzLmN1cnJlbnRfaWRzWzBdKSAtIDEyLFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvbGVmdC1oYW5kbGUyLnBuZycsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7XG4gICAgICAgIGN1cnNvcjogJ2NvbC1yZXNpemUnLFxuICAgICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHRfcmlnaHRfaGFuZGxlID0gZ19icnVzaF9ib3R0b20uaW5zZXJ0KCdpbWFnZScsICcuaGFuZGxlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQyLFxuICAgICAgICB4OiB4Mih0aGlzLmN1cnJlbnRfaWRzW3RoaXMuY3VycmVudF9pZHMubGVuZ3RoIC0gMV0pIC0gNyxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JpZ2h0LWhhbmRsZTIucG5nJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgY3Vyc29yOiAnY29sLXJlc2l6ZScsXG4gICAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyxcbiAgICAgIH0pO1xuXG4gICAgZ19icnVzaF90b3AuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgZ19icnVzaF9ib3R0b20uY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IG5ldyBDb21wbGV0dWRlU2VjdGlvbigpO1xuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0sICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKSk7XG5cbiAgICBzdmdfY29udGFpbmVyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogd2lkdGggKyBtYXJnaW4ubGVmdCArIDUsXG4gICAgICAgIHk6IDM4NSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2UnLFxuICAgICAgICB0aXRsZTogJ0ludmVyc2VyIGxcXCdvcmRyZSBkZSBjbGFzc2VtZW50IGRlIGxcXCdpbmRpY2F0ZXVyJyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuc2xpY2UoKTtcbiAgICAgICAgaWYgKCFzZWxmLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhkMy5uYW1lc3BhY2VzLnhsaW5rLCAneGxpbms6aHJlZicsICdpbWcvcmV2ZXJzZV9tb2lucy5wbmcnKTtcbiAgICAgICAgICBzZWxmLnRpdGxlX3ZhcmlhYmxlXG4gICAgICAgICAgICAuY2xhc3NlZCgnaW52ZXJzZWQnLCB0cnVlKVxuICAgICAgICAgICAgLmF0dHIoJ3RpdGxlLXRvb2x0aXAnLCBgJHtzZWxmLnRpdGxlX3ZhcmlhYmxlLmF0dHIoJ3RpdGxlLXRvb2x0aXAnKX0gKGF4ZSBpbnZlcnPDqSlgKTtcbiAgICAgICAgICBzZWxmLmRhdGEuc29ydCgoYSwgYikgPT4gYltzZWxmLnJhdGlvX3RvX3VzZV0gLSBhW3NlbGYucmF0aW9fdG9fdXNlXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhkMy5uYW1lc3BhY2VzLnhsaW5rLCAneGxpbms6aHJlZicsICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycpO1xuICAgICAgICAgIHNlbGYudGl0bGVfdmFyaWFibGVcbiAgICAgICAgICAgIC5jbGFzc2VkKCdpbnZlcnNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgLmF0dHIoJ3RpdGxlLXRvb2x0aXAnLFxuICAgICAgICAgICAgICBgJHtzZWxmLnRpdGxlX3ZhcmlhYmxlLmF0dHIoJ3RpdGxlLXRvb2x0aXAnKX1gLnJlcGxhY2UoJyAoYXhlIGludmVyc8OpKScsICcnKSk7XG4gICAgICAgICAgc2VsZi5kYXRhLnNvcnQoKGEsIGIpID0+IGFbc2VsZi5yYXRpb190b191c2VdIC0gYltzZWxmLnJhdGlvX3RvX3VzZV0pO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuY3VycmVudF9pZHMgPSBzZWxmLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgICAgIHNlbGYuc2VyaWVfaW52ZXJzZWQgPSAhc2VsZi5zZXJpZV9pbnZlcnNlZDtcbiAgICAgICAgeC5kb21haW4oc2VsZi5kYXRhLnNsaWNlKGN1cnJlbnRfcmFuZ2VbMF0sIGN1cnJlbnRfcmFuZ2VbMV0pLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICB4Mi5kb21haW4oc2VsZi5kYXRhLm1hcChmdCA9PiBmdC5pZCkpO1xuICAgICAgICAvLyBzdmdfY29udGFpbmVyLnNlbGVjdChcIi56b29tXCIpLmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eVxuICAgICAgICAvLyAgICAgLnNjYWxlKHdpZHRoIC8gKGN1cnJlbnRfcmFuZ2VbMV0gLSBjdXJyZW50X3JhbmdlWzBdKSlcbiAgICAgICAgLy8gICAgIC50cmFuc2xhdGUoLWN1cnJlbnRfcmFuZ2VbMF0sIDApKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICAgICAgICBzZWxmLnVwZGF0ZUNvbnRleHQoY3VycmVudF9yYW5nZVswXSwgY3VycmVudF9yYW5nZVsxXSk7XG4gICAgICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfdG9wJykuY2FsbChicnVzaF90b3AubW92ZSwgbnVsbCk7XG4gICAgICAgIHNlbGYubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChicnVzaF9ib3R0b20ubW92ZSwgeC5yYW5nZSgpKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHRoaXMudG9vbHRpcCA9IHByZXBhcmVUb29sdGlwMihkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudCksIG51bGwpO1xuXG4gICAgLy8gLy8gRGVhY3RpdmF0ZSB0aGUgYnJ1c2ggcmVjdCBzZWxlY3Rpb24gb24gdGhlIG1hcCArIG9uIHRoZSBjaGFydFxuICAgIC8vIC8vIHdoZW4gaGUgdXNlciBwcmVzcyB0aGUgQ3RybCBrZXk6XG4gICAgLy8gZG9jdW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAvLyAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgIC8vICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAvLyAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIC8vICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpXG4gICAgLy8gICAgICAgLnNlbGVjdEFsbCgnLnNlbGVjdGlvbiwgLm92ZXJsYXknKVxuICAgIC8vICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgLy8gICB9XG4gICAgLy8gfTtcbiAgICAvLyBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAvLyAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgIC8vICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAvLyAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAvLyAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC8vICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAvLyAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9O1xuXG4gICAgY29uc3QgaGVhZGVyX2Jhcl9zZWN0aW9uID0gZDMuc2VsZWN0KCcjaGVhZGVyX2NoYXJ0Jyk7XG5cbiAgICB0aGlzLm1lbnVfdmFyID0gbmV3IENvbnRleHRNZW51KCk7XG4gICAgdGhpcy5pdGVtc19tZW51ID0gYXZhaWxhYmxlX3JhdGlvcy5tYXAoKGVsZW0sIGkpID0+IHtcbiAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSBlbGVtO1xuICAgICAgbGV0IG5hbWVfdmFyaWFibGUgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW9fcHJldHR5X25hbWVbaV07XG4gICAgICBjb25zdCB1bml0ID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5pZCA9PT0gY29kZV92YXJpYWJsZSkudW5pdDtcbiAgICAgIGNvbnN0IHllYXIgPSBuYW1lX3ZhcmlhYmxlLm1hdGNoKC9cXChbXildKlxcKSQvKVswXTtcbiAgICAgIGNvbnN0IHVuaXRfeWVhciA9IGAke3llYXIuc2xpY2UoMCwgMSl9JHt1bml0fSwgJHt5ZWFyLnNsaWNlKDEsIDYpfWA7XG4gICAgICBuYW1lX3ZhcmlhYmxlID0gbmFtZV92YXJpYWJsZS5yZXBsYWNlKHllYXIsIHVuaXRfeWVhcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lX3ZhcmlhYmxlLFxuICAgICAgICBjb2RlOiBjb2RlX3ZhcmlhYmxlLFxuICAgICAgICBhY3Rpb246ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNoYW5nZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUsIG5hbWVfdmFyaWFibGUpO1xuICAgICAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpcy50aXRsZV92YXJpYWJsZSA9IGhlYWRlcl9iYXJfc2VjdGlvbi5hcHBlbmQoJ3NwYW4nKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICd0aXRsZV92YXJpYWJsZScsXG4gICAgICAgICd0aXRsZS10b29sdGlwJzogYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lWzBdLFxuICAgICAgfSlcbiAgICAgIC5odG1sKGAke3RoaXMuaXRlbXNfbWVudVswXS5uYW1lLnJlcGxhY2UoL1xcKC8sICcmJiYnKS5zcGxpdCgnJiYmJykuam9pbignPGJyPignKX0gICYjeDI1QkU7YClcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBpdGVtcyA9IHNlbGYuaXRlbXNfbWVudS5maWx0ZXIoZWwgPT4gZWwuY29kZSAhPT0gc2VsZi5yYXRpb190b191c2UpO1xuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNlbGYubWVudV92YXIuc2hvd01lbnUoXG4gICAgICAgICAgICBkMy5ldmVudCxcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICAgIFtiYm94LmxlZnQgLSA1LCBiYm94LmJvdHRvbSArIDIuNV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbWVudSB1bmRlciB0aGUgY2hhcnQgYWxsb3dpbmcgdG8gdXNlIHNvbWUgdXNlZnVsIHNlbGVjdGlvbnNcbiAgICAvLyAoYWJvdmUgb3IgYmVsb3cgdGhlIG1lYW4gdmFsdWUgYW5kIGFib3ZlIG9yIGJlbG93IG15X3JlZ2lvbilcbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBhZGRpbmc6ICcwIDEwcHggMTBweCAxMHB4JywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJywgY29sb3I6ICcjNGY4MWJkJyB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpXG4gICAgICAuYXR0cignaWQnLCAnc2VsZWN0aW9uX3N1YnRpdGxlJylcbiAgICAgIC5zdHlsZXMoeyBtYXJnaW46ICcxMHB4IDBweCAycHggMHB4JyB9KVxuICAgICAgLmh0bWwoJ1PDqWxlY3Rpb24gZGVzIHLDqWdpb25zIGF5YW50IGRlcyB2YWxldXJzLi4uJyk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY29udF9idG4nKVxuICAgICAgLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9hYm92ZV9tZWFuJyB9KVxuICAgICAgLnRleHQoJ2luZsOpcmlldXJlcyDDoCBsYSBtb3llbm5lJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QmVsb3dNZWFuKCk7XG4gICAgICB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdjb250X2J0bicpXG4gICAgICAuYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCdpbmbDqXJpZXVycyDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QmVsb3dNeVJlZ2lvbigpO1xuICAgICAgfSk7XG5cbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY29udF9idG4nKVxuICAgICAgLmFwcGVuZCgnYnV0dG9uJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnYnV0dG9uX2JsdWUnLCBpZDogJ2J0bl9iZWxvd19tZWFuJyB9KVxuICAgICAgLnRleHQoJ3N1cMOpcmlldXJlcyDDoCBsYSBtb3llbm5lJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QWJvdmVNZWFuKCk7XG4gICAgICB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdjb250X2J0bicpXG4gICAgICAuYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2JlbG93X215X3JlZ2lvbicgfSlcbiAgICAgIC50ZXh0KCdzdXDDqXJpZXVyZXMgw6AgbWEgcsOpZ2lvbicpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBtZW51X3NlbGVjdGlvbi5zZWxlY3RBbGwoJ2J1dHRvbicpLmF0dHIoJ2NsYXNzJywgJ2J1dHRvbl9ibHVlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgncHJlc3NlZCcpO1xuICAgICAgICBzZWxmLnNlbGVjdEFib3ZlTXlSZWdpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICB1cGRhdGVDb21wbGV0dWRlKCkge1xuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnJhdGlvX3RvX3VzZV0sICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy5yYXRpb190b191c2VdKSk7XG4gIH1cblxuICB1cGRhdGVDb250ZXh0KG1pbiwgbWF4KSB7XG4gICAgdGhpcy5jb250ZXh0LnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIChfLCBpKSA9PiAoaSA+PSBtaW4gJiYgaSA8IG1heCA/ICcxJyA6ICcwLjMnKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZGlzcGxheWVkID0gMDtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBiYXIgPSB0aGlzLmdfYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEpO1xuXG4gICAgaWYgKHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID09PSB0cnVlKSB7XG4gICAgICBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICB9XG5cbiAgICBiYXJcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHg6IHRoaXMueChkLmlkKSxcbiAgICAgICAgeTogdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLnguYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IC0gdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoKGQpID0+IHtcbiAgICAgICAgbGV0IHRvX2Rpc3BsYXkgPSB0aGlzLngoZC5pZCkgIT0gbnVsbDtcbiAgICAgICAgaWYgKHRvX2Rpc3BsYXkpIHtcbiAgICAgICAgICBkaXNwbGF5ZWQgKz0gMTtcbiAgICAgICAgICB0b19kaXNwbGF5ID0gJ2luaXRpYWwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvX2Rpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaXNwbGF5OiB0b19kaXNwbGF5LFxuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICBiYXIuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcsICcubWVhbicpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgIHg6IHRoaXMueChkLmlkKSxcbiAgICAgICAgeTogdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICAgIHdpZHRoOiB0aGlzLnguYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IC0gdGhpcy55KGRbcmF0aW9fdG9fdXNlXSksXG4gICAgICB9KSk7XG5cbiAgICBiYXIuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5fZm9jdXMuc2VsZWN0KCcuYXhpcy0teScpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcblxuICAgIGNvbnN0IGF4aXNfeCA9IHRoaXMuX2ZvY3VzLnNlbGVjdCgnLmF4aXMtLXgnKVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICgpID0+IChkaXNwbGF5ZWQgPiA3NSA/IDYgOiAxMCkpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICBheGlzX3hcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmF0dHJzKCgpID0+IHtcbiAgICAgICAgaWYgKGRpc3BsYXllZCA+IDEwMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ZWQgPiAyMCkge1xuICAgICAgICAgIHJldHVybiB7IGR4OiAnLTAuOGVtJywgZHk6ICcwLjE1ZW0nLCB0cmFuc2Zvcm06ICdyb3RhdGUoLTY1KScgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkeDogJzAnLCBkeTogJzAuNzFlbScsIHRyYW5zZm9ybTogbnVsbCB9O1xuICAgICAgfSlcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAoKSA9PiAoZGlzcGxheWVkID4gMjAgPyAnZW5kJyA6ICdtaWRkbGUnKSlcbiAgICAgIC5zdHlsZXMoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheWVkID4gMTAwKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdlbmQnLFxuICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IGRpc3BsYXllZCA+IDE3MCA/ICc2cHgnIDogJzdweCcsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ZWQgPiAyMCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnZW5kJyxcbiAgICAgICAgICAgICdmb250LXNpemUnOiAnMTBweCcsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLFxuICAgICAgICAgICdmb250LXNpemUnOiAnMTFweCcsXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIHRoaXMuZ19iYXIuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUnKS5odG1sKCcnKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZSBtb3VzZWRvd24nLCAoZCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy50aXRsZScpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/ICd0aXRsZSBteVJlZ2lvbicgOiAndGl0bGUnKVxuICAgICAgICAgIC5odG1sKFtkLm5hbWUsICcgKCcsIGQuaWQsICcpJ10uam9pbignJykpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcuY29udGVudCcpXG4gICAgICAgICAgLmh0bWwoW1xuICAgICAgICAgICAgc2VsZi5yYXRpb190b191c2UsICcgOiAnLCBmb3JtYXROdW1iZXIoZFtzZWxmLnJhdGlvX3RvX3VzZV0sIDEpLCAnICcsIHNlbGYudW5pdCwgJzxicj4nLFxuICAgICAgICAgICAgJ1JhbmcgOiAnLCBuYkZ0IC0gc2VsZi5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpLCAnLycsIHNlbGYuY3VycmVudF9pZHMubGVuZ3RoLFxuICAgICAgICAgIF0uam9pbignJykpO1xuICAgICAgICBzZWxmLnRvb2x0aXBcbiAgICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG51bGwsXG4gICAgICAgICAgICBsZWZ0OiBgJHtkMy5ldmVudC5wYWdlWCAtIHdpbmRvdy5zY3JvbGxYIC0gNX1weGAsXG4gICAgICAgICAgICB0b3A6IGAke2QzLmV2ZW50LnBhZ2VZIC0gd2luZG93LnNjcm9sbFkgLSA4NX1weGAsXG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAgIC5vbignbW91c2Vtb3ZlIG1vdXNlZG93bicsICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbXMgPSBnZXRFbGVtZW50c0Zyb21Qb2ludChkMy5ldmVudC5jbGllbnRYLCBkMy5ldmVudC5jbGllbnRZKTtcbiAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1zLmZpbmQoZSA9PiBlLmNsYXNzTmFtZS5iYXNlVmFsID09PSAnYmFyJyB8fCBlLmNsYXNzTmFtZS5iYXNlVmFsID09PSAndHJhbnNwX21lYW5fbGluZScpO1xuICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgIGNvbnN0IG5ld19jbGlja19ldmVudCA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCB7XG4gICAgICAgICAgICBwYWdlWDogZDMuZXZlbnQucGFnZVgsXG4gICAgICAgICAgICBwYWdlWTogZDMuZXZlbnQucGFnZVksXG4gICAgICAgICAgICBjbGllbnRYOiBkMy5ldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgY2xpZW50WTogZDMuZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW0uZGlzcGF0Y2hFdmVudChuZXdfY2xpY2tfZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7IHNlbGYudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0QWxsKCdwJykuaHRtbCgnJyk7IH0sIDI1MCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHsgc2VsZi50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS5zZWxlY3RBbGwoJ3AnKS5odG1sKCcnKTsgfSwgMjUwKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNaW5pQmFycygpO1xuICB9XG5cblxuICB1cGRhdGVNaW5pQmFycygpIHtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCBtaW5pX2JhcnMgPSB0aGlzLmNvbnRleHQuc2VsZWN0QWxsKCcuYmFyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSk7XG5cbiAgICBtaW5pX2JhcnNcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuXG4gICAgbWluaV9iYXJzXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmluc2VydCgncmVjdCcpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2JhcicsXG4gICAgICAgIHg6IHRoaXMueDIoZC5pZCksXG4gICAgICAgIHk6IHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgICAgd2lkdGg6IHRoaXMueDIuYmFuZHdpZHRoKCksXG4gICAgICAgIGhlaWdodDogaGVpZ2h0MiAtIHRoaXMueTIoZFtyYXRpb190b191c2VdKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiAoZC5pZCAhPT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IGNvbG9yX2NvdW50cmllcyA6IGNvbG9yX2hpZ2hsaWdodCkpO1xuICAgIG1pbmlfYmFycy5leGl0KCkucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVNYXBSZWdpbygpIHtcbiAgICB0aGlzLm1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+ICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMVxuICAgICAgICA/IChhcHAuY29sb3JzW2QuaWRdIHx8IGNvbG9yX2NvdW50cmllcylcbiAgICAgICAgOiBjb2xvcl9kaXNhYmxlZCkpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNeVJlZ2lvbigpIHtcbiAgICBjb25zdCBteV9yYW5rID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbHRlcihkID0+IGRbMF0gPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pWzBdWzFdO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFtteV9yYW5rLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpID4gbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX3N1cDsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbXlfcmFua107XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA8IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9pbmY7IH0pO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9IGZhbHNlO1xuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfY29udGFpbmVyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgLy8gICAuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TXlSZWdpb24oKSB7XG4gICAgY29uc3QgbXlfcmFuayA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IFtkLmlkLCBpXSlcbiAgICAgIC5maWx0ZXIoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVswXVsxXTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFswLCBteV9yYW5rXTtcbiAgICAgIHRoaXMuZGF0YVxuICAgICAgICAuZmlsdGVyKChkLCBpKSA9PiBpIDwgbXlfcmFuaylcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5mb3JFYWNoKChmdCkgPT4geyBhcHAuY29sb3JzW2Z0XSA9IGNvbG9yX2luZjsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbbXlfcmFuaywgdGhpcy5kYXRhLmxlbmd0aF07XG4gICAgICB0aGlzLmRhdGFcbiAgICAgICAgLmZpbHRlcigoZCwgaSkgPT4gaSA+IG15X3JhbmspXG4gICAgICAgIC5tYXAoZCA9PiBkLmlkKVxuICAgICAgICAuZm9yRWFjaCgoZnQpID0+IHsgYXBwLmNvbG9yc1tmdF0gPSBjb2xvcl9zdXA7IH0pO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9IGZhbHNlO1xuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICAvLyBzdmdfYmFyLnNlbGVjdCgnLmJydXNoX3RvcCcpXG4gICAgLy8gICAuY2FsbCh0aGlzLmJydXNoX3RvcC5tb3ZlLCBjdXJyZW50X3JhbmdlX2JydXNoLm1hcChkID0+IGQgKiAod2lkdGggLyBuYkZ0KSkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdEFib3ZlTWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcblxuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmICghdGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmssIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgdGhpcy5kYXRhLmZpbHRlcihkID0+IGRbcmF0aW9fdG9fdXNlXSA+IHRoaXMubWVhbl92YWx1ZSkuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgaWYgKGZ0W3JhdGlvX3RvX3VzZV0gPiByZWZfdmFsdWUpIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3Jfc3VwO1xuICAgICAgICBlbHNlIGFwcC5jb2xvcnNbZnQuaWRdID0gY29sb3JfaW5mO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfcmFuZ2VfYnJ1c2ggPSBbMCwgbWVhbl9yYW5rICsgMV07XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdID4gdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA+IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnJlc2V0X3N0YXRlX2J1dHRvbiA9IGZhbHNlO1xuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgIHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueDIucmFuZ2UoKSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIC8vIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfdG9wJylcbiAgICAvLyAgIC5jYWxsKHRoaXMuYnJ1c2hfdG9wLm1vdmUsIGN1cnJlbnRfcmFuZ2VfYnJ1c2gubWFwKGQgPT4gZCAqICh3aWR0aCAvIG5iRnQpKSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdEJlbG93TWVhbigpIHtcbiAgICBjb25zdCBtZWFuX3JhbmsgPSBnZXRNZWFuUmFuayh0aGlzLm1lYW5fdmFsdWUsIHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBjb25zdCByYXRpb190b191c2UgPSB0aGlzLnJhdGlvX3RvX3VzZTtcbiAgICBjb25zdCByZWZfdmFsdWUgPSB0aGlzLnJlZl92YWx1ZTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnNlcmllX2ludmVyc2VkKSB7XG4gICAgICBjdXJyZW50X3JhbmdlX2JydXNoID0gWzAsIG1lYW5fcmFua107XG4gICAgICB0aGlzLmRhdGEuZmlsdGVyKGQgPT4gZFtyYXRpb190b191c2VdIDwgdGhpcy5tZWFuX3ZhbHVlKS5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICBpZiAoZnRbcmF0aW9fdG9fdXNlXSA8IHJlZl92YWx1ZSkgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9pbmY7XG4gICAgICAgIGVsc2UgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb2xvcl9zdXA7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9yYW5nZV9icnVzaCA9IFttZWFuX3JhbmsgKyAxLCB0aGlzLmRhdGEubGVuZ3RoXTtcbiAgICAgIHRoaXMuZGF0YS5maWx0ZXIoZCA9PiBkW3JhdGlvX3RvX3VzZV0gPCB0aGlzLm1lYW5fdmFsdWUpLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICAgIGlmIChmdFtyYXRpb190b191c2VdIDwgcmVmX3ZhbHVlKSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX3N1cDtcbiAgICAgICAgZWxzZSBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbG9yX2luZjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHRoaXMucmVzZXRfc3RhdGVfYnV0dG9uID0gZmFsc2U7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgdGhpcy5icnVzaF9ib3R0b20ubW92ZSwgdGhpcy54Mi5yYW5nZSgpKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgLy8gc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKVxuICAgIC8vICAgLmNhbGwodGhpcy5icnVzaF90b3AubW92ZSwgY3VycmVudF9yYW5nZV9icnVzaC5tYXAoZCA9PiBkICogKHdpZHRoIC8gbmJGdCkpKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy5yZXNldF9zdGF0ZV9idXR0b24gPSB0cnVlO1xuICB9XG5cbiAgaGFuZGxlX2JydXNoX21hcChldmVudCkge1xuICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LnNlbGVjdGlvbikge1xuICAgICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubWFwX2VsZW0udG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgY29uc3QgcmF0aW9fdG9fdXNlID0gdGhpcy5yYXRpb190b191c2U7XG4gICAgY29uc3QgcmVmX3ZhbHVlID0gdGhpcy5yZWZfdmFsdWU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF90b3AnKS5jYWxsKHNlbGYuYnJ1c2hfdG9wLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIC8vIGNvbnN0IHRyYW5zZm9ybSA9IHN2Z19tYXAubm9kZSgpLl9fem9vbTtcbiAgICAvLyB0b3BsZWZ0WzBdID0gKHRvcGxlZnRbMF0gLSB0cmFuc2Zvcm0ueCkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyB0b3BsZWZ0WzFdID0gKHRvcGxlZnRbMV0gLSB0cmFuc2Zvcm0ueSkgLyB0cmFuc2Zvcm0uaztcbiAgICAvLyBib3R0b21yaWdodFswXSA9IChib3R0b21yaWdodFswXSAtIHRyYW5zZm9ybS54KSAvIHRyYW5zZm9ybS5rO1xuICAgIC8vIGJvdHRvbXJpZ2h0WzFdID0gKGJvdHRvbXJpZ2h0WzFdIC0gdHJhbnNmb3JtLnkpIC8gdHJhbnNmb3JtLms7XG4gICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0KHRvcGxlZnQsIGJvdHRvbXJpZ2h0KTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBkLmlkO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgICByZXR1cm4gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcHRzKSB7XG4gICAgICAgICAgdGhpcy5fcHRzID0gc3ZnUGF0aFRvQ29vcmRzKHRoaXMuZ2V0QXR0cmlidXRlKCdkJyksIGFwcC50eXBlX3BhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0cyA9IHRoaXMuX3B0cztcbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBuYl9wdHMgPSBwdHMubGVuZ3RoOyBpeCA8IG5iX3B0czsgaXgrKykge1xuICAgICAgICAgIGlmIChyZWN0LmNvbnRhaW5zKHB0c1tpeF0pKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQucHJvcGVydGllc1tyYXRpb190b191c2VdO1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb21wKHZhbHVlLCByZWZfdmFsdWUsIHRoaXMuc2VyaWVfaW52ZXJzZWQpO1xuICAgICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgIH0pO1xuICAgIHNlbGYuX2ZvY3VzLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IGFwcC5jb2xvcnNbZC5pZF0gfHwgY29sb3JfY291bnRyaWVzKTtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKTtcbiAgICBjb25zdCByYW5rcyA9IGlkcy5tYXAoZCA9PiB0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkubWFwKGQgPT4gdGhpcy5jdXJyZW50X3JhbmtzW2RdKTtcbiAgICBpZiAocmFua3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgYzEgPSByYW5rc1swXSAtIDE7XG4gICAgICBjb25zdCBjMiA9IHJhbmtzW3JhbmtzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGMxIDwgY3VycmVudF9yYW5nZVswXSB8fCBjMiA+IGN1cnJlbnRfcmFuZ2VbMV0pIHtcbiAgICAgICAgY3VycmVudF9yYW5nZSA9IFtcbiAgICAgICAgICByYW5rc1swXSAtIDEsXG4gICAgICAgICAgcmFua3NbcmFua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbChcbiAgICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLFxuICAgICAgICAgIFtjdXJyZW50X3JhbmdlWzBdICogKHdpZHRoIC8gbmJGdCksIGN1cnJlbnRfcmFuZ2VbMV0gKiAod2lkdGggLyBuYkZ0KV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X3JhbmdlID0gWzAsIHRoaXMuZGF0YS5sZW5ndGhdO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKFxuICAgICAgICBzZWxmLmJydXNoX2JvdHRvbS5tb3ZlLCBzZWxmLngucmFuZ2UoKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgY29uc3QgaWQgPSBkLmlkO1xuICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCB8fCBpZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikgcmV0dXJuO1xuICAgIGlmIChhcHAuY29sb3JzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9jb3VudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAoXG4gICAgICAgIGQucHJvcGVydGllc1t0aGlzLnJhdGlvX3RvX3VzZV0sXG4gICAgICAgIHRoaXMucmVmX3ZhbHVlLFxuICAgICAgICB0aGlzLnNlcmllX2ludmVyc2VkKTtcbiAgICAgIGFwcC5jb2xvcnNbaWRdID0gY29sb3I7XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3IpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ2hhbmdlUmVnaW9uKCkge1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZl92YWx1ZSA9IHRoaXMuZGF0YS5maW5kKFxuICAgICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbdGhpcy5yYXRpb190b191c2VdO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIHRoaXMudXBkYXRlVGFibGVTdGF0cygpO1xuICAgICAgc3ZnX2Jhci5zZWxlY3QoJy5icnVzaF9ib3R0b20nKS5jYWxsKHRoaXMuYnJ1c2hfYm90dG9tLm1vdmUsIHRoaXMueC5yYW5nZSgpKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU1lYW5WYWx1ZSgpIHtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5fZm9jdXMuc2VsZWN0KCcubWVhbicpO1xuICAgIHRoaXMubWVhbl92YWx1ZSA9IGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fdG9fdXNlXSkpO1xuICAgIGdycF9tZWFuLnNlbGVjdCgndGV4dCcpXG4gICAgICAuYXR0cigneScsIHkodGhpcy5tZWFuX3ZhbHVlKSArIDIwKVxuICAgICAgLnRleHQoYFZhbGV1ciBtb3llbm5lIDogJHtmb3JtYXROdW1iZXIodGhpcy5tZWFuX3ZhbHVlLCAxKX0gJHt0aGlzLnVuaXR9YCk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcubWVhbl9saW5lJylcbiAgICAgIC5hdHRycyh7IHkxOiB5KHRoaXMubWVhbl92YWx1ZSksIHkyOiB5KHRoaXMubWVhbl92YWx1ZSkgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0KCcudHJhbnNwX21lYW5fbGluZScpXG4gICAgICAuYXR0cnMoeyB5MTogeSh0aGlzLm1lYW5fdmFsdWUpLCB5MjogeSh0aGlzLm1lYW5fdmFsdWUpIH0pO1xuICB9XG5cbiAgY2hhbmdlU3R1ZHlab25lKCkge1xuICAgIGNvbnN0IHJhdGlvX3RvX3VzZSA9IHRoaXMucmF0aW9fdG9fdXNlO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbcmF0aW9fdG9fdXNlXSk7XG4gICAgdGhpcy5yZWZfdmFsdWUgPSB0aGlzLmRhdGEuZmluZChcbiAgICAgIGZ0ID0+IGZ0LmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKVtyYXRpb190b191c2VdO1xuICAgIHRoaXMuY3VycmVudF9yYW5rcyA9IHRoaXMuZGF0YS5tYXAoKGQsIGkpID0+IGkgKyAxKTtcbiAgICBpZiAodGhpcy5zZXJpZV9pbnZlcnNlZCkge1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbcmF0aW9fdG9fdXNlXSAtIGFbcmF0aW9fdG9fdXNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhW3JhdGlvX3RvX3VzZV0gLSBiW3JhdGlvX3RvX3VzZV0pO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIG5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMucmVmX3ZhbHVlID0gdGhpcy5kYXRhLmZpbmQoXG4gICAgICBmdCA9PiBmdC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbilbcmF0aW9fdG9fdXNlXTtcbiAgICB0aGlzLnguZG9tYWluKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIGxldCBtaW5fc2VyaWUgPSBkMy5taW4odGhpcy5kYXRhLCBkID0+IGRbcmF0aW9fdG9fdXNlXSk7XG4gICAgbWluX3NlcmllID0gbWluX3NlcmllID49IDAgPyAwIDogbWluX3NlcmllICsgbWluX3NlcmllIC8gMTA7XG4gICAgY29uc3QgbWF4X3NlcmllID0gZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkW3JhdGlvX3RvX3VzZV0pO1xuICAgIC8vIGNvbnN0IG9mZnNldF95ID0gKG1heF9zZXJpZSAtIG1pbl9zZXJpZSkgLyAyMDtcbiAgICB0aGlzLnkuZG9tYWluKFtcbiAgICAgIC8vIG1pbl9zZXJpZSAtIG9mZnNldF95LCBtYXhfc2VyaWUsXG4gICAgICBtaW5fc2VyaWUsIG1heF9zZXJpZSxcbiAgICBdKTtcbiAgICB0aGlzLngyLmRvbWFpbih0aGlzLnguZG9tYWluKCkpO1xuICAgIHRoaXMueTIuZG9tYWluKHRoaXMueS5kb21haW4oKSk7XG4gICAgdGhpcy51cGRhdGVNZWFuVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlQ29udGV4dCgwLCB0aGlzLmRhdGEubGVuZ3RoKTtcblxuICAgIHN2Z19iYXIuc2VsZWN0KCcuYnJ1c2hfYm90dG9tJykuY2FsbCh0aGlzLmJydXNoX2JvdHRvbS5tb3ZlLCB0aGlzLngyLnJhbmdlKCkpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXRzKCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgYWRkVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIC8vIEZldGNoIHRoZSB1bml0IGZvciB0aGlzIGluZGljYXRvcjpcbiAgICBjb25zdCB7IG5hbWUsIHVuaXQgfSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLmlkID09PSBjb2RlX3ZhcmlhYmxlKTtcbiAgICBjb25zdCB5ZWFyID0gbmFtZS5tYXRjaCgvXFwoW14pXSpcXCkkLylbMF07XG4gICAgY29uc3QgdW5pdF95ZWFyID0gYCR7eWVhci5zbGljZSgwLCAxKX0ke3VuaXR9LCAke3llYXIuc2xpY2UoMSwgNil9YDtcbiAgICBjb25zdCBuYW1lX3ZhciA9IG5hbWUucmVwbGFjZSh5ZWFyLCB1bml0X3llYXIpO1xuICAgIC8vIEFkZCB0aGUgdmFyaWFibGUgdG8gdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvb3NlIHZhcmlhYmxlczpcbiAgICB0aGlzLml0ZW1zX21lbnUucHVzaCh7XG4gICAgICBuYW1lOiBuYW1lX3ZhcixcbiAgICAgIGNvZGU6IGNvZGVfdmFyaWFibGUsXG4gICAgICBhY3Rpb246ICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3Zhcik7XG4gICAgICAgIHRoaXMuY2hhbmdlU3R1ZHlab25lKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBBbmQgdXNlIGl0IGltbWVkaWF0bHk6XG4gICAgdGhpcy5pdGVtc19tZW51W3RoaXMuaXRlbXNfbWVudS5sZW5ndGggLSAxXS5hY3Rpb24oKTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhcmlhYmxlIGZyb20gdGhlIGxpc3Qgb2YgaXRlbXM6XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXNfbWVudS5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNfbWVudVtpXS5jb2RlID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuaXRlbXNfbWVudS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5yYXRpb190b191c2UgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgIHRoaXMuaXRlbXNfbWVudVswXS5hY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VWYXJpYWJsZShjb2RlX3ZhcmlhYmxlLCBuYW1lX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yYXRpb190b191c2UgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMudW5pdCA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IGNvZGVfdmFyaWFibGUpLnVuaXQ7XG4gICAgY29uc3QgY29udGVudF90b29sdGlwID0gdGhpcy5zZXJpZV9pbnZlcnNlZFxuICAgICAgPyBgJHtuYW1lX3ZhcmlhYmxlfSAoYXhlIGludmVyc8OpKWBcbiAgICAgIDogbmFtZV92YXJpYWJsZTtcbiAgICB0aGlzLnRpdGxlX3ZhcmlhYmxlXG4gICAgICAuYXR0cigndGl0bGUtdG9vbHRpcCcsIGNvbnRlbnRfdG9vbHRpcClcbiAgICAgIC5odG1sKFxuICAgICAgICBgJHtuYW1lX3ZhcmlhYmxlLnJlcGxhY2UoL1xcKC8sICcmJiYnKS5zcGxpdCgnJiYmJykuam9pbignPGJyPignKX0gJiN4MjVCRTtgKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLl9mb2N1cy5yZW1vdmUoKTtcbiAgICB0aGlzLmNvbnRleHQucmVtb3ZlKCk7XG4gICAgdGhpcy50aXRsZV92YXJpYWJsZS5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMudGFibGVfc3RhdHMgPSBudWxsO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2hDbGljaygpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIGQzLnNlbGVjdCgnI3N2Z19iYXInKS50ZXh0KCcnKS5odG1sKCcnKTtcbiAgfVxuXG4gIGJpbmRNYXAobWFwX2VsZW0pIHtcbiAgICB0aGlzLm1hcF9lbGVtID0gbWFwX2VsZW07XG4gICAgdGhpcy5tYXBfZWxlbS5yZXNldENvbG9ycyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICB0aGlzLm1hcF9lbGVtLmRpc3BsYXlMZWdlbmQoMCk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXRzKCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIHByZXBhcmVUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy5yYXRpb190b191c2VdKTtcbiAgICByZXR1cm4ge1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3k6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIE1lZDogZDMubWVkaWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy5yYXRpb190b191c2UsXG4gICAgICBWYXJpYWJsZTogdGhpcy5yYXRpb190b191c2UsXG4gICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlLFxuICAgIH07XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChbZmVhdHVyZV0pO1xuICB9XG5cbiAgZ2V0SGVscE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGBcbjxoMz5Qb3NpdGlvbiDigJMgMSBJbmRpY2F0ZXVyPC9oMz5cblxuPGI+QWlkZSBnw6luw6lyYWxlPC9iPlxuQ2UgZ3JhcGhpcXVlIHJlcHLDqXNlbnRlIGzigJlpbmRpY2F0ZXVyIHPDqWxlY3Rpb25uw6kgb3Jkb25uw6kgZGUgbGEgdmFsZXVyIG1pbmltYWxlIMOgIGxhIHZhbGV1ciBtYXhpbWFsZSAoYmFycmVzIGJsZXVlcykgcG91ciBs4oCZZXNwYWNlIGTigJnDqXR1ZGUgZXQgbGUgbWFpbGxhZ2UgdGVycml0b3JpYWwgZOKAmWFuYWx5c2Ugc8OpbGVjdGlvbm7DqS4gTGEgdmFsZXVyIGRlIGzigJl1bml0w6kgdGVycml0b3JpYWxlIHPDqWxlY3Rpb25uw6llIGFwcGFyYcOudCBlbiBzdXJicmlsbGFuY2UgKGphdW5lKS4gTGEgbGlnbmUgcmVwcsOpc2VudMOpZSBwYXIgdW4gdGlyZXTDqSByb3VnZSByZXByw6lzZW50ZSBsYSBtb3llbm5lIGRlIGzigJllc3BhY2UgZOKAmcOpdHVkZSAobm9uIHBvbmTDqXLDqWUpLlxuXG5TdXIgY2UgZ3JhcGhpcXVlLCBpbCBlc3QgcG9zc2libGUgZOKAmWludmVyc2VyIGzigJlvcmRyZSBkZSBjbGFzc2VtZW50IGRlIGzigJlpbmRpY2F0ZXVyIChhcHB1eWVyIHN1ciBsZSDCqyArIMK7KS5cblxuTGEgY2FydGUgZXQgbGUgZ3JhcGhpcXVlIHNvbnQgaW50ZXJhY3RpZnMgZGFucyBsYSBtZXN1cmUgb8O5IGzigJl1dGlsaXNhdGV1ciBwZXV0IGNob2lzaXIgZGUgc8OpbGVjdGlvbm5lciBkZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzIChjbGljIGdhdWNoZSBhcHB1ecOpIGRlIGxhIHNvdXJpcykgZXQgdmlzdWFsaXNlciBsZXVyIHBvc2l0aW9ubmVtZW50IHNpbXVsdGFuw6ltZW50IHN1ciBsYSBjYXJ0ZSAobG9jYWxpc2F0aW9uIGfDqW9ncmFwaGlxdWUpIG91IHN1ciBsZSBkaWFncmFtbWUgZGUgZGlzdHJpYnV0aW9uIChwb3NpdGlvbm5lbWVudCBzdGF0aXN0aXF1ZSkuIElsIHBldXQgYXVzc2kgZW4gdW4gY2xpYyBjaG9pc2lyIGRlIHZpc3VhbGlzZXIgbGVzIHVuaXTDqXMgdGVycml0b3JpYWxlcyBheWFudCBkZXMgdmFsZXVycyBpbmbDqXJpZXVyZXMvc3Vww6lyaWV1cmVzIMOgIGxhIG1veWVubmUgZGUgbOKAmWVzcGFjZSBk4oCZw6l0dWRlIG91IGluZsOpcmlldXJlcy9zdXDDqXJpZXVyZXMgw6AgbGEgdmFsZXVyIGRlIGzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlICjCqyBtYSByw6lnaW9uIMK7KS5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVIZWxwKCkge1xuICAgIGNvbnN0IFtteV9yZWdpb24sIG15X3JhbmtdID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgICAgLmZpbmQoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnJhdGlvX3RvX3VzZV0pLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICBjb25zdCBpbmZvX3ZhciA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IHRoaXMucmF0aW9fdG9fdXNlKTtcbiAgICBsZXQgaW5mID0gMDtcbiAgICBsZXQgc3VwID0gMDtcbiAgICBjb25zdCBteV92YWx1ZSA9IHRoaXMucmVmX3ZhbHVlO1xuICAgIHZhbHVlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICBpZiAodiA8IG15X3ZhbHVlKSB7XG4gICAgICAgIGluZiArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VwICs9IDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgY29uc3QgbmFtZV9zdHVkeV96b25lID0gIWFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5XG4gICAgICA/ICdVRTI4JyA6IGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5IGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgPyBbJ1LDqWdpb25zIGRhbnMgdW4gdm9pc2luYWdlIGRlICcsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnZhbHVlLCAna20nXS5qb2luKCcnKVxuICAgICAgICA6IHN0dWR5X3pvbmVzLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkubmFtZTtcbiAgICBjb25zdCBoZWxwMSA9IFtgPGI+SW5kaWNhdGV1ciAxPC9iPiA6ICR7aW5mb192YXIubmFtZX0gKCR7aW5mb192YXIuaWR9KTxicj5cbjxiPk1haWxsYWdlIHRlcnJpdG9yaWFsIGQnYW5hbHlzZTwvYj4gOiAke3RlcnJpdG9yaWFsX21lc2guZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsKS5uYW1lfTxicj5gXTtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLm15X2NhdGVnb3J5KSB7XG4gICAgICBoZWxwMS5wdXNoKFxuICAgICAgICBgPGI+RXNwYWNlIGQnw6l0dWRlPC9iPiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXl9PGJyPjxiPkNhdMOpZ29yaWU8L2I+IDogJHthcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnl9YCk7XG4gICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgICAgaGVscDEucHVzaChcbiAgICAgICAgYDxiPkVzcGFjZSBkJ8OpdHVkZTwvYj4gOiBVRTI4IChSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAke2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnZhbHVlfSBrbSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVscDEucHVzaCggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHF1b3Rlc1xuICAgICAgICBgPGI+RXNwYWNlIGQnw6l0dWRlPC9iPiA6IFVFMjhgKTtcbiAgICB9XG4gICAgY29uc3QgaGVscDIgPSBgXG5M4oCZdW5pdMOpIHRlcnJpdG9yaWFsZSA8Yj4ke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9PC9iPiBhIHVuZSB2YWxldXIgZGUgPGI+JHtmb3JtYXROdW1iZXIodGhpcy5yZWZfdmFsdWUsIDEpfSAke2luZm9fdmFyLnVuaXR9PC9iPiBwb3VyIGzigJlpbmRpY2F0ZXVyIDxpPiR7dGhpcy5yYXRpb190b191c2V9PC9pPi5cbkVsbGUgc2Ugc2l0dWUgIGF1IHJhbmcgPGI+JHtteV9yYW5rfTwvYj4gZGUgbGEgZGlzdHJpYnV0aW9uIHBvdXIgbOKAmWVzcGFjZSBk4oCZw6l0dWRlIDxiPiR7bmFtZV9zdHVkeV96b25lfTwvYj4uXG5Qb3VyIGNldCBpbmRpY2F0ZXVyLCA8Yj4ke3N1cH08L2I+IHVuaXTDqXMgdGVycml0b3JpYWxlcyBvbnQgdW5lIHZhbGV1ciBzdXDDqXJpZXVyZXMgZXQgPGI+JHtpbmZ9PC9iPiB1bml0w6lzIHRlcnJpdG9yaWFsZXMgb250IHVuZSB2YWxldXIgaW5mw6lyaWV1cmUuXG5QYXIgYWlsbGV1cnMgbW9uIHVuaXTDqSB0ZXJyaXRvcmlhbGUgc2Ugc2l0dWUgPGI+JHtmb3JtYXROdW1iZXIoTWF0aC5hYnModGhpcy5yZWZfdmFsdWUgPiB0aGlzLm1lYW5fdmFsdWUgPyB0aGlzLnJlZl92YWx1ZSAvIHRoaXMubWVhbl92YWx1ZSA6IHRoaXMubWVhbl92YWx1ZSAvIHRoaXMucmVmX3ZhbHVlKSwgMSl9JTwvYj4gJHt0aGlzLnJlZl92YWx1ZSA+IHRoaXMubWVhbl92YWx1ZSA/ICdhdSBkZXNzdXMnIDogJ2VuLWRlc3NvdXMnfSBkZSBsYSBtb3llbm5lIGRlIGzigJllc3BhY2UgZOKAmcOpdHVkZSAoJHtmb3JtYXROdW1iZXIodGhpcy5tZWFuX3ZhbHVlLCAxKX0gJHtpbmZvX3Zhci51bml0fSkuYDtcbiAgICBjb25zdCBzb3VyY2UgPSBgPGI+SW5kaWNhdGV1ciAxPC9iPiA6ICR7aW5mb192YXIuc291cmNlfSAoRGF0ZSBkZSB0w6lsw6ljaGFyZ2VtZW50IGRlIGxhIGRvbm7DqWUgOiAke2luZm9fdmFyLmxhc3RfdXBkYXRlfSlgO1xuICAgIHJldHVybiB7IHNlY3Rpb25fc2VsZWN0aW9uOiBoZWxwMS5qb2luKCcnKSwgc2VjdGlvbl9oZWxwOiBoZWxwMiwgc2VjdGlvbl9zb3VyY2U6IHNvdXJjZSB9O1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZWN0LCBjb21wMiwgcHJlcGFyZVRvb2x0aXAyLCBzdmdQYXRoVG9Db29yZHMsIGNvbXB1dGVQZXJjZW50aWxlUmFuaywgZ2V0TWVhbiwgZm9ybWF0TnVtYmVyLCBub0NvbnRleHRNZW51IH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCwgZml4ZWRfZGltZW5zaW9uIH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0LCBjYWxjQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHJlc2V0Q29sb3JzLCBzdHVkeV96b25lcywgdGVycml0b3JpYWxfbWVzaCB9IGZyb20gJy4vLi4vLi4vbWFpbic7XG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnLi8uLi9jb250ZXh0TWVudSc7XG5pbXBvcnQgQ29tcGxldHVkZVNlY3Rpb24gZnJvbSAnLi8uLi9jb21wbGV0dWRlJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuXG5sZXQgc3ZnX2JhcjtcbmxldCBtYXJnaW47XG5sZXQgd2lkdGg7XG5sZXQgaGVpZ2h0O1xubGV0IHN2Z19jb250YWluZXI7XG5sZXQgdDtcblxuY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgc3ZnX2JhciA9IGQzLnNlbGVjdCgnc3ZnI3N2Z19iYXInKS5vbignY29udGV4dG1lbnUnLCBub0NvbnRleHRNZW51KTtcbiAgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNDAsIGxlZnQ6IDYwIH07XG4gIHdpZHRoID0gZml4ZWRfZGltZW5zaW9uLmNoYXJ0LndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGhlaWdodCA9IGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgY29uc3Qgd2lkdGhfdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFyX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAqIDAuOTg7XG4gIGQzLnNlbGVjdCgnLmNvbnRfc3ZnLmNjaGFydCcpLnN0eWxlKCdwYWRkaW5nLXRvcCcsIGAkeyhmaXhlZF9kaW1lbnNpb24uY2hhcnQuaGVpZ2h0IC8gZml4ZWRfZGltZW5zaW9uLmNoYXJ0LndpZHRoKSAqIHdpZHRoX3ZhbHVlfXB4YCk7XG4gIHN2Z19jb250YWluZXIgPSBzdmdfYmFyLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2NvbnRhaW5lcicpO1xufTtcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIHNjYXR0ZXJwbG90ICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2F0dGVyUGxvdDIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgc2NhdHRlcnBsb3Qgb24gdGhlIGBzdmdfYmFyYCBzdmcgZWxlbWVudCBwcmV2aW91c2x5IGRlZmluZWRcbiAgICogQHBhcmFtIHtBcnJheX0gcmVmX2RhdGEgLSBBIHJlZmVyZW5jZSB0byB0aGUgc3Vic2V0IG9mIHRoZSBkYXRhc2V0IHRvIGJlIHVzZWRcbiAgICogdG8gY3JlYXRlIHRoZSBzY2F0dGVycGxvdCAoc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdHdvIGZpZWxkcyBmbGFnZ2VkIGFzIHJhdGlvXG4gICAqIGluIHRoZSBgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvYCBPYmplY3QpLlxuICAgKi9cbiAgY29uc3RydWN0b3IocmVmX2RhdGEpIHtcbiAgICB0aGlzLmJydXNoZWQgPSAoKSA9PiB7XG4gICAgICBpZiAoZDMuZXZlbnQgJiYgIWQzLmV2ZW50LnNlbGVjdGlvbikge1xuICAgICAgICBpZiAoZDMuZXZlbnQudHlwZSA9PT0gJ2VuZCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudHlwZSA9PT0gJ21vdXNldXAnKSB7XG4gICAgICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBhcHAuY29sb3JzID0ge307XG4gICAgICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlTGlnaHQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgICAvLyBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBkMy5ldmVudC5zZWxlY3Rpb247XG4gICAgICBjb25zdCByYW5nZV94ID0gW1xuICAgICAgICB0aGlzLnguaW52ZXJ0KHRvcGxlZnRbMF0pLFxuICAgICAgICB0aGlzLnguaW52ZXJ0KGJvdHRvbXJpZ2h0WzBdKSxcbiAgICAgIF07XG4gICAgICBjb25zdCByYW5nZV95ID0gW1xuICAgICAgICB0aGlzLnkuaW52ZXJ0KGJvdHRvbXJpZ2h0WzFdKSxcbiAgICAgICAgdGhpcy55LmludmVydCh0b3BsZWZ0WzFdKSxcbiAgICAgIF07XG4gICAgICBpZiAodGhpcy54SW52ZXJzZWQpIHJhbmdlX3gucmV2ZXJzZSgpO1xuICAgICAgaWYgKHRoaXMueUludmVyc2VkKSByYW5nZV95LnJldmVyc2UoKTtcbiAgICAgIHJhbmdlX3hbMF0gLT0gMC41O1xuICAgICAgcmFuZ2VfeFsxXSArPSAwLjU7XG4gICAgICByYW5nZV95WzBdIC09IDAuNTtcbiAgICAgIHJhbmdlX3lbMV0gKz0gMC41O1xuICAgICAgbGV0IHQxO1xuICAgICAgbGV0IHQyO1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICB0MSA9IHRoaXMudmFyaWFibGUxO1xuICAgICAgICB0MiA9IHRoaXMudmFyaWFibGUyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdDEgPSB0aGlzLnJhbmtfdmFyaWFibGUxO1xuICAgICAgICB0MiA9IHRoaXMucmFua192YXJpYWJsZTI7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRoaXMuZGF0YS5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZ0ID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICBpZiAoZnRbdDFdID49IHJhbmdlX3hbMF0gJiYgZnRbdDFdIDw9IHJhbmdlX3hbMV1cbiAgICAgICAgICAgICYmIGZ0W3QyXSA+PSByYW5nZV95WzBdICYmIGZ0W3QyXSA8PSByYW5nZV95WzFdKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb21wMihcbiAgICAgICAgICAgIGZ0W3RoaXMudmFyaWFibGUxXSwgZnRbdGhpcy52YXJpYWJsZTJdLFxuICAgICAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgICAgICB0aGlzLnhJbnZlcnNlZCwgdGhpcy55SW52ZXJzZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgdGhpcy51cGRhdGVMaWdodCgpO1xuICAgICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgICB9O1xuICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy50eXBlID0gJ3ZhbHVlJztcbiAgICB0aGlzLnZhcmlhYmxlMSA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1swXTtcbiAgICB0aGlzLnZhcmlhYmxlMiA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpb1sxXTtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUxID0gYHByXyR7dGhpcy52YXJpYWJsZTF9YDtcbiAgICB0aGlzLnJhbmtfdmFyaWFibGUyID0gYHByXyR7dGhpcy52YXJpYWJsZTJ9YDtcbiAgICB0aGlzLnVuaXQxID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5pZCA9PT0gdGhpcy52YXJpYWJsZTEpLnVuaXQ7XG4gICAgdGhpcy51bml0MiA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IHRoaXMudmFyaWFibGUyKS51bml0O1xuICAgIHRoaXMucHJldHR5X25hbWUxID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lWzBdO1xuICAgIHRoaXMucHJldHR5X25hbWUyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lWzFdO1xuICAgIHRoaXMuZGF0YSA9IHJlZl9kYXRhLmZpbHRlcihmdCA9PiAhIWZ0W3RoaXMudmFyaWFibGUxXSAmJiAhIWZ0W3RoaXMudmFyaWFibGUyXSlcbiAgICAgIC5tYXAoKGQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0geyBpZDogZC5pZCwgbmFtZTogZC5uYW1lIH07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMV0gPSBkW3RoaXMudmFyaWFibGUxXTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUyXSA9IGRbdGhpcy52YXJpYWJsZTJdO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5zcGxpY2UoXG4gICAgICB0aGlzLmRhdGEuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiksIDEpWzBdO1xuICAgIHRoaXMuZGF0YS5wdXNoKHRtcF9teV9yZWdpb24pO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuXG4gICAgdGhpcy54ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pXG4gICAgICAubmljZSgpO1xuICAgIHRoaXMueSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSlcbiAgICAgIC5uaWNlKCk7XG5cbiAgICB0aGlzLnhBeGlzID0gZDMuYXhpc0JvdHRvbSh0aGlzLngpLnRpY2tzKHRoaXMubWVhbl92YXJpYWJsZTEgPj0gMTAwMDAgPyA1IDogMTApLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKTtcbiAgICB0aGlzLnlBeGlzID0gZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcygxMCAqIGhlaWdodCAvIHdpZHRoKS50aWNrRm9ybWF0KGZvcm1hdE51bWJlcik7XG4gICAgdGhpcy54QXhpczIgPSBkMy5heGlzQm90dG9tKHRoaXMueCkudGlja3ModGhpcy5tZWFuX3ZhcmlhYmxlMSA+PSAxMDAwMCA/IDUgOiAxMCkudGlja0Zvcm1hdChmb3JtYXROdW1iZXIpO1xuICAgIHRoaXMueUF4aXMyID0gZDMuYXhpc0xlZnQodGhpcy55KS50aWNrcygxMCAqIGhlaWdodCAvIHdpZHRoKS50aWNrRm9ybWF0KGZvcm1hdE51bWJlcik7XG5cbiAgICB0aGlzLmJydXNoID0gZDMuYnJ1c2goKVxuICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxuICAgICAgLm9uKCdicnVzaCBlbmQnLCB0aGlzLmJydXNoZWQpO1xuXG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRtcF9teV9yZWdpb25bdGhpcy52YXJpYWJsZTFdO1xuICAgIHRoaXMucmVmX3ZhbHVlMiA9IHRtcF9teV9yZWdpb25bdGhpcy52YXJpYWJsZTJdO1xuXG4gICAgdGhpcy5wbG90ID0gc3ZnX2NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtbbWFyZ2luLmxlZnQsIG1hcmdpbi50b3BdfSlgKTtcblxuICAgIHRoaXMucGxvdC5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnc3ZnOmNsaXBQYXRoJylcbiAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcbiAgICAgIC5hcHBlbmQoJ3N2ZzpyZWN0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICB9KTtcblxuICAgIHRoaXMuc2NhdHRlciA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdzY2F0dGVycGxvdCcsXG4gICAgICAgICdjbGlwLXBhdGgnOiAndXJsKCNjbGlwKScsXG4gICAgICB9KTtcblxuICAgIHRoaXMuc2NhdHRlci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoJylcbiAgICAgIC5jYWxsKHRoaXMuYnJ1c2gpO1xuXG4gICAgdGhpcy5tYWtlR3JpZCgpO1xuXG4gICAgY29uc3QgZ3JvdXBlX2xpbmVfbWVhbiA9IHRoaXMucGxvdC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgY2xhc3M6ICdtZWFuJyxcbiAgICAgICAgJ2NsaXAtcGF0aCc6ICd1cmwoI2NsaXApJyxcbiAgICAgIH0pO1xuXG4gICAgLy8gVGhlIGFjdHVhbCByZWQgbGluZSBmb3IgbWVhbiB2YWx1ZSBvbiBYIGF4aXM6XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgaWQ6ICdtZWFuX3gnLFxuICAgICAgICBjbGFzczogJ21lYW5fbGluZScsXG4gICAgICAgIHgxOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICAgIHgyOiB0aGlzLngodGhpcy5tZWFuX3ZhcmlhYmxlMSksXG4gICAgICAgIHkxOiAwLFxuICAgICAgICB5Mjogd2lkdGgsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogJzEwLCA1JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcycHgnLFxuICAgICAgICAnY2xpcC1wYXRoJzogJ3VybCgjY2xpcCknLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpO1xuXG4gICAgLy8gVHJhbnNwYXJlbnQgbGluZSB3aXRoIGEgbGFyZ2VyIHdpZHRoICh0byBhY2Nlc3MgbW9yZSBlYXNpbHkgdGhlIHRvb2x0aXApXG4gICAgLy8gZm9yIG1lYW4gdmFsdWUgb24gWCBheGlzOlxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl94JyxcbiAgICAgICAgY2xhc3M6ICd0cmFuc3BfbWVhbl9saW5lJyxcbiAgICAgICAgeDE6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeDI6IHRoaXMueCh0aGlzLm1lYW5fdmFyaWFibGUxKSxcbiAgICAgICAgeTE6IDAsXG4gICAgICAgIHkyOiB3aWR0aCxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcxNHB4JyxcbiAgICAgIH0pXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsICd0cmFuc3BhcmVudCcpXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS5zZWxlY3QoJy50aXRsZScpLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJykuaHRtbCgnJyk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS5zZWxlY3QoJy50aXRsZScpLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJykuaHRtbCgnJyk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUgbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIGlmIChzZWxmLnR5cGUgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gWydNb3llbm5lIGRlIGxcXCdlc3BhY2UgZFxcJ8OpdHVkZSddO1xuICAgICAgICAgIGxldCBfaCA9IDY1O1xuICAgICAgICAgIGlmIChhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaCgnPGJyPicsICcgKCcsIGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSwgJyknKTtcbiAgICAgICAgICAgIF9oICs9IDIwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgJzxicj4nLFxuICAgICAgICAgICAgICAnIChSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAnLFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKS52YWx1ZSxcbiAgICAgICAgICAgICAgJ2ttKScpO1xuICAgICAgICAgICAgX2ggKz0gMjA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy50aXRsZScpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUgcmVkJylcbiAgICAgICAgICAgIC5odG1sKGNvbnRlbnQuam9pbignJykpO1xuICAgICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy5jb250ZW50JylcbiAgICAgICAgICAgIC5odG1sKFtgVmFsZXVyICgke3RoaXMudmFyaWFibGUxfSk6IGAsIGZvcm1hdE51bWJlcih0aGlzLm1lYW5fdmFyaWFibGUxLCAxKSwgJyAnLCBzZWxmLnVuaXQxXS5qb2luKCcnKSk7XG4gICAgICAgICAgc2VsZi50b29sdGlwXG4gICAgICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICAgICAgZGlzcGxheTogbnVsbCxcbiAgICAgICAgICAgICAgbGVmdDogYCR7ZDMuZXZlbnQucGFnZVggLSB3aW5kb3cuc2Nyb2xsWCAtIDV9cHhgLFxuICAgICAgICAgICAgICB0b3A6IGAke2QzLmV2ZW50LnBhZ2VZIC0gd2luZG93LnNjcm9sbFkgLSBfaH1weGAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLnR5cGUgPT09ICdyYW5rJykge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBbJ03DqWRpYW5lIGRlIGxcXCdlc3BhY2UgZFxcJ8OpdHVkZSddO1xuICAgICAgICAgIGxldCBfaCA9IDY1O1xuICAgICAgICAgIGlmIChhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaCgnPGJyPicsICcgKCcsIGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSwgJyknKTtcbiAgICAgICAgICAgIF9oICs9IDIwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgJzxicj4nLFxuICAgICAgICAgICAgICAnIChSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAnLFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKS52YWx1ZSxcbiAgICAgICAgICAgICAgJ2ttKScpO1xuICAgICAgICAgICAgX2ggKz0gMjA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy50aXRsZScpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUgcmVkJylcbiAgICAgICAgICAgIC5odG1sKGNvbnRlbnQuam9pbignJykpO1xuICAgICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy5jb250ZW50JylcbiAgICAgICAgICAgIC5odG1sKFtgVmFsZXVyICgke3RoaXMudmFyaWFibGUxfSk6IGAsIGZvcm1hdE51bWJlcih0aGlzLm1lYW5fdmFyaWFibGUxLCAxKV0uam9pbignJykpO1xuICAgICAgICAgIHNlbGYudG9vbHRpcFxuICAgICAgICAgICAgLnN0eWxlcyh7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG51bGwsXG4gICAgICAgICAgICAgIGxlZnQ6IGAke2QzLmV2ZW50LnBhZ2VYIC0gd2luZG93LnNjcm9sbFggLSA1fXB4YCxcbiAgICAgICAgICAgICAgdG9wOiBgJHtkMy5ldmVudC5wYWdlWSAtIHdpbmRvdy5zY3JvbGxZIC0gX2h9cHhgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gVGhlIGFjdHVhbCByZWQgbGluZSBmb3IgbWVhbiB2YWx1ZSBvbiBZIGF4aXM6XG4gICAgZ3JvdXBlX2xpbmVfbWVhbi5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl95JyxcbiAgICAgICAgY2xhc3M6ICdtZWFuX2xpbmUnLFxuICAgICAgICB4MTogMCxcbiAgICAgICAgeDI6IHdpZHRoLFxuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICAnY2xpcC1wYXRoJzogJ3VybCgjY2xpcCknLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICcxMCwgNScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMnB4JyxcbiAgICAgIH0pO1xuXG4gICAgLy8gVHJhbnNwYXJlbnQgbGluZSB3aXRoIGEgbGFyZ2VyIHdpZHRoICh0byBhY2Nlc3MgbW9yZSBlYXNpbHkgdGhlIHRvb2x0aXApXG4gICAgLy8gZm9yIG1lYW4gdmFsdWUgb24gWSBheGlzOlxuICAgIGdyb3VwZV9saW5lX21lYW4uYXBwZW5kKCdsaW5lJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3RyYW5zcGFyZW50JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnbWVhbl95JyxcbiAgICAgICAgY2xhc3M6ICd0cmFuc3BfbWVhbl9saW5lJyxcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHgyOiB3aWR0aCxcbiAgICAgICAgeTE6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgeTI6IHRoaXMueSh0aGlzLm1lYW5fdmFyaWFibGUyKSxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcxNHB4JyxcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS5zZWxlY3QoJy50aXRsZScpLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJykuaHRtbCgnJyk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICAgIC8vIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0KCcudGl0bGUnKS5hdHRyKCdjbGFzcycsICd0aXRsZSByZWQnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUnKS5odG1sKCcnKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZSBtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgaWYgKHNlbGYudHlwZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBbJ01veWVubmUgZGUgbFxcJ2VzcGFjZSBkXFwnw6l0dWRlJ107XG4gICAgICAgICAgbGV0IF9oID0gNjU7XG4gICAgICAgICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKCc8YnI+JywgJyAoJywgYXBwLmN1cnJlbnRfY29uZmlnLm15X2NhdGVnb3J5LCAnKScpO1xuICAgICAgICAgICAgX2ggKz0gMjA7XG4gICAgICAgICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKFxuICAgICAgICAgICAgICAnPGJyPicsXG4gICAgICAgICAgICAgICcgKFLDqWdpb25zIGRhbnMgdW4gdm9pc2luYWdlIGRlICcsXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnZhbHVlLFxuICAgICAgICAgICAgICAna20pJyk7XG4gICAgICAgICAgICBfaCArPSAyMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLnRpdGxlJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZSByZWQnKVxuICAgICAgICAgICAgLmh0bWwoY29udGVudC5qb2luKCcnKSk7XG4gICAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLmNvbnRlbnQnKVxuICAgICAgICAgICAgLmh0bWwoW2BWYWxldXIgKCR7dGhpcy52YXJpYWJsZTJ9KTogYCwgZm9ybWF0TnVtYmVyKHRoaXMubWVhbl92YXJpYWJsZTIsIDEpLCAnICcsIHNlbGYudW5pdDJdLmpvaW4oJycpKTtcbiAgICAgICAgICBzZWxmLnRvb2x0aXBcbiAgICAgICAgICAgIC5zdHlsZXMoe1xuICAgICAgICAgICAgICBkaXNwbGF5OiBudWxsLFxuICAgICAgICAgICAgICBsZWZ0OiBgJHtkMy5ldmVudC5wYWdlWCAtIHdpbmRvdy5zY3JvbGxYIC0gNX1weGAsXG4gICAgICAgICAgICAgIHRvcDogYCR7ZDMuZXZlbnQucGFnZVkgLSB3aW5kb3cuc2Nyb2xsWSAtIF9ofXB4YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYudHlwZSA9PT0gJ3JhbmsnKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IFsnTcOpZGlhbmUgZGUgbFxcJ2VzcGFjZSBkXFwnw6l0dWRlJ107XG4gICAgICAgICAgbGV0IF9oID0gNjU7XG4gICAgICAgICAgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKCc8YnI+JywgJyAoJywgYXBwLmN1cnJlbnRfY29uZmlnLm15X2NhdGVnb3J5LCAnKScpO1xuICAgICAgICAgICAgX2ggKz0gMjA7XG4gICAgICAgICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKFxuICAgICAgICAgICAgICAnPGJyPicsXG4gICAgICAgICAgICAgICcgKFLDqWdpb25zIGRhbnMgdW4gdm9pc2luYWdlIGRlICcsXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnZhbHVlLFxuICAgICAgICAgICAgICAna20pJyk7XG4gICAgICAgICAgICBfaCArPSAyMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLnRpdGxlJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZSByZWQnKVxuICAgICAgICAgICAgLmh0bWwoY29udGVudC5qb2luKCcnKSk7XG4gICAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLmNvbnRlbnQnKVxuICAgICAgICAgICAgLmh0bWwoW2BWYWxldXIgKCR7dGhpcy52YXJpYWJsZTJ9KTogYCwgZm9ybWF0TnVtYmVyKHRoaXMubWVhbl92YXJpYWJsZTIsIDEpXS5qb2luKCcnKSk7XG4gICAgICAgICAgc2VsZi50b29sdGlwXG4gICAgICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICAgICAgZGlzcGxheTogbnVsbCxcbiAgICAgICAgICAgICAgbGVmdDogYCR7ZDMuZXZlbnQucGFnZVggLSB3aW5kb3cuc2Nyb2xsWCAtIDV9cHhgLFxuICAgICAgICAgICAgICB0b3A6IGAke2QzLmV2ZW50LnBhZ2VZIC0gd2luZG93LnNjcm9sbFkgLSBfaH1weGAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnBsb3QuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAneCBheGlzJywgaWQ6ICdheGlzLS14JywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0fSlgLFxuICAgICAgfSlcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMudGlja3ModGhpcy5tZWFuX3ZhcmlhYmxlMSA+PSAxMDAwMCA/IDUgOiAxMCkpO1xuXG4gICAgdGhpcy5wbG90LmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3kgYXhpcycsIGlkOiAnYXhpcy0teScsIG9wYWNpdHk6IDAuOSB9KVxuICAgICAgLmNhbGwodGhpcy55QXhpcyk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSB0b29sdGlwIGRpc3BsYXllZCBvbiBtb3VzZW92ZXI6XG4gICAgdGhpcy50b29sdGlwID0gcHJlcGFyZVRvb2x0aXAyKGQzLnNlbGVjdChzdmdfYmFyLm5vZGUoKS5wYXJlbnRFbGVtZW50KSwgbnVsbCk7XG5cbiAgICB0aGlzLnByZXBhcmVUaXRsZUF4aXMoKTtcblxuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiBtYXJnaW4ubGVmdCArIHdpZHRoIC8gMiAtIDIwIC0gc3ZnX2NvbnRhaW5lci5zZWxlY3QoJyN0aXRsZS1heGlzLXgnKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLyAyLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgaGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAvIDIgKyA1LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICd4bGluazpocmVmJzogJ2ltZy9yZXZlcnNlX3BsdXMucG5nJyxcbiAgICAgICAgaWQ6ICdpbWdfcmV2ZXJzZV94JyxcbiAgICAgICAgdGl0bGU6ICdJbnZlcnNlciBsXFwnb3JkcmUgZGUgY2xhc3NlbWVudCBkZSBsXFwnaW5kaWNhdGV1cicsXG4gICAgICB9KVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNlbGYueEludmVyc2VkKSB7XG4gICAgICAgICAgc2VsZi54SW52ZXJzZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZDMubmFtZXNwYWNlcy54bGluaywgJ3hsaW5rOmhyZWYnLCAnaW1nL3JldmVyc2VfbW9pbnMucG5nJyk7XG4gICAgICAgICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJyN0aXRsZS1heGlzLXgnKVxuICAgICAgICAgICAgLmF0dHIoJ3RpdGxlLXRvb2x0aXAnLCBgJHtzZWxmLnByZXR0eV9uYW1lMX0gKGF4ZSBpbnZlcnPDqSlgKVxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgJ3JlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYueEludmVyc2VkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhkMy5uYW1lc3BhY2VzLnhsaW5rLCAneGxpbms6aHJlZicsICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycpO1xuICAgICAgICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14JylcbiAgICAgICAgICAgIC5hdHRyKCd0aXRsZS10b29sdGlwJywgYCR7c2VsZi5wcmV0dHlfbmFtZTF9KWApXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICBzZWxmLm1hcF9lbGVtLmNhbGxCcnVzaChzZWxmLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBzdmdfY29udGFpbmVyLmFwcGVuZCgnaW1hZ2UnKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAzIC0gMjAsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNSxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIGlkOiAnaW1nX3JldmVyc2VfeScsXG4gICAgICAgIHRpdGxlOiAnSW52ZXJzZXIgbFxcJ29yZHJlIGRlIGNsYXNzZW1lbnQgZGUgbFxcJ2luZGljYXRldXInLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZSgnY3Vyc29yJywgJ3BvaW50ZXInKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFzZWxmLnlJbnZlcnNlZCkge1xuICAgICAgICAgIHNlbGYueUludmVyc2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGQzLm5hbWVzcGFjZXMueGxpbmssICd4bGluazpocmVmJywgJ2ltZy9yZXZlcnNlX21vaW5zLnBuZycpO1xuICAgICAgICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcjdGl0bGUtYXhpcy15JylcbiAgICAgICAgICAgIC5hdHRyKCd0aXRsZS10b29sdGlwJywgYCR7c2VsZi5wcmV0dHlfbmFtZTJ9IChheGUgaW52ZXJzw6kpYClcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdyZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnlJbnZlcnNlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZDMubmFtZXNwYWNlcy54bGluaywgJ3hsaW5rOmhyZWYnLCAnaW1nL3JldmVyc2VfcGx1cy5wbmcnKTtcbiAgICAgICAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpXG4gICAgICAgICAgICAuYXR0cigndGl0bGUtdG9vbHRpcCcsIGAke3NlbGYucHJldHR5X25hbWUyfWApXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5sYXN0X21hcF9zZWxlY3Rpb24pIHtcbiAgICAgICAgICBzZWxmLm1hcF9lbGVtLmNhbGxCcnVzaChzZWxmLmxhc3RfbWFwX3NlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLmNvbXBsZXR1ZGUgPSBuZXcgQ29tcGxldHVkZVNlY3Rpb24oKTtcbiAgICB0aGlzLmNvbXBsZXR1ZGUudXBkYXRlKFxuICAgICAgY2FsY0NvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSwgJ2FycmF5JyksXG4gICAgICBjYWxjUG9wQ29tcGxldHVkZVN1YnNldChhcHAsIFt0aGlzLnZhcmlhYmxlMSwgdGhpcy52YXJpYWJsZTJdKSk7XG5cbiAgICAvLyAvLyBEZWFjdGl2YXRlIHRoZSByZWN0IGJydXNoIHNlbGVjdGlvbiBvbiB0aGUgbWFwXG4gICAgLy8gLy8gd2hpbGUgdGhlIHVzZXIgcHJlc3MgdGhlIEN0cmwga2V5OlxuICAgIC8vIGRvY3VtZW50Lm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIC8vICAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleSA9PT0gJ0NvbnRyb2wnKSB7XG4gICAgLy8gICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJylcbiAgICAvLyAgICAgICAuc2VsZWN0QWxsKCcuc2VsZWN0aW9uLCAub3ZlcmxheScpXG4gICAgLy8gICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9O1xuICAgIC8vIC8vIFJlYWN0aXZhdGUgdGhlIHJlY3QgYnJ1c2ggc2VsZWN0aW9uIG9uIHRoZSBtYXBcbiAgICAvLyAvLyB3aGVuIHRoZSB1c2VyIGRvZXNuJ3QgcHJlc3MgdGhlIEN0cmwga2V5IGFueW1vcmVcbiAgICAvLyBkb2N1bWVudC5vbmtleXVwID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09PSAnQ29udHJvbCcpIHtcbiAgICAvLyAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKVxuICAgIC8vICAgICAgIC5zZWxlY3RBbGwoJy5zZWxlY3Rpb24sIC5vdmVybGF5JylcbiAgICAvLyAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9O1xuXG4gICAgY29uc3QgbWVudV9zZWxlY3Rpb24gPSBkMy5zZWxlY3QoJyNiYXJfc2VjdGlvbicpXG4gICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgJ21lbnVfc2VsZWN0aW9uJylcbiAgICAgIC5zdHlsZXMoeyBwb3NpdGlvbjogJ3JlbGF0aXZlJywgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyB9KTtcblxuICAgIGNvbnN0IGNoYXJ0X3R5cGUgPSBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ3AnKTtcblxuICAgIGNoYXJ0X3R5cGUuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnaW5kX3Jhd192YWx1ZXMnLFxuICAgICAgICBjbGFzczogJ2Nob2ljZV9pbmQgYWN0aXZlIG5vc2VsZWN0JyxcbiAgICAgIH0pXG4gICAgICAudGV4dCgnVmFsZXVycyBicnV0ZXMnKTtcblxuICAgIGNoYXJ0X3R5cGUuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAnaW5kX3JhbmtzJyxcbiAgICAgICAgY2xhc3M6ICdjaG9pY2VfaW5kIG5vc2VsZWN0JyxcbiAgICAgIH0pXG4gICAgICAudGV4dCgnUmFuZ3Mgbm9ybWFsaXPDqXMnKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpXG4gICAgICAuYXR0cignaWQnLCAnc2VsZWN0aW9uX3N1YnRpdGxlJylcbiAgICAgIC5zdHlsZXMoeyBtYXJnaW46ICcxMHB4IDBweCAycHggMHB4JyB9KVxuICAgICAgLmh0bWwoJ1N1ciBsZXMgZGV1eCBpbmRpY2F0ZXVycywgc8OpbGVjdGlvbiBkZXMgcsOpZ2lvbnMgYXlhbnQgZGVzIHZhbGV1cnMuLi4nKTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdjb250X2J0bicpXG4gICAgICAuYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2Fib3ZlX21lYW4nIH0pXG4gICAgICAudGV4dCgnaW5mw6lyaWV1cmVzIMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWVudV9zZWxlY3Rpb24uc2VsZWN0QWxsKCdidXR0b24nKS5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3ByZXNzZWQnKTtcbiAgICAgICAgc2VsZi5zZWxlY3RCZWxvd01lYW4oKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRfYnRuJylcbiAgICAgIC5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYWJvdmVfbXlfcmVnaW9uJyB9KVxuICAgICAgLnRleHQoJ2luZsOpcmlldXJzIMOgIG1hIHLDqWdpb24nKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWVudV9zZWxlY3Rpb24uc2VsZWN0QWxsKCdidXR0b24nKS5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3ByZXNzZWQnKTtcbiAgICAgICAgc2VsZi5zZWxlY3RCZWxvd015UmVnaW9uKCk7XG4gICAgICB9KTtcblxuICAgIG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdjb250X2J0bicpXG4gICAgICAuYXBwZW5kKCdidXR0b24nKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdidXR0b25fYmx1ZScsIGlkOiAnYnRuX2JlbG93X21lYW4nIH0pXG4gICAgICAudGV4dCgnc3Vww6lyaWV1cmVzIMOgIGxhIG1veWVubmUnKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWVudV9zZWxlY3Rpb24uc2VsZWN0QWxsKCdidXR0b24nKS5hdHRyKCdjbGFzcycsICdidXR0b25fYmx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3ByZXNzZWQnKTtcbiAgICAgICAgc2VsZi5zZWxlY3RBYm92ZU1lYW4oKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudV9zZWxlY3Rpb24uYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRfYnRuJylcbiAgICAgIC5hcHBlbmQoJ2J1dHRvbicpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ2J1dHRvbl9ibHVlJywgaWQ6ICdidG5fYmVsb3dfbXlfcmVnaW9uJyB9KVxuICAgICAgLnRleHQoJ3N1cMOpcmlldXJlcyDDoCBtYSByw6lnaW9uJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lbnVfc2VsZWN0aW9uLnNlbGVjdEFsbCgnYnV0dG9uJykuYXR0cignY2xhc3MnLCAnYnV0dG9uX2JsdWUnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdwcmVzc2VkJyk7XG4gICAgICAgIHNlbGYuc2VsZWN0QWJvdmVNeVJlZ2lvbigpO1xuICAgICAgfSk7XG5cblxuICAgIHRoaXMuYmluZE1lbnUoKTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdW5kZXJseWluZyBncmV5IGdyaWRcbiAgICovXG4gIG1ha2VHcmlkKCkge1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGNsYXNzOiAnZ3JpZCBncmlkLXgnLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWAsXG4gICAgICB9KVxuICAgICAgLmNhbGwodGhpcy54QXhpczJcbiAgICAgICAgLnRpY2tzKHRoaXMubWVhbl92YXJpYWJsZTEgPj0gMTAwMDAgPyA1IDogMTApXG4gICAgICAgIC50aWNrU2l6ZSgtaGVpZ2h0KVxuICAgICAgICAudGlja0Zvcm1hdCgnJykpO1xuICAgIHRoaXMucGxvdC5pbnNlcnQoJ2cnLCAnI3NjYXR0ZXJwbG90JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdncmlkIGdyaWQteScpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzMlxuICAgICAgICAudGlja1NpemUoLXdpZHRoKVxuICAgICAgICAudGlja0Zvcm1hdCgnJykpO1xuICB9XG5cblxuICAvKipcbiAgKiBVcGRhdGUgYm90aCBheGlzIGFuZCBncmlkLlxuICAqL1xuICB1cGRhdGVBeGlzR3JpZCgpIHtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcuZ3JpZC14JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzMlxuICAgICAgICAudGlja3ModGhpcy5tZWFuX3ZhcmlhYmxlMSA+PSAxMDAwMCA/IDUgOiAxMClcbiAgICAgICAgLnRpY2tTaXplKC1oZWlnaHQpXG4gICAgICAgIC50aWNrRm9ybWF0KCcnKSk7XG4gICAgdGhpcy5wbG90LnNlbGVjdCgnLmdyaWQteScpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy55QXhpczJcbiAgICAgICAgLnRpY2tTaXplKC13aWR0aClcbiAgICAgICAgLnRpY2tGb3JtYXQoJycpKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0KCcjYXhpcy0teCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgLmNhbGwodGhpcy54QXhpc1xuICAgICAgICAudGlja3ModGhpcy5tZWFuX3ZhcmlhYmxlMSA+PSAxMDAwMCA/IDUgOiAxMCkpO1xuICAgIHRoaXMucGxvdC5zZWxlY3QoJyNheGlzLS15JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuY2FsbCh0aGlzLnlBeGlzKTtcbiAgICB0aGlzLnBsb3Quc2VsZWN0QWxsKCcuZ3JpZCcpXG4gICAgICAuc2VsZWN0QWxsKCdsaW5lJylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnbGlnaHRncmF5Jyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB0aXRsZSBvZiB0aGUgWCBhbmQgWSBheGlzIHdpdGggdGhlIGFzc29jaWF0ZWQgY29udGV4dCBtZW51XG4gICAqIGRpc3BsYXllZCB3aGVuIHRoZXkgYXJlIGNsaWNrZWQgYW5kIGFsbG93aW5nIHRvIHNlbGVjdCBhbiBvdGhlciB2YXJpYWJsZVxuICAgKiBmb3IgdGhpcyBheGlzLlxuICAgKi9cbiAgcHJlcGFyZVRpdGxlQXhpcygpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1lbnVYID0gbmV3IENvbnRleHRNZW51KCk7XG4gICAgdGhpcy5tZW51WSA9IG5ldyBDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuaXRlbXNYID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUyKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoZWxlbSksXG4gICAgICB9KSk7XG4gICAgdGhpcy5pdGVtc1kgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTEpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShlbGVtKSxcbiAgICAgIH0pKTtcblxuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy14JyxcbiAgICAgICAgY2xhc3M6ICd0aXRsZS1heGlzIG5vc2VsZWN0JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgKyB3aWR0aCAvIDIsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyBoZWlnaHQgKyBtYXJnaW4uYm90dG9tIC8gMiArIDE1LFxuICAgICAgICAndGl0bGUtdG9vbHRpcCc6IHRoaXMucHJldHR5X25hbWUxLFxuICAgICAgfSlcbiAgICAgIC5odG1sKGAke3RoaXMudmFyaWFibGUxfSAgJiN4MjVCRTtgKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVZLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVkuaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVYLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWCwgW2Jib3gubGVmdCAtIDIwLCBiYm94LnRvcCArIDIwXSk7XG4gICAgICB9KTtcblxuICAgIHN2Z19jb250YWluZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiAndGl0bGUtYXhpcy15JyxcbiAgICAgICAgY2xhc3M6ICd0aXRsZS1heGlzIG5vc2VsZWN0JyxcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAzLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgKGhlaWdodCAvIDIpIC0gMTAsXG4gICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgtOTAsICR7bWFyZ2luLmxlZnQgLyAzfSwgJHttYXJnaW4udG9wICsgKGhlaWdodCAvIDIpfSlgLFxuICAgICAgICAndGl0bGUtdG9vbHRpcCc6IHRoaXMucHJldHR5X25hbWUyLFxuICAgICAgfSlcbiAgICAgIC5odG1sKGAke3RoaXMudmFyaWFibGUyfSAgJiN4MjVCRTtgKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChzZWxmLm1lbnVYLmRpc3BsYXllZCkge1xuICAgICAgICAgIHNlbGYubWVudVguaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1lbnVZLnNob3dNZW51KGQzLmV2ZW50LCBkb2N1bWVudC5ib2R5LCBzZWxmLml0ZW1zWSwgW2Jib3gubGVmdCwgYmJveC5ib3R0b20gKyAxMF0pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBSZWNvbG9yIHRoZSBkb3RzIHdpdGhvdXQgY2FsbGluZyB0aGUgYHVwZGF0ZWAgbWV0aG9kLlxuICAqL1xuICB1cGRhdGVMaWdodCgpIHtcbiAgICBjb25zdCBkZWZhdWx0X2NvbG9yID0gJ2dyYXknO1xuICAgIHRoaXMuc2NhdHRlci5zZWxlY3RBbGwoJy5kb3QnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdIHx8IGRlZmF1bHRfY29sb3IsXG4gICAgICAgIHN0cm9rZTogYXBwLmNvbG9yc1tkLmlkXSA/ICdyZ2IoOTcsIDk3LCA5NyknIDogJ3JnYigyMDYsIDIwNiwgMjA2KScsXG4gICAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgKiBSZWRyYXcgdGhlIHNjYXR0ZXJwbG90LlxuICAqL1xuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IHNlbGYuZGF0YTtcbiAgICBjb25zdCBkb3RzID0gdGhpcy5zY2F0dGVyLnNlbGVjdEFsbCgnLmRvdCcpXG4gICAgICAuZGF0YShkYXRhLCBkID0+IGQuaWQpO1xuICAgIGNvbnN0IF90cmFucyA9IGRvdHMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCk7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ3JhbmsnKSB7XG4gICAgICBjb25zdCByYW5rX3ZhcmlhYmxlMSA9IHRoaXMucmFua192YXJpYWJsZTE7XG4gICAgICBjb25zdCByYW5rX3ZhcmlhYmxlMiA9IHRoaXMucmFua192YXJpYWJsZTI7XG4gICAgICBjb25zdCByYW5nZV94ID0gdGhpcy54SW52ZXJzZWQgPyBbMTAxLCAtMV0gOiBbLTEsIDEwMV07XG4gICAgICBjb25zdCByYW5nZV95ID0gdGhpcy55SW52ZXJzZWQgPyBbMTAxLCAtMV0gOiBbLTEsIDEwMV07XG5cbiAgICAgIHRoaXMueC5kb21haW4ocmFuZ2VfeCk7XG4gICAgICB0aGlzLnkuZG9tYWluKHJhbmdlX3kpO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMSA9IDUwO1xuICAgICAgdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IDUwO1xuXG4gICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgIGNvbnN0IGRlZmF1bHRfY29sb3IgPSAnZ3JheSc7XG5cbiAgICAgIGRvdHNcbiAgICAgICAgLnRyYW5zaXRpb24oX3RyYW5zKVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFtyYW5rX3ZhcmlhYmxlMV0pLFxuICAgICAgICAgIGN5OiB5KGRbcmFua192YXJpYWJsZTJdKSxcbiAgICAgICAgfSkpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgICBzdHJva2U6IGFwcC5jb2xvcnNbZC5pZF0gPyAncmdiKDk3LCA5NywgOTcpJyA6ICdyZ2IoMjA2LCAyMDYsIDIwNiknLFxuICAgICAgICB9KSlcbiAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgc2VsZi5iaW5kVG9vbHRpcHModHJ1ZSk7XG4gICAgICAgICAgZG90cy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgICAgZG90cy5vcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgZG90cy5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgICBzdHJva2U6IGFwcC5jb2xvcnNbZC5pZF0gPyAncmdiKDk3LCA5NywgOTcpJyA6ICdyZ2IoMjA2LCAyMDYsIDIwNiknLFxuICAgICAgICB9KSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbcmFua192YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3JhbmtfdmFyaWFibGUyXSksXG4gICAgICAgICAgY2xhc3M6ICdkb3QnLFxuICAgICAgICB9KSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd2YWx1ZScpIHtcbiAgICAgIGNvbnN0IHZhcmlhYmxlMSA9IHRoaXMudmFyaWFibGUxO1xuICAgICAgY29uc3QgdmFyaWFibGUyID0gdGhpcy52YXJpYWJsZTI7XG4gICAgICBjb25zdCBzZXJpZV94ID0gZGF0YS5tYXAoZCA9PiBkW3ZhcmlhYmxlMV0pO1xuICAgICAgY29uc3Qgc2VyaWVfeSA9IGRhdGEubWFwKGQgPT4gZFt2YXJpYWJsZTJdKTtcblxuICAgICAgY29uc3QgcmFuZ2VfeCA9IHRoaXMueEludmVyc2VkXG4gICAgICAgID8gZDMuZXh0ZW50KHNlcmllX3gpLnJldmVyc2UoKVxuICAgICAgICA6IGQzLmV4dGVudChzZXJpZV94KTtcbiAgICAgIGNvbnN0IHJhbmdlX3kgPSB0aGlzLnlJbnZlcnNlZFxuICAgICAgICA/IGQzLmV4dGVudChzZXJpZV95KS5yZXZlcnNlKClcbiAgICAgICAgOiBkMy5leHRlbnQoc2VyaWVfeSk7XG5cbiAgICAgIHRoaXMueC5kb21haW4ocmFuZ2VfeCkubmljZSgpO1xuICAgICAgdGhpcy55LmRvbWFpbihyYW5nZV95KS5uaWNlKCk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gZ2V0TWVhbihzZXJpZV94KTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBnZXRNZWFuKHNlcmllX3kpO1xuXG4gICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgIGNvbnN0IGRlZmF1bHRfY29sb3IgPSAnZ3JheSc7XG5cbiAgICAgIGRvdHNcbiAgICAgICAgLnRyYW5zaXRpb24oX3RyYW5zKVxuICAgICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICAgIHI6IDUsXG4gICAgICAgICAgY3g6IHgoZFt2YXJpYWJsZTFdKSxcbiAgICAgICAgICBjeTogeShkW3ZhcmlhYmxlMl0pLFxuICAgICAgICB9KSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSB8fCBkZWZhdWx0X2NvbG9yLFxuICAgICAgICAgIHN0cm9rZTogYXBwLmNvbG9yc1tkLmlkXSA/ICdyZ2IoOTcsIDk3LCA5NyknIDogJ3JnYigyMDYsIDIwNiwgMjA2KScsXG4gICAgICAgIH0pKVxuICAgICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBzZWxmLmJpbmRUb29sdGlwcyhmYWxzZSk7XG4gICAgICAgICAgZG90cy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgICAgZG90cy5vcmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgZG90cy5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0gfHwgZGVmYXVsdF9jb2xvcixcbiAgICAgICAgICBzdHJva2U6IGFwcC5jb2xvcnNbZC5pZF0gPyAncmdiKDk3LCA5NywgOTcpJyA6ICdyZ2IoMjA2LCAyMDYsIDIwNiknLFxuICAgICAgICB9KSlcbiAgICAgICAgLmF0dHJzKGQgPT4gKHtcbiAgICAgICAgICByOiA1LFxuICAgICAgICAgIGN4OiB4KGRbdmFyaWFibGUxXSksXG4gICAgICAgICAgY3k6IHkoZFt2YXJpYWJsZTJdKSxcbiAgICAgICAgICBjbGFzczogJ2RvdCcsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2VsZi5iaW5kVG9vbHRpcHMoZmFsc2UpO1xuICAgIGRvdHMuZXhpdCgpLnJlbW92ZSgpO1xuICAgIGRvdHMub3JkZXIoKTtcbiAgICB0aGlzLnVwZGF0ZU1lYW5NZWRpYW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlQXhpc0dyaWQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFVwZGF0ZSB0aGUgY29tcGxldG5lc3MgdmFsdWUgKGRpc3BsYXllZCBvbiB0aGUgdG9wIG9mIHRoZSBtYXApLFxuICAqIGNvbXB1dGVkIGZvciB0aGUgY3VycmVudCBzdHVkeSBhcmVhIGFuZCB0aGUgdHdvIGRpc3BsYXllZCB2YXJpYWJsZXMuXG4gICovXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgW3RoaXMudmFyaWFibGUxLCB0aGlzLnZhcmlhYmxlMl0sICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCBbdGhpcy52YXJpYWJsZTEsIHRoaXMudmFyaWFibGUyXSkpO1xuICB9XG5cbiAgLyoqXG4gICogVXBkYXRlIHRoZSBtYXAgbGlua2VkIHRvIHRoaXMgY2hhcnQgdG8gc3luYyB0aGUgY29sb3JzIGluIHVzZS5cbiAgKi9cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGQuaWQpID4gLTFcbiAgICAgICAgPyAoYXBwLmNvbG9yc1tkLmlkXSB8fCBjb2xvcl9jb3VudHJpZXMpXG4gICAgICAgIDogY29sb3JfZGlzYWJsZWQpKTtcbiAgfVxuXG4gIC8qKlxuICAqIEhhbmRsZSBhIGJydXNoIGV2ZW50IG9uIHRoZSBtYXAgYW5kIHJlY29sb3IgdGhlIGFwcHJvcHJpYXRlIGZlYXR1cmVzXG4gICogb24gdGhlIHNjYXR0ZXJwbG90LlxuICAqL1xuICBoYW5kbGVfYnJ1c2hfbWFwKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCB8fCAhZXZlbnQuc2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLmxhc3RfbWFwX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tYXBfZWxlbS50b29sdGlwLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoLm1vdmUsIG51bGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IFt0b3BsZWZ0LCBib3R0b21yaWdodF0gPSBldmVudC5zZWxlY3Rpb247XG4gICAgdGhpcy5sYXN0X21hcF9zZWxlY3Rpb24gPSBbdG9wbGVmdCwgYm90dG9tcmlnaHRdO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh0b3BsZWZ0LCBib3R0b21yaWdodCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIHNlbGYubWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZC5pZDtcbiAgICAgICAgaWYgKGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSB7XG4gICAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3B0cykge1xuICAgICAgICAgIHRoaXMuX3B0cyA9IHN2Z1BhdGhUb0Nvb3Jkcyh0aGlzLmdldEF0dHJpYnV0ZSgnZCcpLCBhcHAudHlwZV9wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdHMgPSB0aGlzLl9wdHM7XG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgbmJfcHRzID0gcHRzLmxlbmd0aDsgaXggPCBuYl9wdHM7IGl4KyspIHtcbiAgICAgICAgICBpZiAocmVjdC5jb250YWlucyhwdHNbaXhdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3NlbGYudmFyaWFibGUxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1tzZWxmLnZhcmlhYmxlMl07XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgICAgICAgc2VsZi5yZWZfdmFsdWUxLCBzZWxmLnJlZl92YWx1ZTIsXG4gICAgICAgICAgICAgIHNlbGYueEludmVyc2VkLCBzZWxmLnlJbnZlcnNlZCk7XG4gICAgICAgICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgfSk7XG4gICAgc2VsZi51cGRhdGVMaWdodCgpO1xuICB9XG5cbiAgLyoqXG4gICogQmluZHMgdGhlIHRvb2x0aXAgb24gdGhlIG5ldy91cGRhdGVkIGRvdHMuXG4gICovXG4gIGJpbmRUb29sdGlwcyh3aXRoX3JhbmspIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnNjYXR0ZXIuc2VsZWN0QWxsKCcuZG90JylcbiAgICAgIC5vbignbW91c2VvdmVyLnRvb2x0aXAnLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgdCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0KCcudGl0bGUnKS5hdHRyKCdjbGFzcycsICd0aXRsZScpLmh0bWwoJycpO1xuICAgICAgICB9LCAyNTApO1xuICAgICAgICAvLyBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIC8vIHNlbGYudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlbW92ZS50b29sdGlwJywgKGQpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcudGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyAndGl0bGUgbXlSZWdpb24nIDogJ3RpdGxlJylcbiAgICAgICAgICAuaHRtbChbZC5uYW1lLCAnICgnLCBkLmlkLCAnKSddLmpvaW4oJycpKTtcbiAgICAgICAgbGV0IHlvZmZzZXQ7XG4gICAgICAgIGlmICh3aXRoX3JhbmspIHtcbiAgICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcuY29udGVudCcpXG4gICAgICAgICAgICAuaHRtbChbXG4gICAgICAgICAgICAgIGAke3NlbGYudmFyaWFibGUxfSAocmFuZykgOiAke2Zvcm1hdE51bWJlcihkW3NlbGYucmFua192YXJpYWJsZTFdLCAxKX0vMTAwYCxcbiAgICAgICAgICAgICAgYCR7c2VsZi52YXJpYWJsZTF9ICh2YWxldXIpIDogJHtmb3JtYXROdW1iZXIoZFtzZWxmLnZhcmlhYmxlMV0sIDEpfSAke3NlbGYudW5pdDF9YCxcbiAgICAgICAgICAgICAgYCR7c2VsZi52YXJpYWJsZTJ9IChyYW5nKSA6ICR7Zm9ybWF0TnVtYmVyKGRbc2VsZi5yYW5rX3ZhcmlhYmxlMl0sIDEpfS8xMDBgLFxuICAgICAgICAgICAgICBgJHtzZWxmLnZhcmlhYmxlMn0gKHZhbGV1cikgOiAke2Zvcm1hdE51bWJlcihkW3NlbGYudmFyaWFibGUyXSwgMSl9ICR7c2VsZi51bml0Mn1gLFxuICAgICAgICAgICAgXS5qb2luKCc8YnI+JykpO1xuICAgICAgICAgIHlvZmZzZXQgPSAxMjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi50b29sdGlwLnNlbGVjdCgnLmNvbnRlbnQnKVxuICAgICAgICAgICAgLmh0bWwoW1xuICAgICAgICAgICAgICBgJHtzZWxmLnZhcmlhYmxlMX0gKHZhbGV1cikgOiAke2Zvcm1hdE51bWJlcihkW3NlbGYudmFyaWFibGUxXSwgMSl9ICR7c2VsZi51bml0MX1gLFxuICAgICAgICAgICAgICBgJHtzZWxmLnZhcmlhYmxlMn0gKHZhbGV1cikgOiAke2Zvcm1hdE51bWJlcihkW3NlbGYudmFyaWFibGUyXSwgMSl9ICR7c2VsZi51bml0Mn1gLFxuICAgICAgICAgICAgXS5qb2luKCc8YnI+JykpO1xuICAgICAgICAgIHlvZmZzZXQgPSA4NTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zdCBiID0gc2VsZi50b29sdGlwLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgc2VsZi50b29sdGlwXG4gICAgICAgICAgLnN0eWxlcyh7XG4gICAgICAgICAgICBkaXNwbGF5OiBudWxsLFxuICAgICAgICAgICAgbGVmdDogYCR7ZDMuZXZlbnQucGFnZVggLSB3aW5kb3cuc2Nyb2xsWCAtIDV9cHhgLFxuICAgICAgICAgICAgdG9wOiBgJHtkMy5ldmVudC5wYWdlWSAtIHdpbmRvdy5zY3JvbGxZIC0geW9mZnNldH1weGAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dC50b29sdGlwJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnNlbGVjdCgnLnRpdGxlJykuYXR0cignY2xhc3MnLCAndGl0bGUnKS5odG1sKCcnKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogSGFuZGxlIGEgY2xpY2sgb24gdGhlIG1hcCwgdXNlZCBmb3Igc2VsZWN0aW5nIGZlYXR1cmVzLlxuICAqL1xuICBoYW5kbGVDbGlja01hcChkLCBwYXJlbnQpIHtcbiAgICBjb25zdCBpZCA9IGQuaWQ7XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUxID0gZC5wcm9wZXJ0aWVzW3RoaXMudmFyaWFibGUxXTtcbiAgICAgIGNvbnN0IHZhbHVlMiA9IGQucHJvcGVydGllc1t0aGlzLnZhcmlhYmxlMl07XG4gICAgICBjb25zdCBjb2xvciA9IGNvbXAyKFxuICAgICAgICB2YWx1ZTEsIHZhbHVlMixcbiAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgIHRoaXMueEludmVyc2VkLCB0aGlzLnlJbnZlcnNlZCk7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IGNvbG9yO1xuICAgICAgLy8gQ2hhbmdlIHRoZSBjb2xvciBvbiB0aGUgbWFwOlxuICAgICAgZDMuc2VsZWN0KHBhcmVudCkuYXR0cignZmlsbCcsIGNvbG9yKTtcbiAgICAgIC8vIEFkZCB0aGUgY2xpY2tlZCBmZWF0dXJlIG9uIHRoZSBjb2xvcmVkIHNlbGVjdGlvbiBvbiB0aGUgY2hhcnQ6XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTGlnaHQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFVwZGF0ZSB0aGUgbGluZSBjcmVhdGVkIGZvciB0aGUgbWVhbiBvciBtZWRpYW4gdmFsdWUgKGFmdGVyIGNoYW5naW5nIHRoZSB2YXJpYWJsZXMgaW4gdXNlcl9kYXRhXG4gICogb3IgYWZ0ZXIgY2hhbmdpbmcgdGhlIGtpbmQgb2YgY2hhcnQgYmV0d2VlbiAncmFuaycgYW5kICdyYXcgdmFsdWVzJykuXG4gICovXG4gIHVwZGF0ZU1lYW5NZWRpYW5WYWx1ZSgpIHtcbiAgICBpZiAodGhpcy50eXBlID09PSAndmFsdWUnKSB7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICAgIHRoaXMubWVhbl92YXJpYWJsZTIgPSBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUyXSkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAncmFuaycpIHtcbiAgICAgIC8vIHRoaXMubWVhbl92YXJpYWJsZTEgPSBfZ2V0UFIoXG4gICAgICAvLyAgIGdldE1lYW4odGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTFdKSksIHRoaXMuZGF0YS5tYXAoZCA9PiBkW3RoaXMudmFyaWFibGUxXSkpO1xuICAgICAgLy8gdGhpcy5tZWFuX3ZhcmlhYmxlMiA9IF9nZXRQUihcbiAgICAgIC8vICAgZ2V0TWVhbih0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pKSwgdGhpcy5kYXRhLm1hcChkID0+IGRbdGhpcy52YXJpYWJsZTJdKSk7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUxID0gNTA7XG4gICAgICB0aGlzLm1lYW5fdmFyaWFibGUyID0gNTA7XG4gICAgfVxuICAgIGNvbnN0IGdycF9tZWFuID0gdGhpcy5wbG90LnNlbGVjdCgnZy5tZWFuJyk7XG4gICAgZ3JwX21lYW4uc2VsZWN0QWxsKCcjbWVhbl94Lm1lYW5fbGluZSwgI21lYW5feC50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4MTogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgICB4MjogdGhpcy54KHRoaXMubWVhbl92YXJpYWJsZTEpLFxuICAgICAgfSk7XG4gICAgZ3JwX21lYW4uc2VsZWN0QWxsKCcjbWVhbl95Lm1lYW5fbGluZSwgI21lYW5feS50cmFuc3BfbWVhbl9saW5lJylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB5MTogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgICB5MjogdGhpcy55KHRoaXMubWVhbl92YXJpYWJsZTIpLFxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBBY3Rpb24gdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlIHRoZSByZWZlcmVuY2UgcmVnaW9uIChcIk1hIHLDqWdpb25cIikuXG4gICovXG4gIHVwZGF0ZUNoYW5nZVJlZ2lvbigpIHtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5zcGxpY2UoXG4gICAgICAgIHRoaXMuZGF0YS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSwgMSlbMF07XG4gICAgICB0aGlzLmRhdGEucHVzaCh0bXBfbXlfcmVnaW9uKTtcbiAgICAgIHRoaXMucmVmX3ZhbHVlMSA9IHRtcF9teV9yZWdpb25bdGhpcy52YXJpYWJsZTFdO1xuICAgICAgdGhpcy5yZWZfdmFsdWUyID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMl07XG4gICAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICAgIHRoaXMubWFwX2VsZW0ucmVzZXRDb2xvcnModGhpcy5jdXJyZW50X2lkcyk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICAvLyBGZXRjaCB0aGUgbmV3IGRhdGEgc3Vic2V0IGZvciB0aGlzIHN0dWR5IHpvbmUgYW5kIHRoZXNlcyB2YXJpYWJsZXM6XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQsIG5hbWU6IGQubmFtZSB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XG4gICAgLy8gUHV0IFwibXkgcmVnaW9uXCIgYXQgdGhlIGVuZCBvZiB0aGUgc2VyaWUgc28gaXQgd2lsbCBiZSBkaXNwbGF5ZWQgb25cbiAgICAvLyB0aGUgdG9wIG9mIHRoZSBjaGFydDpcbiAgICBjb25zdCB0bXBfbXlfcmVnaW9uID0gdGhpcy5kYXRhLnNwbGljZShcbiAgICAgIHRoaXMuZGF0YS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSwgMSlbMF07XG4gICAgdGhpcy5kYXRhLnB1c2godG1wX215X3JlZ2lvbik7XG5cbiAgICB0aGlzLmN1cnJlbnRfaWRzID0gdGhpcy5kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHJlc2V0Q29sb3JzKCk7XG4gICAgdGhpcy5uYkZ0ID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMSwgdGhpcy5yYW5rX3ZhcmlhYmxlMSk7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTIsIHRoaXMucmFua192YXJpYWJsZTIpO1xuXG4gICAgLy8gUmVzZXQgdGhlIGF4aXMgb3JpZW50YXRpb246XG4gICAgdGhpcy54SW52ZXJzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnlJbnZlcnNlZCA9IGZhbHNlO1xuXG4gICAgLy8gU3RvcmUgdGhlIHZhbHVlIG9mIG15IHJlZ2lvbiBmb3IgdGhlIHR3byBzZWxlY3RlZCB2YXJpYWJsZXM6XG4gICAgdGhpcy5yZWZfdmFsdWUxID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMV07XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMl07XG5cbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGNoYW5nZVZhcmlhYmxlWChjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy52YXJpYWJsZTEgPSBjb2RlX3ZhcmlhYmxlO1xuICAgIHRoaXMucmFua192YXJpYWJsZTEgPSBgcHJfJHt0aGlzLnZhcmlhYmxlMX1gO1xuICAgIGNvbnN0IHZhcl9pbmZvID0gdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5pZCA9PT0gY29kZV92YXJpYWJsZSk7XG4gICAgdGhpcy5wcmV0dHlfbmFtZTEgPSB2YXJfaW5mby5uYW1lO1xuICAgIHRoaXMudW5pdDEgPSB2YXJfaW5mby51bml0O1xuICAgIC8vIFVwZGF0ZSB0aGUgbmFtZSBvZiB0aGUgYXhpcyBhbmQgdGhlIHRvb2x0aXAgdmFsdWU6XG4gICAgY29uc3QgdGl0bGVfYXhpcyA9IHN2Z19jb250YWluZXIuc2VsZWN0KCcjdGl0bGUtYXhpcy14JylcbiAgICAgIC5hdHRyKCd0aXRsZS10b29sdGlwJywgdGhpcy5wcmV0dHlfbmFtZTEpXG4gICAgICAuaHRtbChgJHtjb2RlX3ZhcmlhYmxlfSAmI3gyNUJFO2ApO1xuICAgIC8vIFVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHJldmVyc2UgYnV0dG9uOlxuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcjaW1nX3JldmVyc2VfeCcpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICB4OiB0aXRsZV9heGlzLmF0dHIoJ3gnKSAtIHRpdGxlX2F4aXMubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gMiAtIDIwLFxuICAgICAgICB5OiBtYXJnaW4udG9wICsgaGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAvIDIgKyA1LFxuICAgICAgfSk7XG4gICAgLy8gVXBkYXRlIHRoZSBpdGVtcyBkaXNwbGF5ZWQgaW4gdGhlIGNvbnRleHQgbWVudSB1bmRlciB0aGlzIGF4aXMgbGFiZWw6XG4gICAgdGhpcy51cGRhdGVJdGVtc0N0eE1lbnUoKTtcbiAgICAvLyBGaWx0ZXIgdGhlIGRhdGEgdG8gb25seSBrZWVwIGRhdGEgaW4gd2hpY2ggd2UgYXJlIGludGVyZXN0ZWQ6XG4gICAgdGhpcy5kYXRhID0gYXBwLmN1cnJlbnRfZGF0YS5maWx0ZXIoZnQgPT4gISFmdFt0aGlzLnZhcmlhYmxlMV0gJiYgISFmdFt0aGlzLnZhcmlhYmxlMl0pXG4gICAgICAubWFwKChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHsgaWQ6IGQuaWQsIG5hbWU6IGQubmFtZSB9O1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTFdID0gZFt0aGlzLnZhcmlhYmxlMV07XG4gICAgICAgIHJlc1t0aGlzLnZhcmlhYmxlMl0gPSBkW3RoaXMudmFyaWFibGUyXTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICAgIC8vIEFwcGVuZCBteSByZWdpb24gYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXk6XG4gICAgY29uc3QgdG1wX215X3JlZ2lvbiA9IHRoaXMuZGF0YS5zcGxpY2UoXG4gICAgICB0aGlzLmRhdGEuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiksIDEpWzBdO1xuICAgIHRoaXMuZGF0YS5wdXNoKHRtcF9teV9yZWdpb24pO1xuXG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICByZXNldENvbG9ycygpO1xuICAgIHRoaXMubmJGdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMuZGF0YSwgdGhpcy52YXJpYWJsZTEsIHRoaXMucmFua192YXJpYWJsZTEpO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUyLCB0aGlzLnJhbmtfdmFyaWFibGUyKTtcbiAgICB0aGlzLnJlZl92YWx1ZTEgPSB0bXBfbXlfcmVnaW9uW3RoaXMudmFyaWFibGUxXTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgY2hhbmdlVmFyaWFibGVZKGNvZGVfdmFyaWFibGUpIHtcbiAgICB0aGlzLnZhcmlhYmxlMiA9IGNvZGVfdmFyaWFibGU7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlMiA9IGBwcl8ke3RoaXMudmFyaWFibGUyfWA7XG4gICAgY29uc3QgdmFyX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LmlkID09PSBjb2RlX3ZhcmlhYmxlKTtcbiAgICB0aGlzLnByZXR0eV9uYW1lMiA9IHZhcl9pbmZvLm5hbWU7XG4gICAgdGhpcy51bml0MiA9IHZhcl9pbmZvLnVuaXQ7XG4gICAgLy8gVXBkYXRlIHRoZSBuYW1lIG9mIHRoZSBheGlzIGFuZCB0aGUgdG9vbHRpcCB2YWx1ZTpcbiAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpXG4gICAgICAuYXR0cigndGl0bGUtdG9vbHRpcCcsIHRoaXMucHJldHR5X25hbWUyKVxuICAgICAgLmh0bWwoYCR7Y29kZV92YXJpYWJsZX0gJiN4MjVCRTtgKTtcbiAgICAvLyBVcGRhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSByZXZlcnNlIGJ1dHRvbjpcbiAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnI2ltZ19yZXZlcnNlX3knKVxuICAgICAgLmF0dHJzKHtcbiAgICAgICAgeDogbWFyZ2luLmxlZnQgLyAzIC0gMjAsXG4gICAgICAgIHk6IG1hcmdpbi50b3AgKyAoaGVpZ2h0IC8gMikgKyBzdmdfY29udGFpbmVyLnNlbGVjdCgnI3RpdGxlLWF4aXMteScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyICsgNSxcbiAgICAgIH0pO1xuICAgIC8vIFVwZGF0ZSB0aGUgaXRlbXMgZGlzcGxheWVkIGluIHRoZSBjb250ZXh0IG1lbnUgdW5kZXIgdGhpcyBheGlzIGxhYmVsOlxuICAgIHRoaXMudXBkYXRlSXRlbXNDdHhNZW51KCk7XG4gICAgLy8gRmlsdGVyIHRoZSBkYXRhIHRvIG9ubHkga2VlcCBkYXRhIGluIHdoaWNoIHdlIGFyZSBpbnRlcmVzdGVkOlxuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKGZ0ID0+ICEhZnRbdGhpcy52YXJpYWJsZTFdICYmICEhZnRbdGhpcy52YXJpYWJsZTJdKVxuICAgICAgLm1hcCgoZCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB7IGlkOiBkLmlkLCBuYW1lOiBkLm5hbWUgfTtcbiAgICAgICAgcmVzW3RoaXMudmFyaWFibGUxXSA9IGRbdGhpcy52YXJpYWJsZTFdO1xuICAgICAgICByZXNbdGhpcy52YXJpYWJsZTJdID0gZFt0aGlzLnZhcmlhYmxlMl07XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9KTtcbiAgICAvLyBBcHBlbmQgbXkgcmVnaW9uIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5OlxuICAgIGNvbnN0IHRtcF9teV9yZWdpb24gPSB0aGlzLmRhdGEuc3BsaWNlKFxuICAgICAgdGhpcy5kYXRhLmZpbmRJbmRleChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pLCAxKVswXTtcbiAgICB0aGlzLmRhdGEucHVzaCh0bXBfbXlfcmVnaW9uKTtcblxuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5pZCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLm5iRnQgPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIGNvbXB1dGVQZXJjZW50aWxlUmFuayh0aGlzLmRhdGEsIHRoaXMudmFyaWFibGUxLCB0aGlzLnJhbmtfdmFyaWFibGUxKTtcbiAgICBjb21wdXRlUGVyY2VudGlsZVJhbmsodGhpcy5kYXRhLCB0aGlzLnZhcmlhYmxlMiwgdGhpcy5yYW5rX3ZhcmlhYmxlMik7XG4gICAgdGhpcy5yZWZfdmFsdWUyID0gdG1wX215X3JlZ2lvblt0aGlzLnZhcmlhYmxlMl07XG4gICAgdGhpcy51cGRhdGVDb21wbGV0dWRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHVwZGF0ZUl0ZW1zQ3R4TWVudSgpIHtcbiAgICAvLyBVc2UgYWxsIHRoZSB2YXJpYWJsZXMgc2VsZWN0ZWQgaW4gdGhlIGxlZnQgbWVudSB0byBmaWxsIHRoZSB0d28gY29udGV4dCBtZW51OlxuICAgIHRoaXMuaXRlbXNYID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmZpbHRlcihlbGVtID0+IGVsZW0gIT09IHRoaXMudmFyaWFibGUyKVxuICAgICAgLm1hcChlbGVtID0+ICh7XG4gICAgICAgIG5hbWU6IGVsZW0sXG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoZWxlbSksXG4gICAgICB9KSk7XG4gICAgdGhpcy5pdGVtc1kgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8uZmlsdGVyKGVsZW0gPT4gZWxlbSAhPT0gdGhpcy52YXJpYWJsZTEpXG4gICAgICAubWFwKGVsZW0gPT4gKHtcbiAgICAgICAgbmFtZTogZWxlbSxcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShlbGVtKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBXaGVuIHRoZSB1c2VyIHNlbGVjdCBhIG5ldyB2YXJpYWJsZSBvbiB0aGUgbGVmdCBtZW51LCB0aGUgdmFyaWFibGUgbmFtZSBpcyBhZGRlZFxuICAgIC8vIGluIHRoZSBjb250ZXh0IG1lbnUgb2YgWCBhbmQgWSBheGlzIGJ1dCB0aGUgcGxvdCBzdGF5IHRoZSBzYW1lOlxuICAgIHRoaXMuaXRlbXNYLnB1c2goe1xuICAgICAgbmFtZTogY29kZV92YXJpYWJsZSxcbiAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jaGFuZ2VWYXJpYWJsZVgoY29kZV92YXJpYWJsZSksXG4gICAgfSk7XG4gICAgdGhpcy5pdGVtc1kucHVzaCh7XG4gICAgICBuYW1lOiBjb2RlX3ZhcmlhYmxlLFxuICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNoYW5nZVZhcmlhYmxlWShjb2RlX3ZhcmlhYmxlKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZVZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICAvLyBSZW1vdmUgdGhlIHZhcmlhYmxlIGZyb20gdGhlIFggYW5kIFkgbGlzdCBvZiBpdGVtczpcbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtc1gubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zWFtpXS5uYW1lID09PSBjb2RlX3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuaXRlbXNYLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLml0ZW1zWS5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNZW2ldLm5hbWUgPT09IGNvZGVfdmFyaWFibGUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1kuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdmFyaWFibGUgdG8gcmVtb3ZlIHdhcyBjdXJyZW50bHkgdXNlZCBmb3IgZHJhd2luZyB0aGlzIGNoYXJ0LFxuICAgIC8vIHNldCBhIG5ldyB2YXJpYWJsZSBmb3IgdGhpcyBheGlzIGFuZCByZWRyYXcgdGhlIGNoYXJ0OlxuICAgIGlmIChjb2RlX3ZhcmlhYmxlID09PSB0aGlzLnZhcmlhYmxlMSkge1xuICAgICAgY29uc3QgbmV3X3Zhcl94ID0gdGhpcy5pdGVtc1guZmlsdGVyKGZ0ID0+IGZ0Lm5hbWUgIT09IHRoaXMudmFyaWFibGUyKVswXS5uYW1lO1xuICAgICAgdGhpcy5jaGFuZ2VWYXJpYWJsZVgobmV3X3Zhcl94KTtcbiAgICB9IGVsc2UgaWYgKGNvZGVfdmFyaWFibGUgPT09IHRoaXMudmFyaWFibGUyKSB7XG4gICAgICBjb25zdCBuZXdfdmFyX3kgPSB0aGlzLml0ZW1zWS5maWx0ZXIoZnQgPT4gZnQubmFtZSAhPT0gdGhpcy52YXJpYWJsZTEpWzBdLm5hbWU7XG4gICAgICB0aGlzLmNoYW5nZVZhcmlhYmxlWShuZXdfdmFyX3kpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLnJlbW92ZSgpO1xuICAgIHRoaXMubWFwX2VsZW0udW5iaW5kQnJ1c2hDbGljaygpO1xuICAgIHRoaXMubWFwX2VsZW0gPSBudWxsO1xuICAgIHN2Z19iYXIudGV4dCgnJykuaHRtbCgnJyk7XG4gIH1cblxuICBiaW5kTWFwKG1hcF9lbGVtKSB7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG1hcF9lbGVtO1xuICAgIHRoaXMubWFwX2VsZW0uZGlzcGxheUxlZ2VuZCgxKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGJpbmRNZW51KCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG1lbnUgPSBkMy5zZWxlY3QoJyNtZW51X3NlbGVjdGlvbicpO1xuXG4gICAgbWVudS5zZWxlY3QoJyNpbmRfcmF3X3ZhbHVlcycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHlwZSA9ICd2YWx1ZSc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjaW5kX3JhbmtzJykuYXR0cignY2xhc3MnLCAnY2hvaWNlX2luZCBub3NlbGVjdCcpO1xuICAgICAgICBtZW51LnNlbGVjdCgnI2J0bl9hYm92ZV9tZWFuJykudGV4dCgnaW5mw6lyaWV1cmVzIMOgIGxhIG1veWVubmUnKTtcbiAgICAgICAgbWVudS5zZWxlY3QoJyNidG5fYmVsb3dfbWVhbicpLnRleHQoJ3N1cMOpcmlldXJlcyDDoCBsYSBtb3llbm5lJyk7XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICB9KTtcblxuICAgIG1lbnUuc2VsZWN0KCcjaW5kX3JhbmtzJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi50eXBlID0gJ3JhbmsnO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBtZW51LnNlbGVjdCgnI2luZF9yYXdfdmFsdWVzJykuYXR0cignY2xhc3MnLCAnY2hvaWNlX2luZCBub3NlbGVjdCcpO1xuICAgICAgICBtZW51LnNlbGVjdCgnI2J0bl9hYm92ZV9tZWFuJykudGV4dCgnaW5mw6lyaWV1cmVzIMOgIGxhIG3DqWRpYW5lJyk7XG4gICAgICAgIG1lbnUuc2VsZWN0KCcjYnRuX2JlbG93X21lYW4nKS50ZXh0KCdzdXDDqXJpZXVyZXMgw6AgbGEgbcOpZGlhbmUnKTtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2VsZWN0QmVsb3dNZWFuKCkge1xuICAgIGNvbnN0IG1lYW4xID0gdGhpcy50eXBlID09PSAncmFuaycgPyA1MCA6IGdldE1lYW4odGhpcy5kYXRhLm1hcChmdCA9PiBmdFt0aGlzLnZhcmlhYmxlMV0pKTtcbiAgICBjb25zdCBtZWFuMiA9IHRoaXMudHlwZSA9PT0gJ3JhbmsnID8gNTAgOiBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZnQgPT4gZnRbdGhpcy52YXJpYWJsZTJdKSk7XG4gICAgY29uc3QgdjEgPSB0aGlzLnR5cGUgPT09ICdyYW5rJyA/IHRoaXMucmFua192YXJpYWJsZTEgOiB0aGlzLnZhcmlhYmxlMTtcbiAgICBjb25zdCB2MiA9IHRoaXMudHlwZSA9PT0gJ3JhbmsnID8gdGhpcy5yYW5rX3ZhcmlhYmxlMiA6IHRoaXMudmFyaWFibGUyO1xuXG4gICAgc3ZnX2NvbnRhaW5lci5zZWxlY3QoJy5icnVzaCcpLmNhbGwodGhpcy5icnVzaC5tb3ZlLCBudWxsKTtcbiAgICBhcHAuY29sb3JzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gdGhpcy5kYXRhLmxlbmd0aDsgaSA8IGxlbl9pOyBpKyspIHtcbiAgICAgIGNvbnN0IGZ0ID0gdGhpcy5kYXRhW2ldO1xuICAgICAgaWYgKGZ0W3YxXSA8IG1lYW4xICYmIGZ0W3YyXSA8IG1lYW4yKSB7XG4gICAgICAgIGFwcC5jb2xvcnNbZnQuaWRdID0gY29tcDIoXG4gICAgICAgICAgZnRbdjFdLCBmdFt2Ml0sXG4gICAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZUxpZ2h0KCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gIH1cblxuICBzZWxlY3RCZWxvd015UmVnaW9uKCkge1xuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2gnKS5jYWxsKHRoaXMuYnJ1c2gubW92ZSwgbnVsbCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRoaXMuZGF0YS5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBjb25zdCBmdCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgIGlmIChmdFt0aGlzLnZhcmlhYmxlMV0gPD0gdGhpcy5yZWZfdmFsdWUxICYmIGZ0W3RoaXMudmFyaWFibGUyXSA8PSB0aGlzLnJlZl92YWx1ZTIpIHtcbiAgICAgICAgYXBwLmNvbG9yc1tmdC5pZF0gPSBjb21wMihcbiAgICAgICAgICBmdFt0aGlzLnZhcmlhYmxlMV0sIGZ0W3RoaXMudmFyaWFibGUyXSxcbiAgICAgICAgICB0aGlzLnJlZl92YWx1ZTEsIHRoaXMucmVmX3ZhbHVlMixcbiAgICAgICAgICB0aGlzLnhJbnZlcnNlZCwgdGhpcy55SW52ZXJzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIHRoaXMudXBkYXRlTGlnaHQoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy5tYXBfZWxlbS5yZW1vdmVSZWN0QnJ1c2goKTtcbiAgfVxuXG4gIHNlbGVjdEFib3ZlTWVhbigpIHtcbiAgICBjb25zdCBtZWFuMSA9IHRoaXMudHlwZSA9PT0gJ3JhbmsnID8gNTAgOiBnZXRNZWFuKHRoaXMuZGF0YS5tYXAoZnQgPT4gZnRbdGhpcy52YXJpYWJsZTFdKSk7XG4gICAgY29uc3QgbWVhbjIgPSB0aGlzLnR5cGUgPT09ICdyYW5rJyA/IDUwIDogZ2V0TWVhbih0aGlzLmRhdGEubWFwKGZ0ID0+IGZ0W3RoaXMudmFyaWFibGUyXSkpO1xuICAgIGNvbnN0IHYxID0gdGhpcy50eXBlID09PSAncmFuaycgPyB0aGlzLnJhbmtfdmFyaWFibGUxIDogdGhpcy52YXJpYWJsZTE7XG4gICAgY29uc3QgdjIgPSB0aGlzLnR5cGUgPT09ICdyYW5rJyA/IHRoaXMucmFua192YXJpYWJsZTIgOiB0aGlzLnZhcmlhYmxlMjtcblxuICAgIHN2Z19jb250YWluZXIuc2VsZWN0KCcuYnJ1c2gnKS5jYWxsKHRoaXMuYnJ1c2gubW92ZSwgbnVsbCk7XG4gICAgYXBwLmNvbG9ycyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5faSA9IHRoaXMuZGF0YS5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICBjb25zdCBmdCA9IHRoaXMuZGF0YVtpXTtcbiAgICAgIGlmIChmdFt2MV0gPiBtZWFuMSAmJiBmdFt2Ml0gPiBtZWFuMikge1xuICAgICAgICBhcHAuY29sb3JzW2Z0LmlkXSA9IGNvbXAyKFxuICAgICAgICAgIGZ0W3YxXSwgZnRbdjJdLFxuICAgICAgICAgIHRoaXMucmVmX3ZhbHVlMSwgdGhpcy5yZWZfdmFsdWUyLFxuICAgICAgICAgIHRoaXMueEludmVyc2VkLCB0aGlzLnlJbnZlcnNlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgdGhpcy51cGRhdGVMaWdodCgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICB9XG5cbiAgc2VsZWN0QWJvdmVNeVJlZ2lvbigpIHtcbiAgICBzdmdfY29udGFpbmVyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoLm1vdmUsIG51bGwpO1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSB0aGlzLmRhdGEubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAgICAgY29uc3QgZnQgPSB0aGlzLmRhdGFbaV07XG4gICAgICBpZiAoZnRbdGhpcy52YXJpYWJsZTFdID49IHRoaXMucmVmX3ZhbHVlMSAmJiBmdFt0aGlzLnZhcmlhYmxlMl0gPj0gdGhpcy5yZWZfdmFsdWUyKSB7XG4gICAgICAgIGFwcC5jb2xvcnNbZnQuaWRdID0gY29tcDIoXG4gICAgICAgICAgZnRbdGhpcy52YXJpYWJsZTFdLCBmdFt0aGlzLnZhcmlhYmxlMl0sXG4gICAgICAgICAgdGhpcy5yZWZfdmFsdWUxLCB0aGlzLnJlZl92YWx1ZTIsXG4gICAgICAgICAgdGhpcy54SW52ZXJzZWQsIHRoaXMueUludmVyc2VkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcbiAgICB0aGlzLnVwZGF0ZUxpZ2h0KCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMubWFwX2VsZW0ucmVtb3ZlUmVjdEJydXNoKCk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IHZhbHVlczEgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMV0pO1xuICAgIGNvbnN0IHZhbHVlczIgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt0aGlzLnZhcmlhYmxlMl0pO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gW1xuICAgICAge1xuICAgICAgICBNaW46IGQzLm1pbih2YWx1ZXMxKSxcbiAgICAgICAgTWF4OiBkMy5tYXgodmFsdWVzMSksXG4gICAgICAgIE1veTogZ2V0TWVhbih2YWx1ZXMxKSxcbiAgICAgICAgTWVkOiBkMy5tZWRpYW4odmFsdWVzMSksXG4gICAgICAgIGlkOiB0aGlzLnZhcmlhYmxlMSxcbiAgICAgICAgVmFyaWFibGU6IHRoaXMudmFyaWFibGUxLFxuICAgICAgICAnTWEgcsOpZ2lvbic6IHRoaXMucmVmX3ZhbHVlMSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIE1pbjogZDMubWluKHZhbHVlczIpLFxuICAgICAgICBNYXg6IGQzLm1heCh2YWx1ZXMyKSxcbiAgICAgICAgTW95OiBnZXRNZWFuKHZhbHVlczIpLFxuICAgICAgICBNZWQ6IGQzLm1lZGlhbih2YWx1ZXMyKSxcbiAgICAgICAgaWQ6IHRoaXMudmFyaWFibGUyLFxuICAgICAgICBWYXJpYWJsZTogdGhpcy52YXJpYWJsZTIsXG4gICAgICAgICdNYSByw6lnaW9uJzogdGhpcy5yZWZfdmFsdWUyLFxuICAgICAgfV07XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgdXBkYXRlVGFibGVTdGF0KCkge1xuICAgIHRoaXMudGFibGVfc3RhdHMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5hZGRGZWF0dXJlcyh0aGlzLnByZXBhcmVUYWJsZVN0YXQoKSk7XG4gIH1cblxuICBtYWtlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5wcmVwYXJlVGFibGVTdGF0KCk7XG4gICAgdGhpcy50YWJsZV9zdGF0cyA9IG5ldyBUYWJsZVJlc3VtZVN0YXQoZmVhdHVyZXMpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgZ2V0SGVscE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGBcbjxoMz5Qb3NpdGlvbiAgLSAyIGluZGljYXRldXJzPC9oMz5cblxuPGI+QWlkZSBnw6luw6lyYWxlPC9iPlxuQ2UgZ3JhcGhpcXVlIGJpZGltZW5zaW9ubmVsIHJlcHLDqXNlbnRlIGxhIHBvc2l0aW9uIGRlIGzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlIHN1ciBkZXV4IGluZGljYXRldXJzIHBvdXIgdW4gZXNwYWNlIGTigJnDqXR1ZGUgZXQgdW4gbWFpbGxhZ2UgdGVycml0b3JpYWwgZOKAmWFuYWx5c2UgZG9ubsOpLiBMYSB2YWxldXIgZGUgbOKAmXVuaXTDqSB0ZXJyaXRvcmlhbGUgZGUgcsOpZsOpcmVuY2UgYXBwYXJhw650IGVuIHN1cmJyaWxsYW5jZSAoamF1bmUpLiBMZXMgbGlnbmVzIHJlcHLDqXNlbnTDqWVzIHBhciB1biB0aXJldMOpIHJvdWdlIHJlcHLDqXNlbnRlbnQgbGEgbW95ZW5uZSBkZSBs4oCZZXNwYWNlIGTigJnDqXR1ZGUgcG91ciBjaGFjdW4gZGVzIGluZGljYXRldXJzIHPDqWxlY3Rpb25uw6lzIChub24gcG9uZMOpcsOpZSkuXG5cblN1ciBsZSBncmFwaGlxdWUgZXQgbGEgY2FydGUsIGxlcyB1bml0w6lzIHRlcnJpdG9yaWFsZXMgcXVpIGRpc3Bvc2VudCBkZSB2YWxldXJzIHN1cMOpcmlldXJlcyDDoCBsYSB1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlIHBvdXIgbGVzIGRldXggaW5kaWNhdGV1cnMgc29udCByZXByw6lzZW50w6llcyBlbiB2ZXJ0LiBMZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzIGNhcmFjdMOpcmlzw6llcyBwYXIgZGVzIHZhbGV1cnMgaW5mw6lyaWV1cmVzIMOgIGzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlIHBvdXIgbGVzIGRldXggaW5kaWNhdGV1cnMgc29udCByZXByw6lzZW50w6llcyBlbiByb3VnZS4gQ2VsbGVzIHF1aSBzb250IHN1cMOpcmlldXJlcyBwb3VyIGzigJlpbmRpY2F0ZXVyIHJlcHLDqXNlbnTDqSBzdXIgbOKAmWF4ZSBkZXMgYWJzY2lzc2VzIGV0IGluZsOpcmlldXIgc3VyIGzigJlheGUgZGVzIG9yZG9ubsOpZXMgc29udCByZXByw6lzZW50w6llcyBlbiBvcmFuZ2UgOyBldCB2aW9sZXQgw6AgbOKAmWludmVyc2UuIFN1ciBjZSBncmFwaGlxdWUsIGlsIGVzdCBwb3NzaWJsZSBk4oCZaW52ZXJzZXIgbOKAmW9yZHJlIGRlIGNsYXNzZW1lbnQgZGUgbOKAmWluZGljYXRldXIgKGFwcHV5ZXIgc3VyIGxlIMKrICsgwrspIDogbGVzIHZhbGV1cnMgbWluaW1hbGVzIHNlcm9udCBhbG9ycyBjb25zaWTDqXLDqWVzIGNvbW1lIG1heGltYWxlIHN1ciBs4oCZYXhlLlxuXG5QYXIgZMOpZmF1dCwgY2UgZ3JhcGhpcXVlIGVzdCBleHByaW3DqSBkYW5zIGxlcyB2YWxldXJzIGJydXRlcyBkZSBs4oCZaW5kaWNhdGV1ciAocG91cmNlbnRhZ2UgcGFyIGV4ZW1wbGUpLiBFbiBzw6lsZWN0aW9ubmFudCBs4oCZb3B0aW9uIMKrdmFsZXVycyBkZSByYW5nIMK7LCBs4oCZaW5kaWNhdGV1ciBlc3Qgbm9ybWFsaXPDqSBkZSAwICh2YWxldXIgbWluaW1hbGUpIMOgIDEwMCAodmFsZXVyIG1heGltYWxlKS4gTOKAmXV0aWxpc2F0aW9uIHBvc3NpYmxlIGRlIGNlIHR5cGUgZGUgdHJhbnNmb3JtYXRpb24gZXN0IGxhIHN1aXZhbnRlIDogdW5lIHVuaXTDqSB0ZXJyaXRvcmlhbGUgZGlzcG9zYW50IGTigJl1biBpbmRpY2UgZGUgNjcgc3VyIHVuIGluZGljYXRldXIgc2lnbmlmaWUgcXVlIDMzICUgZGVzIHVuaXTDqXMgdGVycml0b3JpYWxlcyBkZSBs4oCZZXNwYWNlIGTigJnDqXR1ZGUgc29udCBjYXJhY3TDqXJpc8OpZXMgcGFyIGRlcyB2YWxldXJzIHN1cMOpcmlldXJlcyDDoCBs4oCZdW5pdMOpIHRlcnJpdG9yaWFsZSBkZSByw6lmw6lyZW5jZSBwb3VyIGxlcyBpbmRpY2F0ZXVycyBzw6lsZWN0aW9ubsOpcy4gRXQgcsOpY2lwcm9xdWVtZW50LiBMZXMgdmFsZXVycyBkZSByYW5nIHBlcm1ldHRlbnQgbm90YW1tZW50IGRlIHJlbmRyZSBjb21wYXJhYmxlcyBkZXMgdW5pdMOpcyBkZSBtZXN1cmUgZXQgZGVzIHBhcmFtw6h0cmVzIGRlIGRpc3BlcnNpb24gZGUgZGV1eCBpbmRpY2F0ZXVycy4gSWwgbmUgZmF1dCBuw6lhbm1vaW5zIHBhcyBvbWV0dHJlIHF1ZSBjZXR0ZSB0cmFuc2Zvcm1hdGlvbiBudWl0IMOgIGxhIHJlc3RpdHV0aW9uIGRlIGxhIGRpc3BlcnNpb24gc3RhdGlzdGlxdWUgZWZmZWN0aXZlIGRlcyBpbmRpY2F0ZXVycy5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVIZWxwKCkge1xuICAgIC8vIGNvbnN0IFtteV9yZWdpb24sIG15X3JhbmtdID0gdGhpcy5kYXRhLm1hcCgoZCwgaSkgPT4gW2QuaWQsIGldKVxuICAgIC8vICAgLmZpbmQoZCA9PiBkWzBdID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICBjb25zdCBuYl9mdCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgY29uc3QgdjEgPSB0aGlzLnZhcmlhYmxlMTtcbiAgICBjb25zdCB2MiA9IHRoaXMudmFyaWFibGUyO1xuICAgIGNvbnN0IGluZm9fdmFyMSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IHYxKTtcbiAgICBjb25zdCBpbmZvX3ZhcjIgPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LmlkID09PSB2Mik7XG4gICAgLy8gY29uc3QgdmFsdWVzMSA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3YxXSkuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgIC8vIGNvbnN0IHZhbHVlczIgPSB0aGlzLmRhdGEubWFwKGQgPT4gZFt2Ml0pLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICBjb25zdCBteV9yYW5rMSA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3YxXSkuc29ydCgoYSwgYikgPT4gYSAtIGIpLmluZGV4T2YodGhpcy5yZWZfdmFsdWUxKTtcbiAgICBjb25zdCBteV9yYW5rMiA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkW3YyXSkuc29ydCgoYSwgYikgPT4gYSAtIGIpLmluZGV4T2YodGhpcy5yZWZfdmFsdWUyKTtcbiAgICBsZXQgc3VwX2JvdGggPSAwO1xuICAgIGxldCBpbmZfYm90aCA9IDA7XG4gICAgbGV0IGNvbnRyYWQgPSAwO1xuICAgIHRoaXMuZGF0YS5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBpZiAob1t2MV0gPiB0aGlzLnJlZl92YWx1ZTEgJiYgb1t2Ml0gPiB0aGlzLnJlZl92YWx1ZTIpIHtcbiAgICAgICAgc3VwX2JvdGggKz0gMTtcbiAgICAgIH0gZWxzZSBpZiAob1t2MV0gPD0gdGhpcy5yZWZfdmFsdWUxICYmIG9bdjJdIDw9IHRoaXMucmVmX3ZhbHVlMikge1xuICAgICAgICBpbmZfYm90aCArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJhZCArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgIGNvbnN0IG5hbWVfc3R1ZHlfem9uZSA9ICFhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleVxuICAgICAgPyAnVUUyOCcgOiBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgID8gWydSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKS52YWx1ZSwgJ2ttJ10uam9pbignJylcbiAgICAgICAgOiBzdHVkeV96b25lcy5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpLm5hbWU7XG4gICAgY29uc3QgaGVscDEgPSBbYFxuICA8Yj5JbmRpY2F0ZXVyIDE8L2I+IDogJHtpbmZvX3ZhcjEubmFtZX0gKCR7aW5mb192YXIxLmlkfSk8YnI+XG4gIDxiPkluZGljYXRldXIgMjwvYj4gOiAke2luZm9fdmFyMi5uYW1lfSAoJHtpbmZvX3ZhcjIuaWR9KTxicj5cbiAgPGI+TWFpbGxhZ2UgdGVycml0b3JpYWwgZCdhbmFseXNlPC9iPiA6ICR7dGVycml0b3JpYWxfbWVzaC5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLmN1cnJlbnRfbGV2ZWwpLm5hbWV9PGJyPmBdO1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkpIHtcbiAgICAgIGhlbHAxLnB1c2goXG4gICAgICAgIGA8Yj5Fc3BhY2UgZCfDqXR1ZGU8L2I+IDogJHthcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleX08YnI+PGI+Q2F0w6lnb3JpZTwvYj4gOiAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9jYXRlZ29yeX1gKTtcbiAgICB9IGVsc2UgaWYgKGFwcC5jdXJyZW50X2NvbmZpZy5maWx0ZXJfa2V5KSB7XG4gICAgICBoZWxwMS5wdXNoKFxuICAgICAgICBgPGI+RXNwYWNlIGQnw6l0dWRlPC9iPiA6IFVFMjggKFLDqWdpb25zIGRhbnMgdW4gdm9pc2luYWdlIGRlICR7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RfZmlsdGVyJykudmFsdWV9IGttKWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWxwMS5wdXNoKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcXVvdGVzXG4gICAgICAgIGA8Yj5Fc3BhY2UgZCfDqXR1ZGU8L2I+IDogVUUyOGApO1xuICAgIH1cblxuICAgIGNvbnN0IGhlbHAyID0gYEwndW5pdMOpIHRlcnJpdG9yaWFsZSAke2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25fcHJldHR5X25hbWV9IGEgdW5lIHZhbGV1ciBkZSAke2Zvcm1hdE51bWJlcih0aGlzLnJlZl92YWx1ZTEsIDEpfSAke2luZm9fdmFyMS51bml0fSBwb3VyIGzigJlpbmRpY2F0ZXVyIDxiPiR7dGhpcy52YXJpYWJsZTF9PC9iPiByZXByw6lzZW50w6kgc3VyIGzigJlheGUgZGVzIGFic2Npc3Nlc1xuZXQgdW5lIHZhbGV1ciBkZSAke2Zvcm1hdE51bWJlcih0aGlzLnJlZl92YWx1ZTIsIDEpfSAke2luZm9fdmFyMi51bml0fSBwb3VyIGzigJlpbmRpY2F0ZXVyIDxiPiR7dGhpcy52YXJpYWJsZTJ9PC9iPiByZXByw6lzZW50w6kgc3VyIGzigJlheGUgZGVzIG9yZG9ubsOpZXMuXG5DZWxhIHBsYWNlIGNldHRlIHVuaXTDqSB0ZXJyaXRvcmlhbGUgZGUgcsOpZsOpcmVuY2UgYXUgcmFuZyAke215X3JhbmsxfSBkZSBsYSBkaXN0cmlidXRpb24gcG91ciBs4oCZZXNwYWNlIGTigJnDqXR1ZGUgPGI+JHtuYW1lX3N0dWR5X3pvbmV9PC9iPiBwb3VyIGzigJlpbmRpY2F0ZXVyIDxiPiR7dGhpcy5wcmV0dHlfbmFtZTF9PC9iPiA7IGV0IGF1ICR7bXlfcmFuazJ9IHJhbmcgcG91ciBs4oCZaW5kaWNhdGV1ciA8Yj4ke3RoaXMucHJldHR5X25hbWUyfTwvYj4uXG5Qb3VyIGNldCBlc3BhY2UgZOKAmcOpdHVkZSwgJHtzdXBfYm90aCAqIDEwMCAvIG5iX2Z0fSUgZGVzIHVuaXTDqXMgdGVycml0b3JpYWxlcyBzb250IGTDqWZpbmllcyBwYXIgdW5lIHNpdHVhdGlvbiBwbHVzIGZhdm9yYWJsZSBzdXIgbGVzIGRldXggaW5kaWNhdGV1cnMgcG91ciBsYSB1bml0w6kgdGVycml0b3JpYWxlIHPDqWxlY3Rpb25uw6llLCByZXByw6lzZW50w6llcyBlbiB2ZXJ0IHN1ciBsZSBncmFwaGlxdWUgZXQgc3VyIGxhIGNhcnRlLlxuJHtpbmZfYm90aCAqIDEwMCAvIG5iX2Z0fSUgZGVzIHVuaXTDqXMgdGVycml0b3JpYWxlcyBzb250IGNhcmFjdMOpcmlzw6llcyBwYXIgdW5lIHNpdHVhdGlvbiBwbHVzIGTDqWZhdm9yYWJsZXMgcG91ciBsZXMgZGV1eCBpbmRpY2F0ZXVycywgcmVwcsOpc2VudMOpZXMgZW4gcm91Z2Ugc3VyIGxhIGNhcnRlLlxuRW5maW4sIGzigJl1bml0w6kgdGVycml0b3JpYWxlICR7YXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl9wcmV0dHlfbmFtZX0gc2Ugc2l0dWUgZGFucyB1bmUgc2l0dWF0aW9uIGNvbnRyYWRpY3RvaXJlIGF2ZWMgJHtjb250cmFkICogMTAwIC8gbmJfZnR9JSBkZXMgdW5pdMOpIHRlcnJpdG9yaWFsZXMsIHJlcHLDqXNlbnTDqWVzIGVuIHZpb2xldCBldCBvcmFuZ2Ugc3VyIGxhIGNhcnRlIChzaXR1YXRpb24gZmF2b3JhYmxlL2TDqWZhdm9yYWJsZSBwb3VyIHVuIGRlcyBkZXV4IGluZGljYXRldXJzKS5gO1xuXG4gICAgY29uc3Qgc291cmNlID0gYDxiPkluZGljYXRldXIgMTwvYj4gOiAke2luZm9fdmFyMS5zb3VyY2V9IChEYXRlIGRlIHTDqWzDqWNoYXJnZW1lbnQgZGUgbGEgZG9ubsOpZSA6ICR7aW5mb192YXIxLmxhc3RfdXBkYXRlfSk8YnI+XG48Yj5JbmRpY2F0ZXVyIDI8L2I+IDogJHtpbmZvX3ZhcjIuc291cmNlfSAoRGF0ZSBkZSB0w6lsw6ljaGFyZ2VtZW50IGRlIGxhIGRvbm7DqWUgOiAke2luZm9fdmFyMi5sYXN0X3VwZGF0ZX0pYDtcbiAgICByZXR1cm4geyBzZWN0aW9uX3NlbGVjdGlvbjogaGVscDEuam9pbignJyksIHNlY3Rpb25faGVscDogaGVscDIsIHNlY3Rpb25fc291cmNlOiBzb3VyY2UgfTtcbiAgfVxufVxuIiwiaW1wb3J0IGFsZXJ0aWZ5IGZyb20gJ2FsZXJ0aWZ5anMnO1xuaW1wb3J0IHtcbiAgbWF0aF9tYXgsIG1hdGhfbWluLCBtYXRoX3NpbiwgbWF0aF9jb3MsIEhBTEZfUEksIGNvbXB1dGVQZXJjZW50aWxlUmFuayxcbiAgZ2V0TWVhbiwgVG9vbHRpcHNpZnksIHByZXBhcmVUb29sdGlwMiwgZm9ybWF0TnVtYmVyLCBub0NvbnRleHRNZW51IH0gZnJvbSAnLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IGNvbG9yX2Rpc2FibGVkLCBjb2xvcl9jb3VudHJpZXMsIGNvbG9yX2hpZ2hsaWdodCwgZml4ZWRfZGltZW5zaW9uIH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0LCBjYWxjQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IGFwcCwgdmFyaWFibGVzX2luZm8sIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBDb21wbGV0dWRlU2VjdGlvbiBmcm9tICcuLy4uL2NvbXBsZXR1ZGUnO1xuaW1wb3J0IFRhYmxlUmVzdW1lU3RhdCBmcm9tICcuLy4uL3RhYmxlUmVzdW1lU3RhdCc7XG5cblxubGV0IHN2Z19iYXI7XG5sZXQgbWFyZ2luO1xubGV0IHdpZHRoO1xubGV0IGhlaWdodDtcbmxldCB0O1xubGV0IHRtO1xuXG5jb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpLm9uKCdjb250ZXh0bWVudScsIG5vQ29udGV4dE1lbnUpO1xuICBtYXJnaW4gPSB7IHRvcDogNjAsIHJpZ2h0OiA3MCwgYm90dG9tOiA2MCwgbGVmdDogNzAgfTtcbiAgd2lkdGggPSBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgaGVpZ2h0ID0gZml4ZWRfZGltZW5zaW9uLmNoYXJ0LmhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICBjb25zdCB3aWR0aF92YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICogMC45ODtcbiAgZDMuc2VsZWN0KCcuY29udF9zdmcuY2NoYXJ0Jykuc3R5bGUoJ3BhZGRpbmctdG9wJywgYCR7KGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLyBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGgpICogd2lkdGhfdmFsdWV9cHhgKTtcbn07XG5cbi8vIGNvbnN0IG1ha2VUYWJsZVRvb2x0aXAgPSAoZGF0YV9mZWF0dXJlKSA9PiB7XG4vLyAgIGNvbnN0IGRvYyA9IGRvY3VtZW50O1xuLy8gICBjb25zdCBuYl9mZWF0dXJlcyA9IGRhdGFfZmVhdHVyZS5heGVzLmxlbmd0aDtcbi8vICAgY29uc3QgY29sdW1uX25hbWVzID0gWycvJywgJ1JhdGlvJywgJ1JhbmcnLCAnw4ljYXJ0IMOgIG1hIHLDqWdpb24nXTtcbi8vICAgY29uc3QgbmJfY29sdW1ucyA9IGNvbHVtbl9uYW1lcy5sZW5ndGg7XG4vLyAgIC8vIGNvbnN0IGNvbnRhaW5lcl9kaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgIGNvbnN0IG15VGFibGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbi8vICAgY29uc3QgaGVhZGVycyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuLy8gICBjb25zdCB0YWJsZV9ib2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4vLyAgIGNvbnN0IGhlYWRlcnNfcm93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4vLyAgIG15VGFibGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuLy8gICBteVRhYmxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbi8vICAgbXlUYWJsZS5jbGFzc05hbWUgPSAnbWluaXRhYmxlJztcbi8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYl9jb2x1bW5zOyBpKyspIHtcbi8vICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4vLyAgICAgY2VsbC5pbm5lckhUTUwgPSBjb2x1bW5fbmFtZXNbaV07XG4vLyAgICAgaGVhZGVyc19yb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4vLyAgIH1cbi8vICAgaGVhZGVycy5hcHBlbmRDaGlsZChoZWFkZXJzX3Jvdyk7XG4vLyAgIG15VGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XG4vLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfZmVhdHVyZXM7IGkrKykge1xuLy8gICAgIGNvbnN0IHJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpO1xuLy8gICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmJfY29sdW1uczsgaisrKSB7XG4vLyAgICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4vLyAgICAgICBjb25zdCBjb2xfbmFtZSA9IGNvbHVtbl9uYW1lc1tqXTtcbi8vICAgICAgIGlmIChjb2xfbmFtZSA9PT0gJy8nKSB7XG4vLyAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gZGF0YV9mZWF0dXJlLmF4ZXNbaV0uYXhpcztcbi8vICAgICAgIH0gZWxzZSBpZiAoY29sX25hbWUgPT09ICdSYXRpbycpIHtcbi8vICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKGRhdGFfZmVhdHVyZS5heGVzW2ldLnJhd192YWx1ZSAqIDEwKSAvIDEwO1xuLy8gICAgICAgfSBlbHNlIGlmIChjb2xfbmFtZSA9PT0gJ1JhbmcnKSB7XG4vLyAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gTWF0aC5yb3VuZChkYXRhX2ZlYXR1cmUuYXhlc1tpXS52YWx1ZSAqIDEwKSAvIDEwO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSAnJztcbi8vICAgICAgIH1cbi8vICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbi8vICAgICB9XG4vLyAgICAgdGFibGVfYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuLy8gICB9XG4vLyAgIG15VGFibGUuYXBwZW5kQ2hpbGQodGFibGVfYm9keSk7XG4vLyAgIG15VGFibGUuc2V0QXR0cmlidXRlKCdpZCcsICd0YWJsZV90b29sdGlwJyk7XG4vLyAgIC8vIGNvbnRhaW5lcl9kaXYuYXBwZW5kQ2hpbGQobXlUYWJsZSk7XG4vLyAgIHJldHVybiBteVRhYmxlO1xuLy8gfTtcblxuLyoqXG4qIE1vdmUgYW4gZWxlbWVudCBmcm9tIGFuIGFycmF5IHRvIGEgc3BlY2lmaWMgcG9zaXRpb25cbipcbiogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gd29yayBvbi5cbiogQHBhcmFtIHtOdW1iZXJ9IGZyb20gLSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gYmUgbW92ZWQuXG4qIEBwYXJhbSB7TnVtYmVyfSB0byAtIFRoZSB0YXJnZXRlZCBpbmRleCBmb3IgdGhpcyBlbGVtZW50LlxuKiBAcmV0dXJuIHtBcnJheX0gLSBUaGUgaW5wdXQgYXJyYXkgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gbW92ZWQuXG4qXG4qL1xuY29uc3QgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoYXJyYXksIGZyb20sIHRvKSB7XG4gIGFycmF5LnNwbGljZSh0bywgMCwgYXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgcmV0dXJuIGFycmF5O1xufTtcblxuLyoqXG4qIFN3YXAgdHdvIGZlYXR1cmVzIG9mIGFuIGFycmF5LlxuKlxuKiBAcGFyYW0ge0FycmF5fSBhcnJheSAtIFRoZSBhcnJheSB0byB3b3JrIG9uLlxuKiBAcGFyYW0ge051bWJlcn0gaXgxIC0gVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBmZWF0dXJlLlxuKiBAcGFyYW0ge051bWJlcn0gaXgyIC0gVGhlIGluZGV4IG9mIHRoZSBzZWNvbmQgZmVhdHVyZS5cbiogQHJldHVybiB7QXJyYXl9IC0gVGhlIGlucHV0IGFycmF5IGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIHN3YXBlZC5cbipcbiovXG5jb25zdCBzd2FwID0gZnVuY3Rpb24gc3dhcChhcnJheSwgaXgxLCBpeDIpIHtcbiAgW2FycmF5W2l4MV0sIGFycmF5W2l4Ml1dID0gW2FycmF5W2l4Ml0sIGFycmF5W2l4MV1dOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIHJldHVybiBhcnJheTtcbn07XG5cbi8qKlxuKiBQcmVwYXJlIHRoZSBkYXRhIGZvciBcIm15IHJlZ2lvblwiXG4qXG4qIEBwYXJhbSB7QXJyYXl9IGRhdGEgLSBUaGUgd2hvbGUgc3Vic2V0IG9mIHRoZSBkYXRhc2V0IHdlIGFyZSBjdXJyZW50bHkgd29ya2luZyBvbi5cbiogQHBhcmFtIHtBcnJheX0gdmFyaWFibGVzIC0gVGhlIHZhcmlhYmxlcyBjdXJyZW50bHkgc2VsZWN0ZWQuXG4qIEByZXR1cm4ge09iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGF0YSBwcmVwYXJlZCBpbiBvcmRlciB0byBmZWVkIHRoZSByYWRhci5cbipcbiovXG5jb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCA9IChkYXRhLCB2YXJpYWJsZXMpID0+IHtcbiAgLy8gUHJlcGFyZSB0aGUgZGF0YSBmb3IgXCJNeSBSw6lnaW9uXCI6XG4gIGNvbnN0IHZfbXlfcmVnaW9uID0gZGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbik7XG4gIGNvbnN0IG9qYl9teV9yZWdpb24gPSB7XG4gICAgbmFtZTogYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbixcbiAgICBheGVzOiBbXSxcbiAgfTtcbiAgdmFyaWFibGVzLmZvckVhY2goKHYpID0+IHtcbiAgICBjb25zdCB0ZW1wID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQuaWQgPT09IHYpO1xuICAgIGNvbnN0IF92ID0gYHByXyR7dn1gO1xuICAgIG9qYl9teV9yZWdpb24uYXhlcy5wdXNoKHtcbiAgICAgIGF4aXM6IHRlbXAuaWQsIHZhbHVlOiB2X215X3JlZ2lvbltfdl0sIHJhd192YWx1ZTogdl9teV9yZWdpb25bdl0sIHJhd192YWx1ZV91bml0OiB0ZW1wLnVuaXQsXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2piX215X3JlZ2lvbjtcbn07XG5cbi8qKlxuKiBQcmVwYXJlIHRoZSBkYXRhIGZvciBhIHJlZ2lvbi5cbipcbiogQHBhcmFtIHtBcnJheX0gZGF0YSAtIFRoZSB3aG9sZSBzdWJzZXQgb2YgdGhlIGRhdGFzZXQgd2UgYXJlIGN1cnJlbnRseSB3b3JraW5nIG9uLlxuKiBAcGFyYW0ge0FycmF5fSB2YXJpYWJsZXMgLSBUaGUgdmFyaWFibGVzIGN1cnJlbnRseSBzZWxlY3RlZC5cbiogQHBhcmFtIHtTdHJpbmd9IGZ0IC0gVGhlIElEIG9mIHRoZSByZWdpb24gZm9yIHdoaWNoIHdlIGFyZSBwcmVwYXJpbmcgdGhpcyBvYmplY3QuXG4qIEByZXR1cm4ge09iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGF0YSBwcmVwYXJlZCBpbiBvcmRlciB0byBmZWVkIHRoZSByYWRhci5cbipcbiovXG5jb25zdCBwcmVwYXJlX2RhdGFfcmFkYXJfZnQgPSAoZGF0YSwgdmFyaWFibGVzLCBmdCkgPT4ge1xuICBjb25zdCBmdF92YWx1ZXMgPSBkYXRhLmZpbmQoZCA9PiBkLmlkID09PSBmdCk7XG4gIGlmICghZnRfdmFsdWVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgb2JqID0ge1xuICAgIG5hbWU6IGZ0LFxuICAgIGF4ZXM6IFtdLFxuICB9O1xuICB2YXJpYWJsZXMuZm9yRWFjaCgodikgPT4ge1xuICAgIGNvbnN0IHRlbXAgPSB2YXJpYWJsZXNfaW5mby5maW5kKGQgPT4gZC5pZCA9PT0gdik7XG4gICAgY29uc3QgX3YgPSBgcHJfJHt2fWA7XG4gICAgb2JqLmF4ZXMucHVzaCh7XG4gICAgICBheGlzOiB0ZW1wLmlkLCB2YWx1ZTogZnRfdmFsdWVzW192XSwgcmF3X3ZhbHVlOiBmdF92YWx1ZXNbdl0sIHJhd192YWx1ZV91bml0OiB0ZW1wLnVuaXQsXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufTtcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIFJhZGFyIChzcGlkZXIpIGNoYXJ0ICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYWRhckNoYXJ0MyB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBSYWRhciBjaGFydCBvbiB0aGUgYHN2Z19iYXJgIHN2ZyBlbGVtZW50IHByZXZpb3VzbHkgZGVmaW5lZFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN1YnNldCBvZiB0aGUgZGF0YXNldCB0byBiZSB1c2VkXG4gICAqIHRvIGNyZWF0ZSB0aGUgcmFkYXIgKHNob3VsZCBjb250YWluIGF0IGxlYXN0IHRocmVlIGZpZWxkcyBmbGFnZ2VkIGFzIHJhdGlvXG4gICAqIGluIHRoZSBgYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvYCBPYmplY3QpLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgcmVnYXJkaW5nIHRoZSBzdHlsZSBvZiB0aGUgcmFkYXIgdG8gYmUgZHJhdy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMpIHtcbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgY29uc3QgY2ZnID0ge1xuICAgICAgdzogd2lkdGggLSAyMCwgLy8gV2lkdGggb2YgdGhlIGNpcmNsZVxuICAgICAgaDogaGVpZ2h0IC0gMjAsIC8vIEhlaWdodCBvZiB0aGUgY2lyY2xlXG4gICAgICBtYXJnaW46IG1hcmdpbiwgLy8gVGhlIG1hcmdpbnMgb2YgdGhlIFNWR1xuICAgICAgbGV2ZWxzOiAxMCwgLy8gSG93IG1hbnkgbGV2ZWxzIG9yIGlubmVyIGNpcmNsZXMgc2hvdWxkIHRoZXJlIGJlIGRyYXduXG4gICAgICBtYXhWYWx1ZTogMTAwLCAvLyBXaGF0IGlzIHRoZSB2YWx1ZSB0aGF0IHRoZSBiaWdnZXN0IGNpcmNsZSB3aWxsIHJlcHJlc2VudFxuICAgICAgLy8gSG93IG11Y2ggZmFydGhlciB0aGFuIHRoZSByYWRpdXMgb2YgdGhlIG91dGVyIGNpcmNsZSBzaG91bGQgdGhlIGxhYmVscyBiZSBwbGFjZWQ6XG4gICAgICBsYWJlbEZhY3RvcjogMS4yLFxuICAgICAgd3JhcFdpZHRoOiA3NSwgLy8gVGhlIG51bWJlciBvZiBwaXhlbHMgYWZ0ZXIgd2hpY2ggYSBsYWJlbCBuZWVkcyB0byBiZSBnaXZlbiBhIG5ldyBsaW5lXG4gICAgICBvcGFjaXR5QXJlYTogMC4xMCwgLy8gVGhlIG9wYWNpdHkgb2YgdGhlIGFyZWEgb2YgdGhlIGJsb2JcbiAgICAgIGRvdFJhZGl1czogNCwgLy8gVGhlIHNpemUgb2YgdGhlIGNvbG9yZWQgY2lyY2xlcyBvZiBlYWNoIGJsb2dcbiAgICAgIG9wYWNpdHlDaXJjbGVzOiAwLjEsIC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBjaXJjbGVzIG9mIGVhY2ggYmxvYlxuICAgICAgc3Ryb2tlV2lkdGg6IDIsIC8vIFRoZSB3aWR0aCBvZiB0aGUgc3Ryb2tlIGFyb3VuZCBlYWNoIGJsb2JcbiAgICAgIHJvdW5kU3Ryb2tlczogdHJ1ZSwgLy8gSWYgdHJ1ZSB0aGUgYXJlYSBhbmQgc3Ryb2tlIHdpbGwgZm9sbG93IGEgcm91bmQgcGF0aCAoY2FyZGluYWwtY2xvc2VkKVxuICAgICAgY29sb3I6IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKSwgLy8gQ29sb3IgZnVuY3Rpb24sXG4gICAgICBmb3JtYXQ6ICcuMycsIC8vIFRoZSBmb3JtYXQgc3RyaW5nIHRvIGJlIHVzZWQgYnkgZDMuZm9ybWF0XG4gICAgICAvLyBUaGUgdW5pdCB0byBkaXNwbGF5IGFmdGVyIHRoZSBudW1iZXIgb24gdGhlIGF4aXMgYW5kIHBvaW50IHRvb2x0aXBzIChsaWtlICQsIOKCrCwgJSwgZXRjKTpcbiAgICAgIHVuaXQ6ICclJyxcbiAgICAgIGxlZ2VuZDogZmFsc2UsXG4gICAgICBhbGxvd0ludmVyc2VEYXRhOiB0cnVlLFxuICAgIH07XG4gICAgdGhpcy5jZmcgPSBjZmc7XG4gICAgLy8gUHV0IGFsbCBvZiB0aGUgb3B0aW9ucyBpbnRvIGEgdmFyaWFibGUgY2FsbGVkIGNmZ1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IG9wdHNfa2V5ID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuX2kgPSBvcHRzX2tleS5sZW5ndGg7IGkgPCBsZW5faTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGsgPSBvcHRzX2tleVtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNmZ1trXSA9IG9wdGlvbnNba107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pbnZlcnNlZEF4aXMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7Y2ZnLncgLyAyICsgY2ZnLm1hcmdpbi5sZWZ0fSwke2NmZy5oIC8gMiArIGNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIC8vIFByZXBhcmUgdGhlIHRvb2x0aXAgZGlzcGxheWVkIG9uIG1vdXNlb3ZlcjpcbiAgICB0aGlzLnRvb2x0aXAgPSBwcmVwYXJlVG9vbHRpcDIoZDMuc2VsZWN0KHN2Z19iYXIubm9kZSgpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCksIG51bGwpO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShkYXRhKTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcblxuICAgIHRoaXMuY29tcGxldHVkZSA9IG5ldyBDb21wbGV0dWRlU2VjdGlvbigpO1xuICAgIC8vIENvbXB1dGUgdGhlIFwiY29tcGzDqXR1ZGVcIiB2YWx1ZSBmb3IgdGhlc2UgcmF0aW9zOlxuICAgIHRoaXMuY29tcGxldHVkZS51cGRhdGUoXG4gICAgICBjYWxjQ29tcGxldHVkZVN1YnNldChhcHAsIHRoaXMudmFyaWFibGVzLCAnYXJyYXknKSxcbiAgICAgIGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMpKTtcbiAgICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgIGlmIChjZmcuYWxsb3dJbnZlcnNlRGF0YSkge1xuICAgICAgdGhpcy5pbnZlcnNlX2RhdGEgPSAoZmllbGQpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YV9sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheCA9IHRoaXMuZGF0YVtpXS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBheFtqXS52YWx1ZSA9IDEwMCAtIGF4W2pdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gdGhpcy5kYXRhW2ldLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChheFtqXS5heGlzID09PSBmaWVsZCkge1xuICAgICAgICAgICAgICAgIGF4W2pdLnZhbHVlID0gMTAwIC0gYXhbal0udmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMubWFrZVRhYmxlU3RhdCgpO1xuICAgIGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCAndGV4dC1hbGlnbic6ICdsZWZ0JywgJ3BhZGRpbmctbGVmdCc6ICc1ZW0nLCB0b3A6ICctMmVtJyB9KTtcblxuICAgIHRoaXMudXBkYXRlTGVnZW5kKCk7XG4gIH1cblxuICB3cmFwKF90ZXh0LCBfd2lkdGgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBuYl92YXIgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW8ubGVuZ3RoO1xuXG4gICAgY29uc3Qgc3dhcEF4aXMgPSBmdW5jdGlvbiBzd2FwQXhpcygpIHtcbiAgICAgIGNvbnN0IGl4ID0gK3RoaXMucGFyZW50RWxlbWVudC5pZC5zbGljZSgyKTtcbiAgICAgIGlmIChpeCArIDEgPT09IHNlbGYuYWxsQXhpcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzd2FwKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld19peCA9IGl4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtb3ZlKHNlbGYuZGF0YVtpXS5heGVzLCBpeCwgbmV3X2l4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmV2ZXJzZUF4aXMgPSBmdW5jdGlvbiByZXZlcnNlQXhpcyhsYWJlbCkge1xuICAgICAgY29uc3QgaWRfYXhpcyA9IHRoaXMucGFyZW50RWxlbWVudC5pZDtcbiAgICAgIGlmIChzZWxmLmludmVyc2VkQXhpcy5oYXMobGFiZWwpKSB7XG4gICAgICAgIHNlbGYuaW52ZXJzZWRBeGlzLmRlbGV0ZShsYWJlbCk7XG4gICAgICAgIHNlbGYuZy5zZWxlY3QoYGcjJHtpZF9heGlzfWApXG4gICAgICAgICAgLnNlbGVjdCgnLmltZ19yZXZlcnNlJylcbiAgICAgICAgICAuYXR0cigneGxpbms6aHJlZicsICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycpO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbGwgPSAnYmxhY2snO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5pbnZlcnNlZEF4aXMuYWRkKGxhYmVsKTtcbiAgICAgICAgc2VsZi5nLnNlbGVjdChgZyMke2lkX2F4aXN9YClcbiAgICAgICAgICAuc2VsZWN0KCcuaW1nX3JldmVyc2UnKVxuICAgICAgICAgIC5hdHRyKCd4bGluazpocmVmJywgJ2ltZy9yZXZlcnNlX21vaW5zLnBuZycpO1xuICAgICAgICB0aGlzLnN0eWxlLmZpbGwgPSAncmVkJztcbiAgICAgIH1cbiAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbGYuaW52ZXJzZV9kYXRhKGxhYmVsKTtcbiAgICB9O1xuXG4gICAgX3RleHQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgY29uc3Qgd29yZHMgPSB0ZXh0LnRleHQoKS5zcGxpdCgvXFxzKy8pLnJldmVyc2UoKTtcbiAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSAxLjQ7XG4gICAgICBjb25zdCB4ID0gK3RleHQuYXR0cigneCcpO1xuICAgICAgY29uc3QgZHkgPSBwYXJzZUZsb2F0KHRleHQuYXR0cignZHknKSk7XG4gICAgICBjb25zdCBpZCA9ICt0ZXh0LmF0dHIoJ2lkJyk7XG4gICAgICBsZXQgeSA9ICt0ZXh0LmF0dHIoJ3knKTtcbiAgICAgIGxldCBsaW5lID0gW107XG4gICAgICBsZXQgbGluZU51bWJlciA9IDA7XG4gICAgICAvLyBpZiAoeSA+IGhlaWdodCAvIDIgLSAzNSkge1xuICAgICAgLy8gICB5IC09IDQwO1xuICAgICAgLy8gfVxuICAgICAgaWYgKGlkID09PSAwKSB5ICs9IDEyO1xuICAgICAgaWYgKGlkID09PSBuYl92YXIgLyAyKSB5IC09IDEyO1xuICAgICAgbGV0IHRzcGFuID0gdGV4dC50ZXh0KG51bGwpXG4gICAgICAgIC5hcHBlbmQoJ3RzcGFuJylcbiAgICAgICAgLmF0dHIoJ3gnLCB4KVxuICAgICAgICAuYXR0cigneScsIHkpXG4gICAgICAgIC5hdHRyKCdkeScsIGAke2R5fWVtYCk7XG4gICAgICBsZXQgd29yZCA9IHdvcmRzLnBvcCgpO1xuICAgICAgd2hpbGUgKHdvcmQpIHtcbiAgICAgICAgbGluZS5wdXNoKHdvcmQpO1xuICAgICAgICB0c3Bhbi50ZXh0KGxpbmUuam9pbignICcpKTtcbiAgICAgICAgaWYgKHRzcGFuLm5vZGUoKS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA+IF93aWR0aCkge1xuICAgICAgICAgIGxpbmUucG9wKCk7XG4gICAgICAgICAgdHNwYW4udGV4dChsaW5lLmpvaW4oJyAnKSk7XG4gICAgICAgICAgbGluZSA9IFt3b3JkXTtcbiAgICAgICAgICBsaW5lTnVtYmVyICs9IDE7XG4gICAgICAgICAgdHNwYW4gPSB0ZXh0LmFwcGVuZCgndHNwYW4nKVxuICAgICAgICAgICAgLmF0dHJzKHsgeDogJ3gnLCB5OiAneScsIGR5OiBgJHtsaW5lTnVtYmVyICogbGluZUhlaWdodCArIGR5fWVtYCB9KVxuICAgICAgICAgICAgLnRleHQod29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgd29yZCA9IHdvcmRzLnBvcCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN2Z19iYXIuc2VsZWN0QWxsKCcuaW1nX3JldmVyc2UnKVxuICAgICAgLmF0dHJzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndHNwYW4nKTtcbiAgICAgICAgY29uc3QgeCA9ICtlbC5nZXRBdHRyaWJ1dGUoJ3gnKSAtIDIwO1xuICAgICAgICBjb25zdCB5ID0gK2VsLmdldEF0dHJpYnV0ZSgneScpICsgMTU7XG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgc2VsZi5jZmcuYWxsb3dJbnZlcnNlRGF0YSA/IHJldmVyc2VBeGlzIDogbnVsbCk7XG5cbiAgICBzdmdfYmFyLnNlbGVjdEFsbCgnLmltZ19yZXZlcnNlMicpXG4gICAgICAuYXR0cnMoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndHNwYW4nKTtcbiAgICAgICAgY29uc3QgeCA9ICtlbC5nZXRBdHRyaWJ1dGUoJ3gnKTtcbiAgICAgICAgY29uc3QgeSA9ICtlbC5nZXRBdHRyaWJ1dGUoJ3knKSArIDE1O1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBgcm90YXRlKCR7KDM2MCAvIG5iX3ZhcikgKiBpfSwgJHt4ICsgMjUgLyAyfSwgJHt5ICsgMTAgLyAyfSlgO1xuICAgICAgICByZXR1cm4geyB4LCB5LCB0cmFuc2Zvcm0gfTtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgc3dhcEF4aXMpO1xuXG4gICAgc3ZnX2Jhci5zZWxlY3RBbGwoJy5yZWN0bGFiZWwnKVxuICAgICAgLmF0dHJzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigndHNwYW4nKTtcbiAgICAgICAgY29uc3QgYmJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4ID0gK2VsLmdldEF0dHJpYnV0ZSgneCcpIC0gYmJveC53aWR0aCAvIDIgLSAyMDtcbiAgICAgICAgY29uc3QgeSA9ICtlbC5nZXRBdHRyaWJ1dGUoJ3knKSAtIDE1O1xuICAgICAgICBjb25zdCBfaCA9IDYwO1xuICAgICAgICBjb25zdCBfdyA9IGJib3gud2lkdGggKyA0MDtcbiAgICAgICAgcmV0dXJuIHsgeCwgeSwgaGVpZ2h0OiBfaCwgd2lkdGg6IF93IH07XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZF9lbGVtZW50KGVsZW0pIHtcbiAgICAvLyBjb25zdCBuX2F4aXMgPSBlbGVtLmF4ZXMubWFwKGkgPT4gaS5heGlzKTtcbiAgICAvLyBpZiAoIShKU09OLnN0cmluZ2lmeShuX2F4aXMuc29ydCgpKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxBeGlzLnNvcnQoKSkpKSB7XG4gICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgLy8gfVxuICAgIGNvbnN0IGF4ZXNfcmVvcmRlcmVkID0gW107XG4gICAgZWxlbS5heGVzLmZvckVhY2goKGZ0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pbnZlcnNlZEF4aXMuaGFzKGZ0LmF4aXMpKSB7XG4gICAgICAgIGZ0LnZhbHVlID0gMTAwIC0gZnQudmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRhdGFbMF0uYXhlcy5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBheGVzX3Jlb3JkZXJlZC5wdXNoKGVsZW0uYXhlcy5maW5kKGZ0ID0+IGZ0LmF4aXMgPT09IG4uYXhpcykpO1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIGVsZW0uYXhlcyA9IGF4ZXNfcmVvcmRlcmVkO1xuICAgIHRoaXMuZGF0YS5wdXNoKGVsZW0pO1xuICAgIGNvbnN0IGNvbG9yc19pbl91c2UgPSBPYmplY3Qua2V5cyhhcHAuY29sb3JzKS5tYXAoayA9PiBhcHAuY29sb3JzW2tdKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgb25fYXhlcyA9IFtdO1xuICAgICAgaWYgKHRoaXMuaWRfbXlfcmVnaW9uID09PSB0aGlzLmRhdGFbal0ubmFtZSkgYXBwLmNvbG9yc1t0aGlzLmRhdGFbal0ubmFtZV0gPSBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICBlbHNlIGlmICghYXBwLmNvbG9yc1t0aGlzLmRhdGFbal0ubmFtZV0pIHtcbiAgICAgICAgbGV0IGlpID0gMDtcbiAgICAgICAgd2hpbGUgKGlpIDwgMjEpIHtcbiAgICAgICAgICBpaSArPSAxO1xuICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLmNmZy5jb2xvcihpaSk7XG4gICAgICAgICAgaWYgKCEoY29sb3JzX2luX3VzZS5pbmRleE9mKGMpID4gLTEpKSB7XG4gICAgICAgICAgICBhcHAuY29sb3JzW3RoaXMuZGF0YVtqXS5uYW1lXSA9IGM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YVtqXS5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGF0YVtqXS5heGVzW2ldLmlkID0gdGhpcy5kYXRhW2pdLm5hbWU7XG4gICAgICAgIG9uX2F4ZXMucHVzaCh0aGlzLmRhdGFbal0ubmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZGlzcGxheWVkX2lkcy5wdXNoKGVsZW0ubmFtZSk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG5cbiAgICBjb25zdCBibG9iV3JhcHBlciA9IHRoaXMuZ1xuICAgICAgLmluc2VydCgnZycsICcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIGlkOiBlbGVtLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGVsZW0ubmFtZSxcbiAgICAgICAgY2xhc3M6ICdyYWRhcldyYXBwZXInLFxuICAgICAgfSk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIGJhY2tncm91bmRzXG4gICAgYmxvYldyYXBwZXJcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdyYWRhckFyZWEnLCBkOiB0aGlzLnJhZGFyTGluZShlbGVtLmF4ZXMpIH0pXG4gICAgICAuc3R5bGVzKHsgZmlsbDogYXBwLmNvbG9yc1tlbGVtLm5hbWVdLCAnZmlsbC1vcGFjaXR5JzogY2ZnLm9wYWNpdHlBcmVhIH0pXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGltIGFsbCBibG9ic1xuICAgICAgICBzZWxmLmcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDApO1xuICAgICAgICAvLyBCcmluZyBiYWNrIHRoZSBob3ZlcmVkIG92ZXIgYmxvYlxuICAgICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgYmxvYnNcbiAgICAgICAgc2VsZi5nLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAoZCkgPT4ge1xuICAgICAgICBjb25zdCBmdF9pZCA9IGQubmFtZTtcbiAgICAgICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXJcbiAgICAgICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZnQpIHtcbiAgICAgICAgICAgIGlmIChmdC5pZCA9PT0gZnRfaWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gdGhpcy5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgICAgY2xvbmVkLnN0eWxlLnN0cm9rZSA9ICd5ZWxsb3cnO1xuICAgICAgICAgICAgICBjbG9uZWQuc3R5bGUuc3Ryb2tlV2lkdGggPSAnMi4yNXB4JztcbiAgICAgICAgICAgICAgY2xvbmVkLmNsYXNzTGlzdC5hZGQoJ2Nsb25lZCcpO1xuICAgICAgICAgICAgICBzZWxmLm1hcF9lbGVtLmxheWVycy5zZWxlY3QoJyN0ZW1wJykubm9kZSgpLmFwcGVuZENoaWxkKGNsb25lZCk7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsb25lZC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgb3V0bGluZXNcbiAgICBibG9iV3JhcHBlci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHJzKHsgY2xhc3M6ICdyYWRhclN0cm9rZScsIGQ6IHRoaXMucmFkYXJMaW5lKGVsZW0uYXhlcykgfSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogYXBwLmNvbG9yc1tlbGVtLm5hbWVdLFxuICAgICAgICBmaWx0ZXI6ICd1cmwoI2dsb3cpJyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IGAke2NmZy5zdHJva2VXaWR0aH1weGAsXG4gICAgICB9KTtcblxuICAgIC8vIEFwcGVuZCB0aGUgY2lyY2xlc1xuICAgIGJsb2JXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFyQ2lyY2xlJylcbiAgICAgIC5kYXRhKGVsZW0uYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjbGFzczogJ3JhZGFyQ2lyY2xlJyxcbiAgICAgICAgcjogY2ZnLmRvdFJhZGl1cyxcbiAgICAgICAgY3g6IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3Npbih0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2VsZW0ubmFtZV0sXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAwLjgsXG4gICAgICB9KTtcblxuICAgIGJsb2JXcmFwcGVyLm5vZGUoKS5fX2RhdGFfXyA9IGVsZW07XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vIEFwcGVuZCBpbnZpc2libGUgY2lyY2xlcyBmb3IgdG9vbHRpcCAvLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFdyYXBwZXIgZm9yIHRoZSBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3BcbiAgICBjb25zdCBibG9iQ2lyY2xlV3JhcHBlciA9IHRoaXMuZ1xuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCBlbGVtLm5hbWUuaW5kZXhPZignICcpID4gLTEgPyAnY3R4JyA6IGVsZW0ubmFtZSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhckNpcmNsZVdyYXBwZXInKTtcblxuICAgIGJsb2JDaXJjbGVXcmFwcGVyLm5vZGUoKS5fX2RhdGFfXyA9IGVsZW07XG5cbiAgICAvLyBBcHBlbmQgYSBzZXQgb2YgaW52aXNpYmxlIGNpcmNsZXMgb24gdG9wIGZvciB0aGUgbW91c2VvdmVyIHBvcC11cFxuICAgIGJsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGVsZW0uYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjbGFzczogJ3JhZGFySW52aXNpYmxlQ2lyY2xlJyxcbiAgICAgICAgcjogY2ZnLmRvdFJhZGl1cyAqIDEuNSxcbiAgICAgICAgY3g6IHRoaXMuclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3ModGhpcy5hbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogdGhpcy5yU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3Npbih0aGlzLmFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoe1xuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdhbGwnLFxuICAgICAgfSk7XG5cbiAgICB0aGlzLm1ha2VUb29sdGlwcygpO1xuICB9XG5cbiAgLy8gY2hhbmdlT3JkZXIoKSB7XG4gIC8vICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLnNsaWNlKDEsIHRoaXMuZGF0YS5sZW5ndGgpLmNvbmNhdCh0aGlzLmRhdGEuc2xpY2UoMCwgMSkpO1xuICAvLyAgIHRoaXMudXBkYXRlKCk7XG4gIC8vIH1cblxuICBwcmVwYXJlRGF0YShkYXRhKSB7XG4gICAgLy8gU2V0IHRoZSBtaW5pbXVtIG51bWJlciBvZiB2YXJpYWJsZXMgdG8ga2VlcCBzZWxlY3RlZCBmb3IgdGhpcyBraW5kIG9mIGNoYXJ0OlxuICAgIGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIgPSAzO1xuICAgIHRoaXMudmFyaWFibGVzID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvO1xuICAgIHRoaXMucmVmX2RhdGEgPSBkYXRhLnNsaWNlKCkuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy52YXJpYWJsZXMubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkoZCA9PiBkID09PSB0cnVlKSk7XG4gICAgdGhpcy5yYW5rX3ZhcmlhYmxlcyA9IHRoaXMudmFyaWFibGVzLm1hcChkID0+IGBwcl8ke2R9YCk7XG4gICAgdGhpcy52YXJpYWJsZXMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgY29tcHV0ZVBlcmNlbnRpbGVSYW5rKHRoaXMucmVmX2RhdGEsIGQsIHRoaXMucmFua192YXJpYWJsZXNbaV0pO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtwcmVwYXJlX2RhdGFfcmFkYXJfZGVmYXVsdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcyldO1xuICAgIHRoaXMuZGlzcGxheWVkX2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLm5hbWUpO1xuICAgIHRoaXMuY3VycmVudF9pZHMgPSB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGQuaWQpO1xuICAgIHRoaXMuaWRfbXlfcmVnaW9uID0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbjtcblxuICAgIC8vIElmIHRoZSBzdXBwbGllZCBtYXhWYWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCBvbmUsIHJlcGxhY2UgYnkgdGhlIG1heCBpbiB0aGUgZGF0YVxuICAgIGxldCBtYXhWYWx1ZSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0aGlzLmlkX215X3JlZ2lvbiA9PT0gdGhpcy5kYXRhW2pdLm5hbWUpIGFwcC5jb2xvcnNbdGhpcy5kYXRhW2pdLm5hbWVdID0gY29sb3JfaGlnaGxpZ2h0O1xuICAgICAgZWxzZSBhcHAuY29sb3JzW3RoaXMuZGF0YVtqXS5uYW1lXSA9IHRoaXMuY2ZnLmNvbG9yKGogKyAxKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhW2pdLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kYXRhW2pdLmF4ZXNbaV0uaWQgPSB0aGlzLmRhdGFbal0ubmFtZTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICBtYXhWYWx1ZSA9IHRoaXMuZGF0YVtqXS5heGVzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1hdGhfbWF4KHRoaXMuY2ZnLm1heFZhbHVlLCBtYXhWYWx1ZSk7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGkgPT4gaS5heGlzKTsgLy8gTmFtZXMgb2YgZWFjaCBheGlzXG4gICAgdGhpcy50b3RhbCA9IHRoaXMuYWxsQXhpcy5sZW5ndGg7IC8vIFRoZSBudW1iZXIgb2YgZGlmZmVyZW50IGF4ZXNcbiAgICB0aGlzLnJhZGl1cyA9IG1hdGhfbWluKHRoaXMuY2ZnLncgLyAyLCB0aGlzLmNmZy5oIC8gMik7IC8vIFJhZGl1cyBvZiB0aGUgb3V0ZXJtb3N0IGNpcmNsZVxuICAgIHRoaXMuRm9ybWF0ID0gZDMuZm9ybWF0KHRoaXMuY2ZnLmZvcm1hdCk7IC8vIEZvcm1hdHRpbmdcbiAgICB0aGlzLmFuZ2xlU2xpY2UgPSBNYXRoLlBJICogMiAvIHRoaXMudG90YWw7IC8vIFRoZSB3aWR0aCBpbiByYWRpYW5zIG9mIGVhY2ggXCJzbGljZVwiXG4gICAgLy8gU2NhbGUgZm9yIHRoZSByYWRpdXNcbiAgICB0aGlzLnJTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5yYW5nZShbMCwgdGhpcy5yYWRpdXNdKVxuICAgICAgLmRvbWFpbihbMCwgdGhpcy5tYXhWYWx1ZV0pO1xuICAgIC8vIFRoZSByYWRpYWwgbGluZSBmdW5jdGlvblxuICAgIHRoaXMucmFkYXJMaW5lID0gZDMucmFkaWFsTGluZSgpXG4gICAgICAuY3VydmUodGhpcy5jZmcucm91bmRTdHJva2VzID8gZDMuY3VydmVDYXJkaW5hbENsb3NlZCA6IGQzLmN1cnZlTGluZWFyQ2xvc2VkKVxuICAgICAgLnJhZGl1cyhkID0+IHRoaXMuclNjYWxlKGQudmFsdWUpKVxuICAgICAgLmFuZ2xlKChkLCBpKSA9PiBpICogdGhpcy5hbmdsZVNsaWNlKTtcbiAgfVxuXG4gIGRyYXdBeGlzR3JpZCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjZmcgPSB0aGlzLmNmZztcbiAgICBjb25zdCBnID0gdGhpcy5nO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IG1heFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBhbmdsZVNsaWNlID0gdGhpcy5hbmdsZVNsaWNlO1xuXG4gICAgY29uc3QgYXhpc0dyaWQgPSBnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2F4aXNXcmFwcGVyJyk7XG5cbiAgICAvLyBEcmF3IHRoZSBiYWNrZ3JvdW5kIGNpcmNsZXNcbiAgICBheGlzR3JpZC5zZWxlY3RBbGwoJy5sZXZlbHMnKVxuICAgICAgLmRhdGEoZDMucmFuZ2UoMSwgKGNmZy5sZXZlbHMgKyAxKSkucmV2ZXJzZSgpKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ2dyaWRDaXJjbGUnLFxuICAgICAgICByOiByYWRpdXMgLyBjZmcubGV2ZWxzICogZCxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcygoZCkgPT4ge1xuICAgICAgICBpZiAoZCA9PT0gNSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxsOiAnI0NEQ0RDRCcsXG4gICAgICAgICAgICBzdHJva2U6ICdyZ2IoMjQ1LCAxMzgsIDEzOCknLFxuICAgICAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnNSwgNScsXG4gICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogY2ZnLm9wYWNpdHlDaXJjbGVzLFxuICAgICAgICAgICAgZmlsdGVyOiAndXJsKCNnbG93KScsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZpbGw6ICcjQ0RDRENEJyxcbiAgICAgICAgICBzdHJva2U6ICcjQ0RDRENEJyxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogY2ZnLm9wYWNpdHlDaXJjbGVzLFxuICAgICAgICAgIGZpbHRlcjogJ3VybCgjZ2xvdyknLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHN0cmFpZ2h0IGxpbmVzIHJhZGlhdGluZyBvdXR3YXJkIGZyb20gdGhlIGNlbnRlclxuICAgIGNvbnN0IGF4aXMgPSBheGlzR3JpZC5zZWxlY3RBbGwoJy5heGlzJylcbiAgICAgIC5kYXRhKHRoaXMuYWxsQXhpcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzJyk7XG4gICAgLy8gQXBwZW5kIHRoZSBsaW5lc1xuICAgIGF4aXMuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgeDE6IDAsXG4gICAgICAgIHkxOiAwLFxuICAgICAgICB4MjogclNjYWxlKG1heFZhbHVlICogMS4xKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICAgIHkyOiByU2NhbGUobWF4VmFsdWUgKiAxLjEpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgY2xhc3M6ICdsaW5lJyxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcyh7IHN0cm9rZTogJ3doaXRlJywgJ3N0cm9rZS13aWR0aCc6ICcycHgnIH0pO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBsYWJlbHMgYXQgZWFjaCBheGlzXG4gICAgY29uc3QgZ3BfYXhpc19sYWJlbCA9IGF4aXMuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIChkLCBpKSA9PiBgZ3Ake2l9YClcbiAgICAgIC5hdHRyKCdjbGFzcycsICdncF9heGlzX2xhYmVsJylcbiAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnYWxsJyk7XG5cbiAgICBncF9heGlzX2xhYmVsLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ3JlY3RsYWJlbCcsIGZpbGw6ICd0cmFuc3BhcmVudCcgfSk7XG5cbiAgICBjb25zdCB0ZXh0cyA9IGdwX2F4aXNfbGFiZWwuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIGNsYXNzOiAnbGVnZW5kJyxcbiAgICAgICAgZHk6ICcwLjM1ZW0nLFxuICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJyxcbiAgICAgICAgJ3RpdGxlLXRvb2x0aXAnOiB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LmlkID09PSBkKS5uYW1lLFxuICAgICAgICB4OiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgeTogclNjYWxlKG1heFZhbHVlICogY2ZnLmxhYmVsRmFjdG9yKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICAnZm9udC1zaXplJzogJzEycHgnLFxuICAgICAgICBmaWxsOiAoc2VsZi5pbnZlcnNlZEF4aXMuaGFzKGQpID8gJ3JlZCcgOiAnYmxhY2snKSxcbiAgICAgIH0pKVxuICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgIGdwX2F4aXNfbGFiZWwuYXBwZW5kKCdpbWFnZScpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ2ltZ19yZXZlcnNlJyxcbiAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgIHRpdGxlOiAnSW52ZXJzZXIgbFxcJ29yZHJlIGRlIGNsYXNzZW1lbnQgZGUgbFxcJ2luZGljYXRldXInLFxuICAgICAgfSlcbiAgICAgIC5zdHlsZXMoeyBjdXJzb3I6ICdwb2ludGVyJywgZGlzcGxheTogJ25vbmUnIH0pO1xuXG4gICAgZ3BfYXhpc19sYWJlbC5hcHBlbmQoJ2ltYWdlJylcbiAgICAgIC5hdHRycyh7XG4gICAgICAgIHdpZHRoOiAyNSxcbiAgICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL3JvdGF0aW9uX2Fycm93LnBuZycsXG4gICAgICAgIGNsYXNzOiAnaW1nX3JldmVyc2UyJyxcbiAgICAgICAgdGl0bGU6ICdJbnZlcnNlciBsXFwnb3JkcmUgZGVzIGF4ZXMgc3VyIGxlIGdyYXBoaXF1ZScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgwLCAwLCAwKScsXG4gICAgICB9KVxuICAgICAgLnN0eWxlcyh7IGN1cnNvcjogJ3BvaW50ZXInLCBkaXNwbGF5OiAnbm9uZScgfSk7XG5cbiAgICB0ZXh0cy5jYWxsKGQgPT4gdGhpcy53cmFwKGQsIGNmZy53cmFwV2lkdGgpKTtcblxuICAgIGdwX2F4aXNfbGFiZWxcbiAgICAgIC5vbignbW91c2VvdmVyIG1vdXNlbW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRtKTtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgLnNlbGVjdEFsbCgnaW1hZ2UnKVxuICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsIG51bGwpXG4gICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gK3RoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0c3BhbicpLmdldEF0dHJpYnV0ZSgneScpICsgMTU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRtID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCdpbWFnZScpXG4gICAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9LCA1MDAwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodG0pO1xuICAgICAgICB0bSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgnaW1hZ2UnKVxuICAgICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5nLnNlbGVjdEFsbCgnLmdyaWRDaXJjbGUnKVxuICAgICAgLm9uKCdtb3VzZW1vdmUgbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodG0pO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5ncF9heGlzX2xhYmVsJykuc2VsZWN0QWxsKCdpbWFnZScpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gRmlsdGVyIGZvciB0aGUgb3V0c2lkZSBnbG93XG4gICAgY29uc3QgZmlsdGVyID0gZy5hcHBlbmQoJ2RlZnMnKVxuICAgICAgLmFwcGVuZCgnZmlsdGVyJylcbiAgICAgIC5hdHRyKCdpZCcsICdnbG93Jyk7XG4gICAgZmlsdGVyLmFwcGVuZCgnZmVHYXVzc2lhbkJsdXInKVxuICAgICAgLmF0dHIoJ3N0ZERldmlhdGlvbicsICcyLjUnKVxuICAgICAgLmF0dHIoJ3Jlc3VsdCcsICdjb2xvcmVkQmx1cicpO1xuICAgIGNvbnN0IGZlTWVyZ2UgPSBmaWx0ZXIuYXBwZW5kKCdmZU1lcmdlJyk7XG4gICAgZmVNZXJnZS5hcHBlbmQoJ2ZlTWVyZ2VOb2RlJykuYXR0cignaW4nLCAnY29sb3JlZEJsdXInKTtcbiAgICBmZU1lcmdlLmFwcGVuZCgnZmVNZXJnZU5vZGUnKS5hdHRyKCdpbicsICdTb3VyY2VHcmFwaGljJyk7XG5cbiAgICB0aGlzLmF4aXNHcmlkID0gYXhpc0dyaWQ7XG4gIH1cblxuICBtYWtlVG9vbHRpcHMoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgdCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsICdub25lJykuc2VsZWN0QWxsKCdwJykuaHRtbCgnJyk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZW1vdmUgbW91c2Vkb3duJywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IGQuYXhpcztcbiAgICAgICAgY29uc3QgaWRfZmVhdHVyZSA9IGQuaWQ7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHNlbGYuaW52ZXJzZWRBeGlzLmhhcyhjb2RlX3ZhcmlhYmxlKVxuICAgICAgICAgID8gJ2luZsOpcmlldXJlJyA6ICdzdXDDqXJpZXVyZSc7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcudGl0bGUnKVxuICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24gPyAndGl0bGUgbXlSZWdpb24nIDogJ3RpdGxlJylcbiAgICAgICAgICAuaHRtbChbYXBwLmZlYXR1cmVfbmFtZXNbaWRfZmVhdHVyZV0sICcgKCcsIGlkX2ZlYXR1cmUsICcpJ10uam9pbignJykpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcuY29udGVudCcpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRlbnQnKVxuICAgICAgICAgIC5odG1sKFtcbiAgICAgICAgICAgIGAke2Zvcm1hdE51bWJlcigxMDAgLSBkLnZhbHVlLCAxKX0gJHtzZWxmLmNmZy51bml0fSBkZXMgcsOpZ2lvbnMgb250IHVuZSB2YWxldXIgJHtkaXJlY3Rpb259YCxcbiAgICAgICAgICAgIGAke2NvZGVfdmFyaWFibGV9IDogJHtmb3JtYXROdW1iZXIoZC5yYXdfdmFsdWUsIDEpfSAke2QucmF3X3ZhbHVlX3VuaXR9YCxcbiAgICAgICAgICBdLmpvaW4oJzxicj4nKSk7XG4gICAgICAgIHNlbGYudG9vbHRpcFxuICAgICAgICAgIC5zdHlsZXMoe1xuICAgICAgICAgICAgZGlzcGxheTogbnVsbCxcbiAgICAgICAgICAgIGxlZnQ6IGAke2QzLmV2ZW50LnBhZ2VYIC0gd2luZG93LnNjcm9sbFggLSA1fXB4YCxcbiAgICAgICAgICAgIHRvcDogYCR7ZDMuZXZlbnQucGFnZVkgLSB3aW5kb3cuc2Nyb2xsWSAtIHNlbGYudG9vbHRpcC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gNX1weGAsXG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUxlZ2VuZCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgbWVudV9zZWxlY3Rpb24uc2VsZWN0QWxsKCdkaXYnKS5yZW1vdmUoKTtcbiAgICBtZW51X3NlbGVjdGlvbi5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbWluaS1sZWdlbmQtbGluZSBub3NlbGVjdCByZWRsaW5lJylcbiAgICAgIC5zdHlsZSgnbWFyZ2luJywgJ2F1dG8nKVxuICAgICAgLmh0bWwoYDxkaXYgY2xhc3M9XCJtaW5pLWxlZ2VuZC1pdGVtXCI+PHAgY2xhc3M9XCJjb2xvcl9zcXVhcmVcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6dXJsKCdpbWcvbGVnZW5kX3JlZF9saW5lMi5wbmcnKVwiPjwvcD48c3Bhbj5Nw6lkaWFuZSBkZSBsJ2VzcGFjZSBkJ8OpdHVkZTwvc3Bhbj48L2Rpdj5gKTtcbiAgICBtZW51X3NlbGVjdGlvbi5zZWxlY3RBbGwoJ2RpdicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEubWFwKGEgPT4gYS5uYW1lKSwgZCA9PiBkKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbWluaS1sZWdlbmQtbGluZSBub3NlbGVjdCcpXG4gICAgICAuc3R5bGUoJ21hcmdpbicsICdhdXRvJylcbiAgICAgIC5odG1sKGQgPT4gKFxuICAgICAgICBkID09PSB0aGlzLmlkX215X3JlZ2lvblxuICAgICAgICAgID8gYDxkaXYgY2xhc3M9XCJtaW5pLWxlZ2VuZC1pdGVtXCI+PHAgY2xhc3M9XCJjb2xvcl9zcXVhcmVcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JHthcHAuY29sb3JzW2RdfVwiPjwvcD48c3Bhbj4ke2FwcC5mZWF0dXJlX25hbWVzW2RdfTwvc3Bhbj48L2Rpdj5gXG4gICAgICAgICAgOiBgPGRpdiBjbGFzcz1cIm1pbmktbGVnZW5kLWl0ZW1cIj48cCBjbGFzcz1cImNvbG9yX3NxdWFyZVwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjoke2FwcC5jb2xvcnNbZF19XCI+PC9wPjxzcGFuPiR7YXBwLmZlYXR1cmVfbmFtZXNbZF19PC9zcGFuPjwvZGl2PjxzcGFuIHZhbHVlPVwiZnRfJHtkfVwiIGNsYXNzPVwiYnRuX2RlbGV0ZV9taW5pXCI+4pyYPC9zcGFuPmApKTtcbiAgICBtZW51X3NlbGVjdGlvbi5zZWxlY3RBbGwoJy5idG5fZGVsZXRlX21pbmknKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpLnNsaWNlKDMpO1xuICAgICAgICBpZiAoaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXBwLmNvbG9yc1tpZF0gPSBudWxsO1xuICAgICAgICBzZWxmLmcuc2VsZWN0QWxsKGAjJHtpZH0ucmFkYXJXcmFwcGVyYCkucmVtb3ZlKCk7XG4gICAgICAgIHNlbGYuZy5zZWxlY3RBbGwoYCMke2lkfS5yYWRhckNpcmNsZVdyYXBwZXJgKS5yZW1vdmUoKTtcbiAgICAgICAgY29uc3QgaXggPSBzZWxmLmRhdGEubWFwKChfZCwgaSkgPT4gW2ksIF9kLm5hbWUgPT09IGlkXSkuZmluZChfZCA9PiBfZFsxXSA9PT0gdHJ1ZSlbMF07XG4gICAgICAgIHNlbGYuZGF0YS5zcGxpY2UoaXgsIDEpO1xuICAgICAgICBzZWxmLmRpc3BsYXllZF9pZHMgPSBzZWxmLmRhdGEubWFwKF9kID0+IF9kLm5hbWUpO1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICBzZWxmLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGRyYXdBcmVhKCkge1xuICAgIGNvbnN0IGNmZyA9IHRoaXMuY2ZnO1xuICAgIGNvbnN0IGcgPSB0aGlzLmc7XG4gICAgY29uc3QgclNjYWxlID0gdGhpcy5yU2NhbGU7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcblxuICAgIC8vIENyZWF0ZSBhIHdyYXBwZXIgZm9yIHRoZSBibG9ic1xuICAgIGNvbnN0IGJsb2JXcmFwcGVyID0gZy5zZWxlY3RBbGwoJy5yYWRhcldyYXBwZXInKVxuICAgICAgLmRhdGEodGhpcy5kYXRhLCBkID0+IGQubmFtZSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSlcbiAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRhcldyYXBwZXInKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgYmFja2dyb3VuZHNcbiAgICBibG9iV3JhcHBlclxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBjbGFzczogJ3JhZGFyQXJlYScsXG4gICAgICAgIGQ6IHRoaXMucmFkYXJMaW5lKGQuYXhlcyksXG4gICAgICB9KSlcbiAgICAgIC5zdHlsZXMoZCA9PiAoe1xuICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QubmFtZV0sXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiBjZmcub3BhY2l0eUFyZWEsXG4gICAgICB9KSlcbiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEaW0gYWxsIGJsb2JzXG4gICAgICAgIGcuc2VsZWN0QWxsKCcucmFkYXJBcmVhJylcbiAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDAuMSk7XG4gICAgICAgIC8vIEJyaW5nIGJhY2sgdGhlIGhvdmVyZWQgb3ZlciBibG9iXG4gICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKVxuICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC43KTtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICBnLnNlbGVjdEFsbCgnLnJhZGFyQXJlYScpXG4gICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApXG4gICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCBjZmcub3BhY2l0eUFyZWEpO1xuICAgICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG91dGxpbmVzXG4gICAgYmxvYldyYXBwZXIuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRycyhkID0+ICh7XG4gICAgICAgIGNsYXNzOiAncmFkYXJTdHJva2UnLFxuICAgICAgICBkOiB0aGlzLnJhZGFyTGluZShkLmF4ZXMpLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBzdHJva2U6IGFwcC5jb2xvcnNbZC5uYW1lXSxcbiAgICAgICAgZmlsdGVyOiAndXJsKCNnbG93KScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiBgJHtjZmcuc3Ryb2tlV2lkdGh9cHhgLFxuICAgICAgfSkpO1xuXG4gICAgLy8gQXBwZW5kIHRoZSBjaXJjbGVzXG4gICAgYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRycygoZCwgaSkgPT4gKHtcbiAgICAgICAgY2xhc3M6ICdyYWRhckNpcmNsZScsXG4gICAgICAgIHI6IGNmZy5kb3RSYWRpdXMsXG4gICAgICAgIGN4OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0sXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAwLjgsXG4gICAgICB9KSk7XG5cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gLy8vLy8vIEFwcGVuZCBpbnZpc2libGUgY2lyY2xlcyBmb3IgdG9vbHRpcCAvLy8vLy8vLy8vL1xuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIFdyYXBwZXIgZm9yIHRoZSBpbnZpc2libGUgY2lyY2xlcyBvbiB0b3BcbiAgICBjb25zdCBibG9iQ2lyY2xlV3JhcHBlciA9IGcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cnMoZCA9PiAoe1xuICAgICAgICBpZDogKGQubmFtZS5pbmRleE9mKCcgJykgPiAtMSA/ICdjdHgnIDogZC5uYW1lKSxcbiAgICAgICAgY2xhc3M6ICdyYWRhckNpcmNsZVdyYXBwZXInLFxuICAgICAgfSkpO1xuXG4gICAgLy8gQXBwZW5kIGEgc2V0IG9mIGludmlzaWJsZSBjaXJjbGVzIG9uIHRvcCBmb3IgdGhlIG1vdXNlb3ZlciBwb3AtdXBcbiAgICBibG9iQ2lyY2xlV3JhcHBlci5zZWxlY3RBbGwoJy5yYWRhckludmlzaWJsZUNpcmNsZScpXG4gICAgICAuZGF0YShkID0+IGQuYXhlcylcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjbGFzczogJ3JhZGFySW52aXNpYmxlQ2lyY2xlJyxcbiAgICAgICAgcjogY2ZnLmRvdFJhZGl1cyAqIDEuNSxcbiAgICAgICAgY3g6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfY29zKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICAgIGN5OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX3NpbihhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgfSkpXG4gICAgICAuc3R5bGVzKHtcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICAncG9pbnRlci1ldmVudHMnOiAnYWxsJyxcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5tYWtlVG9vbHRpcHMoKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCByU2NhbGUgPSB0aGlzLnJTY2FsZTtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XG4gICAgY29uc3QgY2ZnID0gdGhpcy5jZmc7XG4gICAgY29uc3QgYW5nbGVTbGljZSA9IHRoaXMuYW5nbGVTbGljZTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRfaWRzKTtcbiAgICAvLyBpZiAobmV3X2RhdGEpIHtcbiAgICAvLyAgIGNvbnN0IG5ld19heGlzID0gbmV3X2RhdGFbMF0uYXhlcy5tYXAoZWxlbSA9PiBlbGVtLmF4aXMpO1xuICAgIC8vICAgaWYgKCEoSlNPTi5zdHJpbmdpZnkobmV3X2F4aXMpID09PSBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEF4aXMpKSkge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVsZW1lbnQgd2l0aCBzYW1lIGF4ZXMgbmFtZSB0aGFuIGV4aXN0aW5nIGRhdGEuJyk7XG4gICAgLy8gICB9XG4gICAgLy8gICB0aGlzLmRhdGEgPSBuZXdfZGF0YTtcbiAgICAvLyAgIHRoaXMuYWxsQXhpcyA9IG5ld19heGlzO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgdGhpcy5hbGxBeGlzID0gdGhpcy5kYXRhWzBdLmF4ZXMubWFwKGVsZW0gPT4gZWxlbS5heGlzKTtcbiAgICAvLyB9XG4gICAgY29uc3QgdXBkYXRlX2F4aXMgPSB0aGlzLmF4aXNHcmlkLnNlbGVjdEFsbCgnLmF4aXMnKVxuICAgICAgLmRhdGEodGhpcy5hbGxBeGlzKTtcblxuICAgIGNvbnN0IHRuID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMjI1KTtcblxuICAgIGNvbnN0IF9nID0gdXBkYXRlX2F4aXMuc2VsZWN0KCdnJyk7XG4gICAgX2cuc2VsZWN0KCcucmVjdGxhYmVsJykuYXR0cignY2xhc3MnLCAncmVjdGxhYmVsJyk7XG4gICAgX2cuc2VsZWN0KCcuaW1nX3JldmVyc2UnKVxuICAgICAgLmF0dHIoJ3hsaW5rOmhyZWYnLCBkID0+ICh0aGlzLmludmVyc2VkQXhpcy5oYXMoZCkgPyAnaW1nL3JldmVyc2VfbW9pbnMucG5nJyA6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycpKVxuICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICBfZy5zZWxlY3QoJy5pbWdfcmV2ZXJzZTInKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgX2cuc2VsZWN0KCd0ZXh0LmxlZ2VuZCcpXG4gICAgICAuYXR0cnMoKGQsIGkpID0+ICh7XG4gICAgICAgICd0aXRsZS10b29sdGlwJzogdmFyaWFibGVzX2luZm8uZmluZChmdCA9PiBmdC5pZCA9PT0gZCkubmFtZSxcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHg6IHJTY2FsZShtYXhWYWx1ZSAqIGNmZy5sYWJlbEZhY3RvcikgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICB5OiByU2NhbGUobWF4VmFsdWUgKiBjZmcubGFiZWxGYWN0b3IpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IHRoaXMuaW52ZXJzZWRBeGlzLmhhcyhkKSA/ICdyZWQnIDogJ2JsYWNrJyxcbiAgICAgIH0pKVxuICAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLmNhbGwoZCA9PiB0aGlzLndyYXAoZCwgY2ZnLndyYXBXaWR0aCkpO1xuXG4gICAgY29uc3QgdXBkYXRlX2Jsb2JXcmFwcGVyID0gdGhpcy5nLnNlbGVjdEFsbCgnLnJhZGFyV3JhcHBlcicpXG4gICAgICAuZGF0YSh0aGlzLmRhdGEsIGQgPT4gZC5uYW1lKTtcblxuICAgIHVwZGF0ZV9ibG9iV3JhcHBlci5zZWxlY3QoJy5yYWRhckFyZWEnKVxuICAgICAgLnRyYW5zaXRpb24odG4pXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSk7XG5cbiAgICB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0KCcucmFkYXJTdHJva2UnKVxuICAgICAgLnRyYW5zaXRpb24odG4pXG4gICAgICAuYXR0cignZCcsIGQgPT4gdGhpcy5yYWRhckxpbmUoZC5heGVzKSk7XG5cbiAgICBjb25zdCBjaXJjbGUgPSB1cGRhdGVfYmxvYldyYXBwZXIuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGUnKVxuICAgICAgLmRhdGEoZCA9PiBkLmF4ZXMpO1xuICAgIGNpcmNsZVxuICAgICAgLnRyYW5zaXRpb24odG4pXG4gICAgICAuYXR0cnMoKGQsIGkpID0+ICh7XG4gICAgICAgIGN4OiByU2NhbGUoZC52YWx1ZSkgKiBtYXRoX2NvcyhhbmdsZVNsaWNlICogaSAtIEhBTEZfUEkpLFxuICAgICAgICBjeTogclNjYWxlKGQudmFsdWUpICogbWF0aF9zaW4oYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgIH0pKVxuICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgIGZpbGw6IGFwcC5jb2xvcnNbZC5pZF0sXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAwLjgsXG4gICAgICB9KSk7XG5cbiAgICBjb25zdCB1cGRhdGVfYmxvYkNpcmNsZVdyYXBwZXIgPSB0aGlzLmcuc2VsZWN0QWxsKCcucmFkYXJDaXJjbGVXcmFwcGVyJylcbiAgICAgIC5kYXRhKHRoaXMuZGF0YSwgZCA9PiBkLm5hbWUpO1xuXG4gICAgY29uc3QgaW52aXNpYmxlQ2lyY2xlID0gdXBkYXRlX2Jsb2JDaXJjbGVXcmFwcGVyLnNlbGVjdEFsbCgnLnJhZGFySW52aXNpYmxlQ2lyY2xlJylcbiAgICAgIC5kYXRhKGQgPT4gZC5heGVzKTtcbiAgICBpbnZpc2libGVDaXJjbGVcbiAgICAgIC50cmFuc2l0aW9uKHRuKVxuICAgICAgLmF0dHJzKChkLCBpKSA9PiAoe1xuICAgICAgICBjeDogclNjYWxlKGQudmFsdWUpICogbWF0aF9jb3MoYW5nbGVTbGljZSAqIGkgLSBIQUxGX1BJKSxcbiAgICAgICAgY3k6IHJTY2FsZShkLnZhbHVlKSAqIG1hdGhfc2luKGFuZ2xlU2xpY2UgKiBpIC0gSEFMRl9QSSksXG4gICAgICB9KSk7XG5cbiAgICB0aGlzLnVwZGF0ZUxlZ2VuZCgpO1xuICB9XG5cbiAgcm91bmRfc3Ryb2tlKHZhbCkge1xuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2ZnLnJvdW5kU3Ryb2tlcztcbiAgICB9IGVsc2UgaWYgKHZhbCAhPT0gdGhpcy5jZmcucm91bmRTdHJva2VzKSB7XG4gICAgICB0aGlzLmNmZy5yb3VuZFN0cm9rZXMgPSB2YWw7XG4gICAgICB0aGlzLnJhZGFyTGluZSA9IGQzLnJhZGlhbExpbmUoKVxuICAgICAgICAuY3VydmUodGhpcy5jZmcucm91bmRTdHJva2VzID8gZDMuY3VydmVDYXJkaW5hbENsb3NlZCA6IGQzLmN1cnZlTGluZWFyQ2xvc2VkKVxuICAgICAgICAucmFkaXVzKGQgPT4gdGhpcy5yU2NhbGUoZC52YWx1ZSkpXG4gICAgICAgIC5hbmdsZSgoZCwgaSkgPT4gaSAqIHRoaXMuYW5nbGVTbGljZSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMubWFwX2VsZW0uZGlzcGxheUxlZ2VuZCgyKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICB0aGlzLm1hcF9lbGVtLmxheWVycy5zZWxlY3RBbGwoJy5jbG9uZWQnKS5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICB0aGlzLm1hcF9lbGVtID0gbnVsbDtcbiAgICBkMy5zZWxlY3QoJyNzdmdfYmFyJykudGV4dCgnJykuaHRtbCgnJyk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgdGhpcy5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICBjb25zdCBvbGRfbXlfcmVnaW9uID0gdGhpcy5pZF9teV9yZWdpb247XG4gICAgY29uc3Qgb3RoZXJfZmVhdHVyZXMgPSB0aGlzLmRpc3BsYXllZF9pZHMuZmlsdGVyKGQgPT4gZCAhPT0gb2xkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMuaWRfbXlfcmVnaW9uID0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbjtcbiAgICB0aGlzLnByZXBhcmVEYXRhKGFwcC5jdXJyZW50X2RhdGEpO1xuICAgIEFycmF5LmZyb20odGhpcy5pbnZlcnNlZEF4aXMpLmZvckVhY2goKHYpID0+IHsgdGhpcy5pbnZlcnNlX2RhdGEodik7IH0pO1xuICAgIHRoaXMuZHJhd0F4aXNHcmlkKCk7XG4gICAgdGhpcy5kcmF3QXJlYSgpO1xuICAgIG90aGVyX2ZlYXR1cmVzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA+IC0xICYmIGlkICE9PSB0aGlzLmlkX215X3JlZ2lvbikge1xuICAgICAgICBjb25zdCBhID0gcHJlcGFyZV9kYXRhX3JhZGFyX2Z0KHRoaXMucmVmX2RhdGEsIHRoaXMudmFyaWFibGVzLCBpZCk7XG4gICAgICAgIHRoaXMuYWRkX2VsZW1lbnQoYSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGVMZWdlbmQoKTtcbiAgfVxuXG4gIGFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUpIHtcbiAgICBjb25zdCBvdGhlcl9mZWF0dXJlcyA9IHRoaXMuZGlzcGxheWVkX2lkcy5maWx0ZXIoZCA9PiBkICE9PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgdGhpcy5nLnJlbW92ZSgpO1xuICAgIHRoaXMuZyA9IHN2Z19iYXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdpZCcsICdSYWRhckdycCcpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2ZnLncgLyAyICsgdGhpcy5jZmcubWFyZ2luLmxlZnR9LCR7dGhpcy5jZmcuaCAvIDIgKyB0aGlzLmNmZy5tYXJnaW4udG9wfSlgKTtcblxuICAgIHRoaXMucHJlcGFyZURhdGEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgQXJyYXkuZnJvbSh0aGlzLmludmVyc2VkQXhpcykuZm9yRWFjaCgodikgPT4geyB0aGlzLmludmVyc2VfZGF0YSh2KTsgfSk7XG4gICAgdGhpcy5kcmF3QXhpc0dyaWQoKTtcbiAgICB0aGlzLmRyYXdBcmVhKCk7XG4gICAgb3RoZXJfZmVhdHVyZXMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoaWQpID4gLTEpIHtcbiAgICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgICB0aGlzLmFkZF9lbGVtZW50KGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlTGVnZW5kKCk7XG4gICAgVG9vbHRpcHNpZnkoJ1t0aXRsZS10b29sdGlwXScpO1xuICB9XG5cbiAgcmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSkge1xuICAgIGNvbnN0IG90aGVyX2ZlYXR1cmVzID0gdGhpcy5kaXNwbGF5ZWRfaWRzLmZpbHRlcihkID0+IGQgIT09IHRoaXMuaWRfbXlfcmVnaW9uKTtcbiAgICB0aGlzLmcucmVtb3ZlKCk7XG4gICAgdGhpcy5nID0gc3ZnX2Jhci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2lkJywgJ1JhZGFyR3JwJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jZmcudyAvIDIgKyB0aGlzLmNmZy5tYXJnaW4ubGVmdH0sJHt0aGlzLmNmZy5oIC8gMiArIHRoaXMuY2ZnLm1hcmdpbi50b3B9KWApO1xuXG4gICAgdGhpcy5wcmVwYXJlRGF0YShhcHAuY3VycmVudF9kYXRhKTtcbiAgICBBcnJheS5mcm9tKHRoaXMuaW52ZXJzZWRBeGlzKS5mb3JFYWNoKCh2KSA9PiB7IHRoaXMuaW52ZXJzZV9kYXRhKHYpOyB9KTtcbiAgICB0aGlzLmRyYXdBeGlzR3JpZCgpO1xuICAgIHRoaXMuZHJhd0FyZWEoKTtcbiAgICBvdGhlcl9mZWF0dXJlcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHByZXBhcmVfZGF0YV9yYWRhcl9mdCh0aGlzLnJlZl9kYXRhLCB0aGlzLnZhcmlhYmxlcywgaWQpO1xuICAgICAgdGhpcy5hZGRfZWxlbWVudChhKTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLnVwZGF0ZU1hcFJlZ2lvKCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICBUb29sdGlwc2lmeSgnW3RpdGxlLXRvb2x0aXBdJyk7XG4gIH1cblxuICBwcmVwYXJlVGFibGVTdGF0KCkge1xuICAgIGNvbnN0IGFsbF92YWx1ZXMgPSB0aGlzLnZhcmlhYmxlcy5tYXAodiA9PiB0aGlzLnJlZl9kYXRhLm1hcChkID0+IGRbdl0pKTtcbiAgICBjb25zdCBteV9yZWdpb24gPSB0aGlzLnJlZl9kYXRhLmZpbmQoZCA9PiBkLmlkID09PSB0aGlzLmlkX215X3JlZ2lvbik7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBhbGxfdmFsdWVzLm1hcCgodmFsdWVzLCBpKSA9PiAoe1xuICAgICAgTWluOiBkMy5taW4odmFsdWVzKSxcbiAgICAgIE1heDogZDMubWF4KHZhbHVlcyksXG4gICAgICBNb3k6IGdldE1lYW4odmFsdWVzKSxcbiAgICAgIE1lZDogZDMubWVkaWFuKHZhbHVlcyksXG4gICAgICBpZDogdGhpcy52YXJpYWJsZXNbaV0sXG4gICAgICBWYXJpYWJsZTogdGhpcy52YXJpYWJsZXNbaV0sXG4gICAgICAnTWEgcsOpZ2lvbic6IG15X3JlZ2lvblt0aGlzLnZhcmlhYmxlc1tpXV0sXG4gICAgfSkpO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIGhhbmRsZUNsaWNrTWFwKGQsIHBhcmVudCkge1xuICAgIGNvbnN0IGlkID0gZC5pZDtcbiAgICBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKGlkKSA8IDAgfHwgaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKHRoaXMuZGlzcGxheWVkX2lkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID4gNikge1xuICAgICAgICBhbGVydGlmeS53YXJuaW5nKCdMZSBub21icmUgbWF4aW1hbCBkZSByw6lnaW9ucyBzw6lsZWN0aW9ubsOpZXMgZXN0IGF0dGVpbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGEgPSBwcmVwYXJlX2RhdGFfcmFkYXJfZnQodGhpcy5yZWZfZGF0YSwgdGhpcy52YXJpYWJsZXMsIGlkKTtcbiAgICAgIHRoaXMuYWRkX2VsZW1lbnQoYSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHAuY29sb3JzW2lkXSA9IG51bGw7XG4gICAgICB0aGlzLmcuc2VsZWN0QWxsKGAjJHtpZH0ucmFkYXJXcmFwcGVyYCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLmcuc2VsZWN0QWxsKGAjJHtpZH0ucmFkYXJDaXJjbGVXcmFwcGVyYCkucmVtb3ZlKCk7XG4gICAgICBjb25zdCBpeCA9IHRoaXMuZGF0YS5tYXAoKF9kLCBpKSA9PiBbaSwgX2QubmFtZSA9PT0gaWRdKS5maW5kKF9kID0+IF9kWzFdID09PSB0cnVlKVswXTtcbiAgICAgIHRoaXMuZGF0YS5zcGxpY2UoaXgsIDEpO1xuICAgICAgdGhpcy5kaXNwbGF5ZWRfaWRzID0gdGhpcy5kYXRhLm1hcChfZCA9PiBfZC5uYW1lKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy52YXJpYWJsZXMsICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnZhcmlhYmxlcykpO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgaWYgKGQuaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2hpZ2hsaWdodDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMSkge1xuICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXllZF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwLmNvbG9yc1tkLmlkXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbG9yX2NvdW50cmllcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JfZGlzYWJsZWQ7XG4gICAgICB9KTtcbiAgICAvLyAuYXR0cignZmlsbCcsIGQgPT4gKGQuaWQgPT09IHRoaXMuaWRfbXlfcmVnaW9uXG4gICAgLy8gICA/IGNvbG9yX2hpZ2hsaWdodFxuICAgIC8vICAgOiB0aGlzLmN1cnJlbnRfaWRzLmluZGV4T2YoZC5pZCkgPiAtMVxuICAgIC8vICAgICA/ICh0aGlzLmRpc3BsYXllZF9pZHMuaW5kZXhPZihkLmlkKSA+IC0xXG4gICAgLy8gICAgICAgPyBhcHAuY29sb3JzW2QuaWRdIDogY29sb3JfY291bnRyaWVzKSA6IGNvbG9yX2Rpc2FibGVkKSk7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cblxuICBnZXRIZWxwTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gYFxuPGgzPlBvc2l0aW9uICAtIDMgaW5kaWNhdGV1cnM8L2gzPlxuXG48Yj5BaWRlIGfDqW7DqXJhbGU8L2I+XG5cbkNlIGdyYXBoaXF1ZSBjb25zdHJ1aXQgdGVsIMKrIHVuZSBjaWJsZSDCuyBwZXJtZXQgZGUgcmVwcsOpc2VudGVyIGxhIHBvc2l0aW9uIGRlIGzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlIHBvdXIgMyDDoCA4IGluZGljYXRldXJzIHNpbXVsdGFuw6ltZW50LiBMZXMgY2VyY2xlcyBjb25jZW50cmlxdWVzIHF1aSBjb25zdGl0dWVudCBsZSBncmFwaGlxdWUgZXhwcmltZW50IGxlcyBkw6ljaWxlcyBkZSBsYSBkaXN0cmlidXRpb24gcG91ciBjaGFjdW4gZGVzIGluZGljYXRldXJzIHPDqWxlY3Rpb25uw6lzIChwcmVtaWVyIGNlcmNsZSA9IHByZW1pZXIgZMOpY2lsZSwgdmFsZXVycyBtaW5pbWFsZXMgcGFyIGTDqWZhdXQgLyBjZXJjbGUgZXh0w6lyaWV1ciA9IGRlcm5pZXIgZMOpY2lsZSwgdmFsZXVycyBtYXhpbWFsZXMgcGFyIGTDqWZhdXQpLiBMZXMgaW5kaWNhdGV1cnMgcmVwcsOpc2VudMOpcyBzdXIgY2UgZ3JhcGhpcXVlIHNvbnQgZGUgZmFpdCBub3JtYWxpc8OpcyBzZWxvbiBsZXVyIHJhbmcgcmVzcGVjdGlmIGRhbnMgbGEgZGlzdHJpYnV0aW9uIHN0YXRpc3RpcXVlIHBvdXIgY2hhY3VuIGRlcyBpbmRpY2F0ZXVycyA6IDAgY29ycmVzcG9uZGFudCDDoCBsYSB2YWxldXIgbWluaW1hbGUgKDEwMCAlIGRlcyB1bml0w6lzIHRlcnJpdG9yaWFsZXMgZGlzcG9zZW50IGRlIHZhbGV1cnMgcGx1cyBmb3J0ZXMpIGV0IDEwMCBsYSB2YWxldXIgbWF4aW1hbGUgKDEwMCAlIGRlcyB1bml0w6kgdGVycml0b3JpYWxlcyBzb250IGNhcmFjdMOpcmlzw6llcyBwYXIgZGVzIHZhbGV1cnMgbW9pbnMgZm9ydGVzKS5cblxuTGUgY2VyY2xlIHJlcHLDqXNlbnTDqSBlbiB0aXJldMOpIHJvdWdlIHJlcHLDqXNlbnRlIGxhIHZhbGV1ciBtw6lkaWFuZSAoNTApIHBvdXIgbOKAmWVzcGFjZSBk4oCZw6l0dWRlLiBTaSBwb3VyIHVuIGluZGljYXRldXIgbGEgdW5pdMOpIHRlcnJpdG9yaWFsZSBzZSBzaXR1ZSDDoCBs4oCZaW50w6lyaWV1ciBkZSBjZSBjZXJjbGUsIGNlbGEgc2lnbmlmaWUgcXVlIGxhIHZhbGV1ciBwb3VyIGNldCBpbmRpY2F0ZXVyIHNlIHNpdHVlIGVuLWRlc3NvdXMgZGUgbGEgbcOpZGlhbmUgZGUgbOKAmWVzcGFjZSBk4oCZw6l0dWRlLiBTaSBwb3VyIHVuIGF1dHJlIGluZGljYXRldXIgbGEgdW5pdMOpIHRlcnJpdG9yaWFsZSBzZSBzaXR1ZSDDoCBs4oCZZXh0w6lyaWV1ciBkZSBjZSBjZXJjbGUsIGNlbGEgc2lnbmlmaWUgcXVlIGxhIHZhbGV1ciBwb3VyIGNldCBpbmRpY2F0ZXVyIHNlIHNpdHVlIGF1IGRlc3N1cyBkZSBsYSBtw6lkaWFuZSBkZSBs4oCZZXNwYWNlIGTigJnDqXR1ZGUuXG5cbklsIGVzdCBwb3NzaWJsZSBkZSBjbGlxdWVyIHN1ciBsYSBjYXJ0ZSBwb3VyIHZpc3VhbGlzZXIgbGUgcG9zaXRpb25uZW1lbnQgZOKAmWF1dHJlcyB1bml0w6lzIHRlcnJpdG9yaWFsZXMgcGFyIHJhcHBvcnQgw6AgbOKAmXVuaXTDqSB0ZXJyaXRvcmlhbGUgZGUgcsOpZsOpcmVuY2UuIElsIGVzdCBkw6ljb25zZWlsbMOpIGRlIHJlcHLDqXNlbnRlciBzaW11bHRhbsOpbWVudCBwbHVzIGRlIDMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzIHN1ciBsZSBtw6ptZSBncmFwaGlxdWUsIGF1IHJpc3F1ZSBkZSByZW5kcmUgc2EgbGVjdHVyZSBhbMOpYXRvaXJlLlxuXG5DZSBu4oCZZXN0IHBhcyB0YW50IGxhIGZvcm1lIGNyw6nDqWUgc3VyIGNlIGdyYXBoaXF1ZSBxdeKAmWlsIGZhdXQgYW5hbHlzZXIgKGxhIGZvcm1lIGTDqXBlbmQgbGFyZ2VtZW50IGRlIGxhIHBvc2l0aW9uIGRlcyBpbmRpY2F0ZXVycyBzdXIgbGUgZ3JhcGhpcXVlLCBhbMOpYXRvaXJlIHBhciBkw6lmaW5pdGlvbikgcXVlIGxhIHBvc2l0aW9uIGF1IHJlZ2FyZCBkZSBs4oCZZXNwYWNlIGRlIHLDqWbDqXJlbmNlIG91IGTigJlhdXRyZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzIHPDqWxlY3Rpb25uw6llcyBzdXIgbGUgZ3JhcGhpcXVlLiBM4oCZdXRpbGlzYXRldXIgcGV1dCBkw6hzIGxvcnMgaW52ZXJzZXIgbGUgc2VucyBkdSBjbGFzc2VtZW50IChjbGljIGRyb2l0IHN1ciBsZSBsYWJlbCBkZSBs4oCZaW5kaWNhdGV1ciwgYWRhcHTDqSBwb3VyIGRlcyBpbmRpY2F0ZXVycyBjb21tZSBsZSB0YXV4IGRlIGNow7RtYWdlIG91IHVuIHRhdXggw6lsZXbDqSBuZSBzaWduaWZpZSBwYXMgZm9yY8OpbWVudCB1bmUgc2l0dWF0aW9uIGZhdm9yYWJsZSkgb3UgcGV1dCBpbnZlcnNlciBs4oCZb3JkcmUgZOKAmWFwcGFyaXRpb24gZGVzIHZhcmlhYmxlcyBzdXIgbGUgZ3JhcGhpcXVlIChjbGljIGdhdWNoZSkgc2kgbOKAmW9uIHNvdWhhaXRlIHBhciBleGVtcGxlIHJhcHByb2NoZXIgZGVzIGluZGljYXRldXJzIGRlIG3Dqm1lIHRow6ltYXRpcXVlIGPDtHRlIMOgIGPDtHRlLmA7XG4gIH1cblxuICBnZXRUZW1wbGF0ZUhlbHAoKSB7XG4gICAgY29uc3QgaW5mb192YXIgPSB7fTtcbiAgICB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICBpbmZvX3ZhcltpICsgMV0gPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LmlkID09PSB2KTtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgIGNvbnN0IG5hbWVfc3R1ZHlfem9uZSA9ICFhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleVxuICAgICAgPyAnVUUyOCcgOiBhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgID8gWydSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKS52YWx1ZSwgJ2ttJ10uam9pbignJylcbiAgICAgICAgOiBzdHVkeV96b25lcy5maW5kKGQgPT4gZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkpLm5hbWU7XG4gICAgY29uc3QgaGVscDEgPSBbXTtcbiAgICB0aGlzLnZhcmlhYmxlcy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICBoZWxwMS5wdXNoKGA8Yj5JbmRpY2F0ZXVyICR7aSArIDF9PC9iPiA6ICR7aW5mb192YXJbaSArIDFdLm5hbWV9ICgke2luZm9fdmFyW2kgKyAxXS5pZH0pPGJyPmApO1xuICAgIH0pO1xuICAgIGhlbHAxLnB1c2goYDxiPk1haWxsYWdlIHRlcnJpdG9yaWFsIGQnYW5hbHlzZTwvYj4gOiAke3RlcnJpdG9yaWFsX21lc2guZmluZChkID0+IGQuaWQgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsKS5uYW1lfTxicj5gKTtcbiAgICBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLm15X2NhdGVnb3J5KSB7XG4gICAgICBoZWxwMS5wdXNoKFxuICAgICAgICBgPGI+RXNwYWNlIGQnw6l0dWRlPC9iPiA6ICR7YXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXl9PGJyPjxiPkNhdMOpZ29yaWU8L2I+IDogJHthcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnl9YCk7XG4gICAgfSBlbHNlIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSkge1xuICAgICAgaGVscDEucHVzaChcbiAgICAgICAgYDxiPkVzcGFjZSBkJ8OpdHVkZTwvYj4gOiBVRTI4IChSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAke2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnZhbHVlfSBrbSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVscDEucHVzaCggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHF1b3Rlc1xuICAgICAgICBgPGI+RXNwYWNlIGQnw6l0dWRlPC9iPiA6IFVFMjhgKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWxwMiA9IFtgJHt0aGlzLnZhcmlhYmxlcy5sZW5ndGh9IGluZGljYXRldXJzIHNvbnQgc2ltdWx0YW7DqW1lbnQgcmVwcsOpc2VudMOpcyBzdXIgY2UgZ3JhcGhpcXVlLmBdO1xuLy8gYFBvdXIgbOKAmWVzcGFjZSBk4oCZw6l0dWRlICR7bmFtZV9zdHVkeV96b25lfSwgbOKAmXVuaXTDqSB0ZXJyaXRvcmlhbGUgJHthcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uX3ByZXR0eV9uYW1lfSBzZSBwb3NpdGlvbm5lIGF1LWRlc3N1cyBkZSBsYSB2YWxldXIgbcOpZGlhbmUgKDUwKSBwb3VyIGxlcyBpbmRpY2F0ZXVycyBzdWl2YW50cyAocG9zaXRpb24gcGx1cyBmYXZvcmFibGUpIDpcbi8vIDxOb20gZGUgbOKAmWluZGljYXRldXIgMT4sIGluZGljZSA8dmFsZXVyIG5vcm1hbGlzw6llIDE+LCB2YWxldXIgPHZhbGV1ciBicnV0ZSAxPsKgPHVuaXTDqSBkZSBtZXN1cmUgMT47XG4vLyA8wqBOb20gZGUgbOKAmWluZGljYXRldXIgbj7CoCwgaW5kaWNlIDx2YWxldXIgbm9ybWFsaXPDqWUgbj4sIHZhbGV1ciA8dmFsZXVyIGJydXRlIG4+PHVuaXTDqSBkZSBtZXN1cmUgbj7CoDtcbi8vIENldHRlIHVuaXTDqSB0ZXJyaXRvcmlhbGUgc2UgcG9zaXRpb25uZSBzb3VzIGxhIHZhbGV1ciBtw6lkaWFuZSBwb3VyIGxlcyBpbmRpY2F0ZXVycyBzdWl2YW50c8KgOlxuLy8gPE5vbSBkZSBs4oCZaW5kaWNhdGV1ciB5PiwgaW5kaWNlIDx2YWxldXIgbm9ybWFsaXPDqWUgeT4sIHZhbGV1ciA8dmFsZXVyIGJydXRlIHk+PHVuaXTDqSBkZSBtZXN1cmUgeT5cbi8vIFNpIHPDqWxlY3Rpb24gZOKAmXVuaXTDqXMgdGVycml0b3JpYWxlcyBzdXBwbMOpbWVudGFpcmVzLCByw6lww6l0ZXIgbOKAmW9ww6lyYXRpb24gZW4gZm9uY3Rpb24gZHUgbm9tYnJlIGRlIHVuaXTDqSB0ZXJyaXRvcmlhbGVzIHPDqWxlY3Rpb25uw6llcy5cbi8vIEVuIGNvbXBhcmFpc29uIMOgIGzigJl1bml0w6kgdGVycml0b3JpYWxlIDxub20gZGUgbOKAmXVuaXTDqSB0ZXJyaXRvcmlhbGUgc8OpbGVjdGlvbm7DqWU+ICg8cGF5cyBk4oCZYXBwYXJ0ZW5hbmNlPiksIGzigJl1bml0w6kgdGVycml0b3JpYWxlIDxub20gZGUgdW5pdMOpIHRlcnJpdG9yaWFsZSBkZSByw6lmw6lyZW5jZT4gZXN0IGNhcmFjdMOpcmlzw6llIHBhciBkZXMgaW5kaWNlcyBub3JtYWxpc8OpcyBwbHVzIGltcG9ydGFudHMgcG91ciBsZXMgaW5kaWNhdGV1cnMgc3VpdmFudHPCoDpcbi8vIDxOb20gZGUgbOKAmWluZGljYXRldXIgMT4sICg8w6ljYXJ0IGRlIHBvaW50cyBub3JtYWxpc8OpcyBkdSBwbHVzIGdyYW5kIGF1IHBsdXMgcGV0aXQ+KS5cbi8vIEV0Yy5cbi8vIEludmVyc2VtZW50LCBs4oCZdW5pdMOpIHRlcnJpdG9yaWFsZSA8bm9tIGRlIGzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlPiBlc3QgY2FyYWN0w6lyaXPDqWUgcGFyIGRlcyBzY29yZXMgbW9pbnMgaW1wb3J0YW50cyBwb3VyIGNlcyBpbmRpY2F0ZXVyc8KgXG4vLyBgO1xuXG4gICAgbGV0IHNvdXJjZSA9IFtdO1xuICAgIHRoaXMudmFyaWFibGVzLm1hcCgodiwgaSkgPT5cbiAgICAgIGA8Yj5JbmRpY2F0ZXVyICR7aSArIDF9PC9iPiA6ICR7aW5mb192YXJbaSArIDFdLnNvdXJjZX0gKERhdGUgZGUgdMOpbMOpY2hhcmdlbWVudCBkZSBsYSBkb25uw6llIDogJHtpbmZvX3ZhcltpICsgMV0udXBkYXRlfSlgKTtcbiAgICBzb3VyY2UgPSBzb3VyY2Uuam9pbignPGJyPicpO1xuICAgIHJldHVybiB7IHNlY3Rpb25fc2VsZWN0aW9uOiBoZWxwMS5qb2luKCcnKSwgc2VjdGlvbl9oZWxwOiBoZWxwMi5qb2luKCcnKSwgc2VjdGlvbl9zb3VyY2U6IHNvdXJjZSB9O1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wLCBtYXRoX3JvdW5kLCBtYXRoX2FicywgbWF0aF9zcXJ0LCBtYXRoX3BvdywgbWF0aF9tYXgsIFByb3BTaXplciwgcHJlcGFyZVRvb2x0aXAyLCBnZXRNZWFuLCBnZXRTdGREZXYsIFRvb2x0aXBzaWZ5LCBmb3JtYXROdW1iZXIsIG5vQ29udGV4dE1lbnUgfSBmcm9tICcuLy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgY29sb3JfZGlzYWJsZWQsIGNvbG9yX2NvdW50cmllcywgY29sb3JfZGVmYXVsdF9kaXNzaW0sIGNvbG9yX2hpZ2hsaWdodCwgZml4ZWRfZGltZW5zaW9uIH0gZnJvbSAnLi8uLi9vcHRpb25zJztcbmltcG9ydCB7IGNhbGNQb3BDb21wbGV0dWRlU3Vic2V0LCBjYWxjQ29tcGxldHVkZVN1YnNldCB9IGZyb20gJy4vLi4vcHJlcGFyZV9kYXRhJztcbmltcG9ydCB7IGFwcCwgcmVzZXRDb2xvcnMsIHZhcmlhYmxlc19pbmZvIH0gZnJvbSAnLi8uLi8uLi9tYWluJztcbmltcG9ydCBUYWJsZVJlc3VtZVN0YXQgZnJvbSAnLi8uLi90YWJsZVJlc3VtZVN0YXQnO1xuaW1wb3J0IENvbXBsZXR1ZGVTZWN0aW9uIGZyb20gJy4vLi4vY29tcGxldHVkZSc7XG5cbmxldCBzdmdfYmFyO1xubGV0IG1hcmdpbjtcbmxldCB3aWR0aDtcbmxldCBoZWlnaHQ7XG5sZXQgc3ZnX2NvbnRhaW5lcjtcbmxldCB0O1xuXG5jb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICBzdmdfYmFyID0gZDMuc2VsZWN0KCdzdmcjc3ZnX2JhcicpLm9uKCdjb250ZXh0bWVudScsIG5vQ29udGV4dE1lbnUpO1xuICBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA0MCwgbGVmdDogNTAgfTtcbiAgd2lkdGggPSBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgaGVpZ2h0ID0gZml4ZWRfZGltZW5zaW9uLmNoYXJ0LmhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICBjb25zdCB3aWR0aF92YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICogMC45ODtcbiAgZDMuc2VsZWN0KCcuY29udF9zdmcuY2NoYXJ0Jykuc3R5bGUoJ3BhZGRpbmctdG9wJywgYCR7KGZpeGVkX2RpbWVuc2lvbi5jaGFydC5oZWlnaHQgLyBmaXhlZF9kaW1lbnNpb24uY2hhcnQud2lkdGgpICogd2lkdGhfdmFsdWV9cHhgKTtcbiAgc3ZnX2NvbnRhaW5lciA9IHN2Z19iYXIuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1pbGFyaXR5MXBsdXMge1xuICBjb25zdHJ1Y3RvcihyZWZfZGF0YSkge1xuICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAvLyBTZXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlcyB0byBrZWVwIHNlbGVjdGVkIGZvciB0aGlzIGtpbmQgb2YgY2hhcnQ6XG4gICAgYXBwLmN1cnJlbnRfY29uZmlnLm5iX3ZhciA9IDE7XG4gICAgdGhpcy5yYXRpb3MgPSBhcHAuY3VycmVudF9jb25maWcucmF0aW87XG4gICAgdGhpcy5udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bTtcbiAgICB0aGlzLmRhdGEgPSByZWZfZGF0YS5maWx0ZXIoZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgcmVzZXRDb2xvcnMoKTtcbiAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLnNlcmllX2ludmVyc2VkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wb3J0aW9ubmFsX3N5bWJvbHMgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdfZ3JvdXAgPSBzdmdfY29udGFpbmVyXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWApO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgdG9vbHRpcCBkaXNwbGF5ZWQgb24gbW91c2VvdmVyOlxuICAgIHRoaXMudG9vbHRpcCA9IHByZXBhcmVUb29sdGlwMihkMy5zZWxlY3Qoc3ZnX2Jhci5ub2RlKCkucGFyZW50RWxlbWVudCksIG51bGwpO1xuXG4gICAgdGhpcy5jb21wbGV0dWRlID0gbmV3IENvbXBsZXR1ZGVTZWN0aW9uKCk7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy5yYXRpb3MsICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnJhdGlvcykpO1xuXG4gICAgLy8gVG8gZGVjaWRlIHdldGhlciB0byBpbnZlcnNlIHRoZSBwb3NpdGl2ZS9uZWdhdGl2ZSBjb2xvciBmb3IgYW4gYXhpc1xuICAgIHRoaXMuaW52ZXJzZWRBeGlzID0gbmV3IFNldCgpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGlucHV0IGVsZW1lbnQgYWxsb3dpbmcgdG8gY2hvc2VcbiAgICAvLyBob3cgbWFueSBcImNsb3NlXCIgcmVnaW9ucyB3ZSB3YW50IHRvIGhpZ2hsaWdodC5cbiAgICBjb25zdCBtZW51X3NlbGVjdGlvbiA9IGQzLnNlbGVjdCgnI2Jhcl9zZWN0aW9uJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCAnbWVudV9zZWxlY3Rpb24nKVxuICAgICAgLnN0eWxlcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBjb2xvcjogJyM0ZjgxYmQnLCAndGV4dC1hbGlnbic6ICdjZW50ZXInIH0pO1xuICAgIGNvbnN0IHNlbGVjdGlvbl9jbG9zZSA9IG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgncCcpLmF0dHIoJ2NsYXNzJywgJ3NlbGVjdGlvbl9kaXNwbGF5Jyk7XG4gICAgc2VsZWN0aW9uX2Nsb3NlLmFwcGVuZCgnc3BhbicpXG4gICAgICAuaHRtbCgnU8OpbGVjdGlvbiBkZXMnKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdpbnB1dCcpXG4gICAgICAuYXR0cnMoeyBjbGFzczogJ25iX3NlbGVjdCcsIHR5cGU6ICdudW1iZXInIH0pXG4gICAgICAuc3R5bGVzKHsgY29sb3I6ICcjNGY4MWJkJywgJ21hcmdpbi1sZWZ0JzogJzFweCcgfSlcbiAgICAgIC5wcm9wZXJ0eSgndmFsdWUnLCAxKTtcbiAgICBzZWxlY3Rpb25fY2xvc2UuYXBwZW5kKCdzcGFuJylcbiAgICAgIC5odG1sKCdyw6lnaW9ucyBsZXMgcGx1cyBwcm9jaGVzJyk7XG4gICAgY29uc3Qgc2VjdGlvbiA9IG1lbnVfc2VsZWN0aW9uLmFwcGVuZCgnc2VjdGlvbicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnc2xpZGVyLWNoZWNrYm94Jyk7XG4gICAgc2VjdGlvbi5hcHBlbmQoJ2lucHV0JylcbiAgICAgIC5hdHRycyh7IHR5cGU6ICdjaGVja2JveCcsIGlkOiAnY2hlY2tfcHJvcCcgfSk7XG4gICAgc2VjdGlvbi5hcHBlbmQoJ2xhYmVsJylcbiAgICAgIC5hdHRycyh7IGNsYXNzOiAnbGFiZWwgbm90X3NlbGVjdGVkIG5vc2VsZWN0JywgZm9yOiAnY2hlY2tfcHJvcCcgfSlcbiAgICAgIC50ZXh0KCdDZXJjbGVzIHByb3BvcnRpb25uZWxzIGF1IG51bcOpcmF0ZXVyJyk7XG5cbiAgICB0aGlzLmJpbmRNZW51KCk7XG4gICAgdGhpcy5tYWtlVGFibGVTdGF0KCk7XG4gIH1cblxuICBhcHBseVNlbGVjdGlvbihuYikge1xuICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGZ0LmRpc3QgPSBtYXRoX3NxcnQodGhpcy5yYXRpb3MubWFwKHYgPT4gYGRpc3RfJHt2fWApXG4gICAgICAgICAgLm1hcCh2ID0+IG1hdGhfcG93KGZ0W3ZdLCAyKSkucmVkdWNlKChhLCBiKSA9PiBhICsgYikpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRhdGEuc29ydCgoYSwgYikgPT4gYS5kaXN0IC0gYi5kaXN0KTtcbiAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKChlbCwgaSkgPT4geyBlbC5nbG9iYWxyYW5rID0gaTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuZGF0YS5zbGljZSgxLCBuYiArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodF9zZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBkYXRhID0gc2VsZi5kYXRhO1xuICAgIGNvbnN0IGhpZ2hsaWdodF9zZWxlY3Rpb24gPSBzZWxmLmhpZ2hsaWdodF9zZWxlY3Rpb247XG4gICAgY29uc3QgbmJfdmFyaWFibGVzID0gc2VsZi5yYXRpb3MubGVuZ3RoO1xuICAgIGNvbnN0IG9mZnNldCA9IGhlaWdodCAvIG5iX3ZhcmlhYmxlcyArIDE7XG4gICAgbGV0IGhlaWdodF90b191c2UgPSBvZmZzZXQgLyAyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJfdmFyaWFibGVzOyBpKyspIHtcbiAgICAgIGNvbnN0IHJhdGlvX25hbWUgPSBzZWxmLnJhdGlvc1tpXTtcbiAgICAgIGNvbnN0IHNlbGVjdG9yX3JhdGlvX25hbWUgPSBgbF8ke3JhdGlvX25hbWV9YDtcbiAgICAgIGNvbnN0IHJhdGlvX3ByZXR0eV9uYW1lID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvX3ByZXR0eV9uYW1lW2ldO1xuICAgICAgY29uc3QgbnVtX25hbWUgPSBzZWxmLm51bXNbaV07XG4gICAgICBjb25zdCBteV9yZWdpb25fdmFsdWUgPSBzZWxmLm15X3JlZ2lvbltyYXRpb19uYW1lXTtcbiAgICAgIGxldCBnID0gdGhpcy5kcmF3X2dyb3VwLnNlbGVjdChgIyR7c2VsZWN0b3JfcmF0aW9fbmFtZX1gKTtcbiAgICAgIGxldCBheGlzID0gdGhpcy5kcmF3X2dyb3VwLnNlbGVjdChgZy5heGlzLS14LiR7c2VsZWN0b3JfcmF0aW9fbmFtZX1gKTtcbiAgICAgIGxldCBsYXllcl9vdGhlcjtcbiAgICAgIGxldCBsYXllcl9oaWdobGlnaHRlZDtcbiAgICAgIGxldCBsYXllcl90b3A7XG4gICAgICBpZiAoIWcubm9kZSgpKSB7XG4gICAgICAgIGcgPSB0aGlzLmRyYXdfZ3JvdXBcbiAgICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgaWQ6IHNlbGVjdG9yX3JhdGlvX25hbWUsXG4gICAgICAgICAgICBudW06IG51bV9uYW1lLFxuICAgICAgICAgICAgY2xhc3M6ICdncnBfdmFyJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgYXhpcyA9IGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAuYXR0cnMoe1xuICAgICAgICAgICAgY2xhc3M6IGBheGlzIGF4aXMtLXggJHtzZWxlY3Rvcl9yYXRpb19uYW1lfWAsXG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgMTApJyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICBnLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIC8vIHg6IDAsXG4gICAgICAgICAgICB4OiAyMCxcbiAgICAgICAgICAgIHk6IC03LjUsXG4gICAgICAgICAgICBjbGFzczogYHRpdGxlX2F4aXMgJHtzZWxlY3Rvcl9yYXRpb19uYW1lfSBub3NlbGVjdGAsXG4gICAgICAgICAgICBmaWxsOiAnIzRmODFiZCcsXG4gICAgICAgICAgICAnZm9udC1zaXplJzogJzExcHgnLFxuICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiU2lnbmlrYVwiLHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgJ3RpdGxlLXRvb2x0aXAnOiByYXRpb19wcmV0dHlfbmFtZSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50ZXh0KHJhdGlvX25hbWUpO1xuXG4gICAgICAgIGcuYXBwZW5kKCdpbWFnZScpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAvLyB4OiB0eHQubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgNSxcbiAgICAgICAgICAgIHk6IC0xOCxcbiAgICAgICAgICAgIHdpZHRoOiAxNCxcbiAgICAgICAgICAgIGhlaWdodDogMTQsXG4gICAgICAgICAgICAneGxpbms6aHJlZic6ICdpbWcvcmV2ZXJzZV9wbHVzLnBuZycsXG4gICAgICAgICAgICBpZDogJ2ltZ19yZXZlcnNlJyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zdHlsZSgnY3Vyc29yJywgJ3BvaW50ZXInKVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pbnZlcnNlZEF4aXMuaGFzKHJhdGlvX25hbWUpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZDMubmFtZXNwYWNlcy54bGluaywgJ3hsaW5rOmhyZWYnLCAnaW1nL3JldmVyc2VfcGx1cy5wbmcnKTtcbiAgICAgICAgICAgICAgY29uc3QgdGl0bGVfYXggPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgICAgdGl0bGVfYXguc2V0QXR0cmlidXRlKCd0aXRsZS10b29sdGlwJywgcmF0aW9fcHJldHR5X25hbWUpO1xuICAgICAgICAgICAgICB0aXRsZV9heC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzRmODFiZCcpO1xuICAgICAgICAgICAgICBzZWxmLmludmVyc2VkQXhpcy5kZWxldGUocmF0aW9fbmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGQzLm5hbWVzcGFjZXMueGxpbmssICd4bGluazpocmVmJywgJ2ltZy9yZXZlcnNlX21vaW5zLnBuZycpO1xuICAgICAgICAgICAgICBzZWxmLmludmVyc2VkQXhpcy5hZGQocmF0aW9fbmFtZSk7XG4gICAgICAgICAgICAgIGNvbnN0IHRpdGxlX2F4ID0gdGhpcy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICAgIHRpdGxlX2F4LnNldEF0dHJpYnV0ZSgndGl0bGUtdG9vbHRpcCcsIGAke3JhdGlvX3ByZXR0eV9uYW1lfSAoYXhlIGludmVyc8OpKWApO1xuICAgICAgICAgICAgICB0aXRsZV9heC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAncmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGcuYXBwZW5kKCdpbWFnZScpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIC8vIHg6IHR4dC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyMi41LFxuICAgICAgICAgICAgeDogLTE5LFxuICAgICAgICAgICAgeTogLTYsXG4gICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL1VwLUFycm93LnN2ZycsXG4gICAgICAgICAgICBpZDogJ3VwX2Fycm93JyxcbiAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlciBsXFwnb3JkcmUgZGVzIGF4ZXMgKHZlcnMgbGUgaGF1dCknLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnN0eWxlKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXNoYWRvdycpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKCdtb3VzZXVwIG1vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1zaGFkb3cnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0aGF0X3JhdGlvID0gdGhpcy5wYXJlbnRFbGVtZW50LmlkLnNsaWNlKDIpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudF9wb3NpdGlvbiA9IHNlbGYucmF0aW9zLmluZGV4T2YodGhhdF9yYXRpbyk7XG4gICAgICAgICAgICBpZiAoY3VycmVudF9wb3NpdGlvbiA9PT0gMCkgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHNlbGYucmF0aW9zLnNwbGljZShjdXJyZW50X3Bvc2l0aW9uLCAxKTtcbiAgICAgICAgICAgIHNlbGYucmF0aW9zLnNwbGljZShjdXJyZW50X3Bvc2l0aW9uIC0gMSwgMCwgdGhhdF9yYXRpbyk7XG4gICAgICAgICAgICBzZWxmLnJlbW92ZUxpbmVzKCk7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGcuYXBwZW5kKCdpbWFnZScpXG4gICAgICAgICAgLmF0dHJzKHtcbiAgICAgICAgICAgIC8vIHg6IHR4dC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAyMi41LFxuICAgICAgICAgICAgeDogLTE5LFxuICAgICAgICAgICAgeTogMTMsXG4gICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnaW1nL0Rvd24tQXJyb3cuc3ZnJyxcbiAgICAgICAgICAgIGlkOiAnZG93bl9hcnJvdycsXG4gICAgICAgICAgICB0aXRsZTogJ0NoYW5nZXIgbFxcJ29yZHJlIGRlcyBheGVzICh2ZXJzIGxlIGJhcyknLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnN0eWxlKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXNoYWRvdycpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9uKCdtb3VzZXVwIG1vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1zaGFkb3cnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0aGF0X3JhdGlvID0gdGhpcy5wYXJlbnRFbGVtZW50LmlkLnNsaWNlKDIpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudF9wb3NpdGlvbiA9IHNlbGYucmF0aW9zLmluZGV4T2YodGhhdF9yYXRpbyk7XG4gICAgICAgICAgICBpZiAoY3VycmVudF9wb3NpdGlvbiA9PT0gc2VsZi5yYXRpb3MubGVuZ3RoKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgc2VsZi5yYXRpb3Muc3BsaWNlKGN1cnJlbnRfcG9zaXRpb24sIDEpO1xuICAgICAgICAgICAgc2VsZi5yYXRpb3Muc3BsaWNlKGN1cnJlbnRfcG9zaXRpb24gKyAxLCAwLCB0aGF0X3JhdGlvKTtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlTGluZXMoKTtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgbGF5ZXJfb3RoZXIgPSBnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ290aGVyZmVhdHVyZScpO1xuICAgICAgICBsYXllcl9oaWdobGlnaHRlZCA9IGcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgbGF5ZXJfdG9wID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICd0b3AnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyX290aGVyID0gZy5zZWxlY3QoJ2cub3RoZXJmZWF0dXJlJyk7XG4gICAgICAgIGxheWVyX2hpZ2hsaWdodGVkID0gZy5zZWxlY3QoJ2cuaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgbGF5ZXJfdG9wID0gZy5zZWxlY3QoJ2cudG9wJyk7XG4gICAgICB9XG4gICAgICAvLyBnLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwgJHtoZWlnaHRfdG9fdXNlfSlgKTtcbiAgICAgIGNvbnN0IF90cmFucyA9IHRoaXMuZHJhd19ncm91cC5zZWxlY3QoYCMke3NlbGVjdG9yX3JhdGlvX25hbWV9YClcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMjI1KTtcbiAgICAgIGcgPSB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGAjJHtzZWxlY3Rvcl9yYXRpb19uYW1lfWApXG4gICAgICAgIC50cmFuc2l0aW9uKF90cmFucylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwgJHtoZWlnaHRfdG9fdXNlfSlgKTtcbiAgICAgIGcuc2VsZWN0KCcjdXBfYXJyb3cnKVxuICAgICAgICAvLyAudHJhbnNpdGlvbihfdHJhbnMpXG4gICAgICAgIC5zdHlsZSgnZGlzcGxheScsIGkgPT09IDAgPyAnbm9uZScgOiAnJyk7XG4gICAgICBnLnNlbGVjdCgnI2Rvd25fYXJyb3cnKVxuICAgICAgICAvLyAudHJhbnNpdGlvbihfdHJhbnMpXG4gICAgICAgIC5zdHlsZSgnZGlzcGxheScsIGkgPT09IG5iX3ZhcmlhYmxlcyAtIDEgPyAnbm9uZScgOiAnJyk7XG4gICAgICBsZXQgX21pbjtcbiAgICAgIGxldCBfbWF4O1xuICAgICAgdGhpcy5kYXRhLnNvcnQoKGEsIGIpID0+IGJbYGRpc3RfJHtyYXRpb19uYW1lfWBdIC0gYVtgZGlzdF8ke3JhdGlvX25hbWV9YF0pO1xuICAgICAgdGhpcy5kYXRhLmZvckVhY2goKGZ0LCBfaXgpID0+IHtcbiAgICAgICAgZnRbYHJhbmtfJHtyYXRpb19uYW1lfWBdID0gX2l4OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGF0YS5zcGxpY2UodGhpcy5kYXRhLmluZGV4T2YodGhpcy5teV9yZWdpb24pLCAxKTtcbiAgICAgIHRoaXMuZGF0YS5wdXNoKHRoaXMubXlfcmVnaW9uKTtcbiAgICAgIGlmIChoaWdobGlnaHRfc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZGlzdF9heGlzID0gbWF0aF9tYXgoXG4gICAgICAgICAgbWF0aF9hYnMobXlfcmVnaW9uX3ZhbHVlIC0gK2QzLm1pbihoaWdobGlnaHRfc2VsZWN0aW9uLCBkID0+IGRbcmF0aW9fbmFtZV0pKSxcbiAgICAgICAgICBtYXRoX2FicygrZDMubWF4KGhpZ2hsaWdodF9zZWxlY3Rpb24sIGQgPT4gZFtyYXRpb19uYW1lXSkgLSBteV9yZWdpb25fdmFsdWUpKTtcbiAgICAgICAgY29uc3QgbWFyZ2luX21pbl9tYXggPSBtYXRoX3JvdW5kKGRpc3RfYXhpcykgLyA4O1xuICAgICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICAgICAgaWYgKF9taW4gPT09IF9tYXgpIHtcbiAgICAgICAgICBjb25zdCBfZGlzdF9heGlzID0gKChcbiAgICAgICAgICAgIG15X3JlZ2lvbl92YWx1ZSArIHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMl1bcmF0aW9fbmFtZV0pXG4gICAgICAgICAgICAtIChteV9yZWdpb25fdmFsdWUgLSB0aGlzLmRhdGFbdGhpcy5kYXRhLmxlbmd0aCAtIDJdW3JhdGlvX25hbWVdKSkgLyAyO1xuICAgICAgICAgIF9taW4gPSBteV9yZWdpb25fdmFsdWUgLSBfZGlzdF9heGlzIC0gX2Rpc3RfYXhpcyAvIDg7XG4gICAgICAgICAgX21heCA9IG15X3JlZ2lvbl92YWx1ZSArIF9kaXN0X2F4aXMgKyBfZGlzdF9heGlzIC8gODtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmF0aW9fdmFsdWVzID0gdGhpcy5kYXRhLm1hcChkID0+IGRbcmF0aW9fbmFtZV0pO1xuICAgICAgICBjb25zdCBkaXN0X2F4aXMgPSBtYXRoX21heChcbiAgICAgICAgICBtYXRoX2FicyhteV9yZWdpb25fdmFsdWUgLSBkMy5taW4ocmF0aW9fdmFsdWVzKSksXG4gICAgICAgICAgbWF0aF9hYnMoZDMubWF4KHJhdGlvX3ZhbHVlcykgLSBteV9yZWdpb25fdmFsdWUpKTtcbiAgICAgICAgY29uc3QgbWFyZ2luX21pbl9tYXggPSBtYXRoX3JvdW5kKGRpc3RfYXhpcykgLyA4O1xuICAgICAgICBfbWluID0gbXlfcmVnaW9uX3ZhbHVlIC0gZGlzdF9heGlzIC0gbWFyZ2luX21pbl9tYXg7XG4gICAgICAgIF9tYXggPSBteV9yZWdpb25fdmFsdWUgKyBkaXN0X2F4aXMgKyBtYXJnaW5fbWluX21heDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGFwcC5jb2xvcnNbZWxlbS5pZF0gPSBjb21wKFxuICAgICAgICAgIGVsZW1bcmF0aW9fbmFtZV0sIG15X3JlZ2lvbl92YWx1ZSwgIXNlbGYuaW52ZXJzZWRBeGlzLmhhcyhyYXRpb19uYW1lKSk7XG4gICAgICB9KTtcblxuICAgICAgYXBwLmNvbG9yc1thcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uXSA9IGNvbG9yX2hpZ2hsaWdodDtcblxuICAgICAgY29uc3Qgc2l6ZV9mdW5jID0gdGhpcy5wcm9wb3J0aW9ubmFsX3N5bWJvbHNcbiAgICAgICAgPyBuZXcgUHJvcFNpemVyKGQzLm1heChkYXRhLCBkID0+IGRbbnVtX25hbWVdKSwgMzMpLnNjYWxlXG4gICAgICAgIDogKCkgPT4gNy41O1xuICAgICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAuZG9tYWluKFtfbWluLCBfbWF4XSlcbiAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG4gICAgICBheGlzXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDEyNSlcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4U2NhbGUpLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKSk7XG5cbiAgICAgIGNvbnN0IGJ1YmJsZXMxID0gbGF5ZXJfb3RoZXIuc2VsZWN0QWxsKCcuYnViYmxlJylcbiAgICAgICAgLmRhdGEoZGF0YS5maWx0ZXIoZCA9PiBhcHAuY29sb3JzW2QuaWRdID09PSB1bmRlZmluZWQpLCBkID0+IGQuaWQpO1xuXG4gICAgICBidWJibGVzMVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fbmFtZV0pO1xuICAgICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsb2JhbHJhbms6IGQuZ2xvYmFscmFuayxcbiAgICAgICAgICAgIGN4OiB4X3ZhbHVlLFxuICAgICAgICAgICAgY3k6IDEwLFxuICAgICAgICAgICAgcjogc2l6ZV9mdW5jKGRbbnVtX25hbWVdKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICBmaWxsOiBjb2xvcl9jb3VudHJpZXMsXG4gICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IDAuMSxcbiAgICAgICAgICBzdHJva2U6ICdkYXJrZ3JheScsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuNzUsXG4gICAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogMC43NSxcbiAgICAgICAgfSk7XG5cbiAgICAgIGJ1YmJsZXMxXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5pbnNlcnQoJ2NpcmNsZScpXG4gICAgICAgIC5zdHlsZXMoe1xuICAgICAgICAgIGZpbGw6IGNvbG9yX2NvdW50cmllcyxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC4xLFxuICAgICAgICAgIHN0cm9rZTogJ2RhcmtncmF5JyxcbiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMC43NSxcbiAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgICB9KVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fbmFtZV0pO1xuICAgICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsb2JhbHJhbms6IGQuZ2xvYmFscmFuayxcbiAgICAgICAgICAgIGlkOiBkLmlkLFxuICAgICAgICAgICAgY2xhc3M6ICdidWJibGUnLFxuICAgICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgICBjeTogMTAsXG4gICAgICAgICAgICByOiBzaXplX2Z1bmMoZFtudW1fbmFtZV0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBidWJibGVzMS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIGNvbnN0IGJ1YmJsZXMyID0gbGF5ZXJfaGlnaGxpZ2h0ZWQuc2VsZWN0QWxsKCcuYnViYmxlJylcbiAgICAgICAgLmRhdGEoXG4gICAgICAgICAgZGF0YS5maWx0ZXIoZCA9PiBkLmlkICE9PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uICYmIGFwcC5jb2xvcnNbZC5pZF0gIT09IHVuZGVmaW5lZCksXG4gICAgICAgICAgZCA9PiBkLmlkKTtcblxuICAgICAgYnViYmxlczJcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX25hbWVdKTtcbiAgICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbG9iYWxyYW5rOiBkLmdsb2JhbHJhbmssXG4gICAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICAgIGN5OiAxMCxcbiAgICAgICAgICAgIHI6IHNpemVfZnVuYyhkW251bV9uYW1lXSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiAwLjcsXG4gICAgICAgICAgc3Ryb2tlOiAnZGFya2dyYXknLFxuICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAwLjc1LFxuICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDAuNzUsXG4gICAgICAgIH0pKTtcblxuICAgICAgYnViYmxlczJcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmluc2VydCgnY2lyY2xlJylcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/IDEgOiAwLjcsXG4gICAgICAgICAgc3Ryb2tlOiAnZGFya2dyYXknLFxuICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAwLjc1LFxuICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDAuNzUsXG4gICAgICAgIH0pKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigxMjUpXG4gICAgICAgIC5hdHRycygoZCkgPT4ge1xuICAgICAgICAgIGxldCB4X3ZhbHVlID0geFNjYWxlKGRbcmF0aW9fbmFtZV0pO1xuICAgICAgICAgIGlmICh4X3ZhbHVlID4gd2lkdGgpIHhfdmFsdWUgPSB3aWR0aCArIDIwMDtcbiAgICAgICAgICBlbHNlIGlmICh4X3ZhbHVlIDwgMCkgeF92YWx1ZSA9IC0yMDA7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsb2JhbHJhbms6IGQuZ2xvYmFscmFuayxcbiAgICAgICAgICAgIGlkOiBkLmlkLFxuICAgICAgICAgICAgY2xhc3M6ICdidWJibGUnLFxuICAgICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgICBjeTogMTAsXG4gICAgICAgICAgICByOiBzaXplX2Z1bmMoZFtudW1fbmFtZV0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBidWJibGVzMi5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIGNvbnN0IGJ1YmJsZXMzID0gbGF5ZXJfdG9wLnNlbGVjdEFsbCgnLmJ1YmJsZU15UmVnaW9uJylcbiAgICAgICAgLmRhdGEoZGF0YS5maWx0ZXIoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSwgZCA9PiBkLmlkKTtcblxuICAgICAgYnViYmxlczNcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX25hbWVdKTtcbiAgICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbG9iYWxyYW5rOiBkLmdsb2JhbHJhbmssXG4gICAgICAgICAgICBjeDogeF92YWx1ZSxcbiAgICAgICAgICAgIGN5OiAxMCxcbiAgICAgICAgICAgIHI6IHNpemVfZnVuYyhkW251bV9uYW1lXSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlcyhkID0+ICh7XG4gICAgICAgICAgZmlsbDogYXBwLmNvbG9yc1tkLmlkXSxcbiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogMSxcbiAgICAgICAgICBzdHJva2U6ICdkYXJrZ3JheScsXG4gICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuNzUsXG4gICAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogMC43NSxcbiAgICAgICAgfSkpO1xuXG4gICAgICBidWJibGVzM1xuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuaW5zZXJ0KCdjaXJjbGUnKVxuICAgICAgICAuc3R5bGVzKGQgPT4gKHtcbiAgICAgICAgICBmaWxsOiBhcHAuY29sb3JzW2QuaWRdLFxuICAgICAgICAgICdmaWxsLW9wYWNpdHknOiAxLFxuICAgICAgICAgIHN0cm9rZTogJ2RhcmtncmF5JyxcbiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMC43NSxcbiAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAwLjc1LFxuICAgICAgICB9KSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMTI1KVxuICAgICAgICAuYXR0cnMoKGQpID0+IHtcbiAgICAgICAgICBsZXQgeF92YWx1ZSA9IHhTY2FsZShkW3JhdGlvX25hbWVdKTtcbiAgICAgICAgICBpZiAoeF92YWx1ZSA+IHdpZHRoKSB4X3ZhbHVlID0gd2lkdGggKyAyMDA7XG4gICAgICAgICAgZWxzZSBpZiAoeF92YWx1ZSA8IDApIHhfdmFsdWUgPSAtMjAwO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbG9iYWxyYW5rOiBkLmdsb2JhbHJhbmssXG4gICAgICAgICAgICBpZDogZC5pZCxcbiAgICAgICAgICAgIGNsYXNzOiAnYnViYmxlTXlSZWdpb24nLFxuICAgICAgICAgICAgY3g6IHhfdmFsdWUsXG4gICAgICAgICAgICBjeTogMTAsXG4gICAgICAgICAgICByOiBzaXplX2Z1bmMoZFtudW1fbmFtZV0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBidWJibGVzMy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIGhlaWdodF90b191c2UgKz0gb2Zmc2V0O1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGJ1YmJsZXMxLm9yZGVyKCk7XG4gICAgICAgIGJ1YmJsZXMyLm9yZGVyKCk7XG4gICAgICB9LCAxNDUpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5tYWtlVG9vbHRpcHMoKTsgfSwgMTQ1KTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG4gIHVwZGF0ZUNvbXBsZXR1ZGUoKSB7XG4gICAgdGhpcy5jb21wbGV0dWRlLnVwZGF0ZShcbiAgICAgIGNhbGNDb21wbGV0dWRlU3Vic2V0KGFwcCwgdGhpcy5yYXRpb3MsICdhcnJheScpLFxuICAgICAgY2FsY1BvcENvbXBsZXR1ZGVTdWJzZXQoYXBwLCB0aGlzLnJhdGlvcykpO1xuICB9XG5cbiAgdXBkYXRlTWFwUmVnaW8oKSB7XG4gICAgaWYgKCF0aGlzLm1hcF9lbGVtKSByZXR1cm47XG4gICAgdGhpcy5tYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgIC5hdHRyKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgY29uc3QgX2lkID0gZC5pZDtcbiAgICAgICAgaWYgKF9pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbikge1xuICAgICAgICAgIHJldHVybiBjb2xvcl9oaWdobGlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50X2lkcy5pbmRleE9mKF9pZCkgPiAtMSkge1xuICAgICAgICAgIGlmIChhcHAuY29sb3JzW19pZF0pIHJldHVybiBjb2xvcl9kZWZhdWx0X2Rpc3NpbTtcbiAgICAgICAgICByZXR1cm4gY29sb3JfY291bnRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcl9kaXNhYmxlZDtcbiAgICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNYXAoZCwgcGFyZW50KSB7XG4gICAgbGV0IHRvX2Rpc3BsYXkgPSBmYWxzZTtcbiAgICBjb25zdCBpZCA9IGQuaWQ7XG4gICAgaWYgKHRoaXMuY3VycmVudF9pZHMuaW5kZXhPZihpZCkgPCAwIHx8IGlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKSByZXR1cm47XG4gICAgaWYgKGFwcC5jb2xvcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgY2xpY2tlZCBmZWF0dXJlIGZyb20gdGhlIGNvbG9yZWQgc2VsZWN0aW9uIG9uIHRoZSBjaGFydDpcbiAgICAgIGNvbnN0IGlkX3RvX3JlbW92ZSA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvblxuICAgICAgICAubWFwKChmdCwgaSkgPT4gKGZ0LmlkID09PSBpZCA/IGkgOiBudWxsKSkuZmlsdGVyKGZ0ID0+IGZ0KVswXTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5zcGxpY2UoaWRfdG9fcmVtb3ZlLCAxKTtcbiAgICAgIC8vIENoYW5nZSBpdHMgY29sb3IgaW4gdGhlIGdsb2JhbCBjb2xvcnMgb2JqZWN0OlxuICAgICAgYXBwLmNvbG9yc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAvLyBDaGFuZ2UgdGhlIGNvbG9yIG9uIHRoZSBtYXA6XG4gICAgICBkMy5zZWxlY3QocGFyZW50KS5hdHRyKCdmaWxsJywgY29sb3JfY291bnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwLmNvbG9yc1tpZF0gPSBjb2xvcl9kZWZhdWx0X2Rpc3NpbTtcbiAgICAgIC8vIENoYW5nZSB0aGUgY29sb3Igb24gdGhlIG1hcDpcbiAgICAgIGQzLnNlbGVjdChwYXJlbnQpLmF0dHIoJ2ZpbGwnLCBjb2xvcl9kZWZhdWx0X2Rpc3NpbSk7XG4gICAgICAvLyBBZGQgdGhlIGNsaWNrZWQgZmVhdHVyZSBvbiB0aGUgY29sb3JlZCBzZWxlY3Rpb24gb24gdGhlIGNoYXJ0OlxuICAgICAgY29uc3Qgb2JqID0gdGhpcy5kYXRhLmZpbmQoZWwgPT4gZWwuaWQgPT09IGlkKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5wdXNoKG9iaik7XG4gICAgICB0b19kaXNwbGF5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uLnNvcnQoKGEsIGIpID0+IGEuZGlzdCAtIGIuZGlzdCk7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgaWYgKHRvX2Rpc3BsYXkpIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmRpc3BsYXlMaW5lKGlkKTsgfSwgMTUwKTtcbiAgfVxuXG4gIG1ha2VUb29sdGlwcygpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0QWxsKCdnLmdycF92YXInKVxuICAgICAgLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgIC5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgdCA9IHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpLnNlbGVjdEFsbCgncCcpLmh0bWwoJycpOyB9LCAyNTApO1xuICAgICAgfSlcbiAgICAgIC5vbignbW91c2Vtb3ZlIG1vdXNlZG93bicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBbXTtcbiAgICAgICAgbGV0IF9oID0gNzU7XG4gICAgICAgIGNvbnN0IHJhdGlvX24gPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5pZC5yZXBsYWNlKCdsXycsICcnKTtcbiAgICAgICAgY29uc3QgdW5pdF9yYXRpbyA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IHJhdGlvX24pLnVuaXQ7XG4gICAgICAgIGNvbnN0IGdsb2JhbHJhbmsgPSArdGhpcy5nZXRBdHRyaWJ1dGUoJ2dsb2JhbHJhbmsnKTtcbiAgICAgICAgY29uc3QgaW5kaWNfcmFuayA9IHNlbGYuY3VycmVudF9pZHMubGVuZ3RoIC0gK2RbYHJhbmtfJHtyYXRpb19ufWBdO1xuICAgICAgICBjb250ZW50LnB1c2goYCR7cmF0aW9fbn0gOiAke2Zvcm1hdE51bWJlcihkW3JhdGlvX25dLCAxKX0gJHt1bml0X3JhdGlvfWApO1xuICAgICAgICBpZiAoc2VsZi5wcm9wb3J0aW9ubmFsX3N5bWJvbHMpIHtcbiAgICAgICAgICBfaCArPSAyNTtcbiAgICAgICAgICBjb25zdCBudW1fbiA9IHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbnVtJyk7XG4gICAgICAgICAgY29uc3QgbyA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZnQgPT4gZnQuaWQgPT09IG51bV9uKTtcbiAgICAgICAgICBjb25zdCB1bml0X251bSA9IG8udW5pdDtcbiAgICAgICAgICBsZXQgY29lZiA9ICtvLmZvcm11bGE7XG4gICAgICAgICAgY29lZiA9IE51bWJlci5pc05hTihjb2VmKSB8fCBjb2VmID09PSAwID8gMSA6IGNvZWY7XG4gICAgICAgICAgY29udGVudC5wdXNoKGAke251bV9ufSAobnVtw6lyYXRldXIpIDogJHtmb3JtYXROdW1iZXIoZFtudW1fbl0gKiBjb2VmLCAxKX0gJHt1bml0X251bX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoK2dsb2JhbHJhbmsgPiAwKSB7IC8vIE5vIG5lZWQgdG8gZGlzcGxheSB0aGF0IHBhcnQgaWYgdGhpcyBpcyBcIm15IHJlZ2lvblwiOlxuICAgICAgICAgIF9oICs9IDMwO1xuICAgICAgICAgIC8vIGNvbnRlbnQucHVzaChcbiAgICAgICAgICAvLyAgIGDDiWNhcnQgYWJzb2x1IG5vcm1hbGlzw6kgOiAke2Zvcm1hdE51bWJlcihcbiAgICAgICAgICAvLyAgICAgbWF0aF9hYnMoMTAwICogKGRbcmF0aW9fbl0gLSBzZWxmLm15X3JlZ2lvbltyYXRpb19uXSkgLyBzZWxmLm15X3JlZ2lvbltyYXRpb19uXSksIDEpfSAlYCk7XG4gICAgICAgICAgaWYgKCtpbmRpY19yYW5rID09PSAyKSB7XG4gICAgICAgICAgICBjb250ZW50LnB1c2goJzxicj48Yj5Sw6lnaW9uIGxhIHBsdXMgcHJvY2hlPC9iPiBzdXIgY2V0IGluZGljYXRldXInKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKGA8YnI+PGI+JHtpbmRpY19yYW5rIC0gMX3DqG1lPC9iPiByw6lnaW9uIGxhIHBsdXMgcHJvY2hlIHN1ciBjZXQgaW5kaWNhdGV1cmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIU51bWJlci5pc05hTihnbG9iYWxyYW5rKSkge1xuICAgICAgICAgIF9oICs9IDMwO1xuICAgICAgICAgIGlmICgrZ2xvYmFscmFuayA9PT0gMCkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKCc8YnI+PGI+TWEgcsOpZ2lvbjwvYj4nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCtnbG9iYWxyYW5rID09PSAxKSB7XG4gICAgICAgICAgICBjb250ZW50LnB1c2goYDxiPlLDqWdpb24gbGEgcGx1cyBwcm9jaGU8L2I+IHN1ciBjZXMgPGI+JHtzZWxmLnJhdGlvcy5sZW5ndGh9PC9iPiBpbmRpY2F0ZXVyc2ApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZW50LnB1c2goYDxiPiR7Z2xvYmFscmFua33DqG1lPC9iPiByw6lnaW9uIGxhIHBsdXMgcHJvY2hlIHN1ciBjZXMgPGI+JHtzZWxmLnJhdGlvcy5sZW5ndGh9PC9iPiBpbmRpY2F0ZXVyc2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIHNlbGYudG9vbHRpcC5zZWxlY3QoJy50aXRsZScpXG4gICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZC5pZCA9PT0gYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbiA/ICd0aXRsZSBteVJlZ2lvbicgOiAndGl0bGUnKVxuICAgICAgICAgIC5odG1sKFtkLm5hbWUsICcgKCcsIGQuaWQsICcpJ10uam9pbignJykpO1xuICAgICAgICBzZWxmLnRvb2x0aXAuc2VsZWN0KCcuY29udGVudCcpXG4gICAgICAgICAgLmh0bWwoY29udGVudC5qb2luKCc8YnI+JykpO1xuICAgICAgICBzZWxmLnRvb2x0aXBcbiAgICAgICAgICAuc3R5bGVzKHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG51bGwsXG4gICAgICAgICAgICBsZWZ0OiBgJHtkMy5ldmVudC5wYWdlWCAtIHdpbmRvdy5zY3JvbGxYIC0gNX1weGAsXG4gICAgICAgICAgICB0b3A6IGAke2QzLmV2ZW50LnBhZ2VZIC0gd2luZG93LnNjcm9sbFkgLSBfaH1weGAsXG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlLmZpbGwgIT09IGNvbG9yX2NvdW50cmllcykge1xuICAgICAgICAgIHNlbGYuZGlzcGxheUxpbmUoZC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXBfZWxlbS50YXJnZXRfbGF5ZXJcbiAgICAgICAgICAuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZnQpIHtcbiAgICAgICAgICAgIGlmIChmdC5pZCA9PT0gZC5pZCkge1xuICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSB0aGlzLmNsb25lTm9kZSgpO1xuICAgICAgICAgICAgICBjbG9uZWQuc3R5bGUuZmlsbCA9ICdyZWQnO1xuICAgICAgICAgICAgICBjbG9uZWQuc3R5bGUuc3Ryb2tlID0gJ29yYW5nZSc7XG4gICAgICAgICAgICAgIGNsb25lZC5zdHlsZS5zdHJva2VXaWR0aCA9ICcyLjI1cHgnO1xuICAgICAgICAgICAgICBjbG9uZWQuY2xhc3NMaXN0LmFkZCgnY2xvbmVkJyk7XG4gICAgICAgICAgICAgIHNlbGYubWFwX2VsZW0ubGF5ZXJzLnNlbGVjdCgnI3RlbXAnKS5ub2RlKCkuYXBwZW5kQ2hpbGQoY2xvbmVkKTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGNsb25lZC5yZW1vdmUoKTsgfSwgNTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGRpc3BsYXlMaW5lKGlkX3JlZ2lvbikge1xuICAgIGlmICh0aGlzLnJhdGlvcy5sZW5ndGggPT09IDEpIHJldHVybjtcbiAgICBjb25zdCBjb29yZHMgPSBbXTtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdycF92YXInKSxcbiAgICAgIChlbCkgPT4ge1xuICAgICAgICBjb25zdCB0eSA9ICtlbC5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpLnNwbGl0KCd0cmFuc2xhdGUoMCcpWzFdLnJlcGxhY2UoJywnLCAnJykucmVwbGFjZSgnKScsICcnKS50cmltKCk7XG4gICAgICAgIGNvbnN0IGJ1YmJsZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lkX3JlZ2lvbn1gKTtcbiAgICAgICAgY29vcmRzLnB1c2goW2J1YmJsZS5jeC5iYXNlVmFsLnZhbHVlLCBidWJibGUuY3kuYmFzZVZhbC52YWx1ZSArIHR5XSk7XG4gICAgICB9KTtcbiAgICBjb29yZHMuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICAgIGNvbnN0IGwgPSB0aGlzLmRyYXdfZ3JvdXAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5kYXR1bShjb29yZHMpXG4gICAgICAuYXR0cnMoe1xuICAgICAgICBjbGFzczogJ3JlZ2lvX2xpbmUnLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogJ3N0ZWVsYmx1ZScsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMS41LFxuICAgICAgICBkOiBkMy5saW5lKCkueChfZCA9PiBfZFswXSkueShfZCA9PiBfZFsxXSksXG4gICAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGwucmVtb3ZlKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICB1cGRhdGVDaGFuZ2VSZWdpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIGlmIChhcHAuY3VycmVudF9jb25maWcuZmlsdGVyX2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0dWR5Wm9uZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1hcF9lbGVtLnVwZGF0ZUxlZ2VuZCgpO1xuICAgICAgdGhpcy5wcmVwYXJlRGF0YSgpO1xuICAgICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24oK2QzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJykuc2VsZWN0KCcubmJfc2VsZWN0JykucHJvcGVydHkoJ3ZhbHVlJykpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVN0dWR5Wm9uZSgpIHtcbiAgICB0aGlzLnJlbW92ZUxpbmVzKCk7XG4gICAgdGhpcy5tYXBfZWxlbS51cGRhdGVMZWdlbmQoKTtcbiAgICB0aGlzLnJhdGlvcyA9IGFwcC5jdXJyZW50X2NvbmZpZy5yYXRpbztcbiAgICB0aGlzLm51bXMgPSBhcHAuY3VycmVudF9jb25maWcubnVtO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgY29uc3QgdGVtcCA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5sZW5ndGg7XG4gICAgdGhpcy5oaWdobGlnaHRfc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy51cGRhdGVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKHRlbXApO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgfVxuXG4gIHByZXBhcmVEYXRhKCkge1xuICAgIHRoaXMubWVhbnMgPSB7fTtcbiAgICB0aGlzLnN0ZGRldnMgPSB7fTtcbiAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmRhdGEubWFwKGZ0ID0+ICtmdFt2XSk7XG4gICAgICBjb25zdCBtZWFuID0gZ2V0TWVhbih2YWx1ZXMpO1xuICAgICAgdGhpcy5tZWFuc1t2XSA9IG1lYW47XG4gICAgICB0aGlzLnN0ZGRldnNbdl0gPSBnZXRTdGREZXYodmFsdWVzLCBtZWFuKTtcbiAgICB9KTtcbiAgICB0aGlzLmRhdGFcbiAgICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgZnRbYGNyXyR7dn1gXSA9ICgrZnRbdl0gLSB0aGlzLm1lYW5zW3ZdKSAvIHRoaXMuc3RkZGV2c1t2XTtcbiAgICAgICAgICAvLyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAvLyBmdFtgZGlzdF8ke3Z9YF0gPSBtYXRoX2FicygrZnRbdl0gLSArdGhpcy5teV9yZWdpb25bdl0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHRoaXMubXlfcmVnaW9uID0gdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBhcHAuY3VycmVudF9jb25maWcubXlfcmVnaW9uKTtcbiAgICB0aGlzLmRhdGFcbiAgICAgIC5mb3JFYWNoKChmdCkgPT4ge1xuICAgICAgICB0aGlzLnJhdGlvcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgZnRbYGRpc3RfJHt2fWBdID0gbWF0aF9hYnMoK2Z0W2Bjcl8ke3Z9YF0gLSArdGhpcy5teV9yZWdpb25bYGNyXyR7dn1gXSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgdGhpcy5jdXJyZW50X2lkcyA9IHRoaXMuZGF0YS5tYXAoZCA9PiBkLmlkKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZnQpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgICBmdC5kaXN0ID0gbWF0aF9zcXJ0KHRoaXMucmF0aW9zLm1hcChfdiA9PiBgZGlzdF8ke192fWApXG4gICAgICAgIC5tYXAoX3YgPT4gbWF0aF9wb3coZnRbX3ZdLCAyKSkucmVkdWNlKChhLCBiKSA9PiBhICsgYikpO1xuICAgIH0pO1xuICAgIHRoaXMuZGF0YS5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRoaXMuZGF0YS5mb3JFYWNoKChlbCwgaSkgPT4geyBlbC5nbG9iYWxyYW5rID0gaTsgfSk7XG4gIH1cblxuICBhZGRWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMucmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnNsaWNlKCk7XG4gICAgdGhpcy5udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLnByZXBhcmVEYXRhKCk7XG4gICAgLy8gVG8ga2VlcCB0aGUgc2FtZSBzZWxlY3Rpb24gOlxuICAgIC8vIHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbiA9IHRoaXMuaGlnaGxpZ2h0X3NlbGVjdGlvbi5tYXAoKGQpID0+IHtcbiAgICAvLyAgIHJldHVybiB0aGlzLmRhdGEuZmluZChlbCA9PiBlbC5pZCA9PT0gZC5pZCk7XG4gICAgLy8gfSkuZmlsdGVyKGQgPT4gISFkKTtcbiAgICAvLyB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgLy8gVG8gdXNlIGEgbmV3IHNlbGVjdGlvbiBhY2NvcmRpbmcgdG8gJ25iX3NlbGVjdCcgdmFsdWU6XG4gICAgdGhpcy5hcHBseVNlbGVjdGlvbigrZDMuc2VsZWN0KCcjbWVudV9zZWxlY3Rpb24nKS5zZWxlY3QoJy5uYl9zZWxlY3QnKS5wcm9wZXJ0eSgndmFsdWUnKSk7XG5cbiAgICB0aGlzLnVwZGF0ZVRhYmxlU3RhdCgpO1xuICAgIHRoaXMudXBkYXRlTWFwUmVnaW8oKTtcbiAgICBUb29sdGlwc2lmeSgnW3RpdGxlLXRvb2x0aXBdJyk7XG4gIH1cblxuICByZW1vdmVWYXJpYWJsZShjb2RlX3ZhcmlhYmxlKSB7XG4gICAgdGhpcy5yZW1vdmVMaW5lcygpO1xuICAgIHRoaXMucmF0aW9zID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLnNsaWNlKCk7XG4gICAgdGhpcy5udW1zID0gYXBwLmN1cnJlbnRfY29uZmlnLm51bS5zbGljZSgpO1xuICAgIHRoaXMuZGF0YSA9IGFwcC5jdXJyZW50X2RhdGEuZmlsdGVyKFxuICAgICAgZnQgPT4gdGhpcy5yYXRpb3MubWFwKHYgPT4gISFmdFt2XSkuZXZlcnkodiA9PiB2ID09PSB0cnVlKSkuc2xpY2UoKTtcbiAgICB0aGlzLnByZXBhcmVEYXRhKCk7XG5cbiAgICB0aGlzLmRyYXdfZ3JvdXAuc2VsZWN0KGBnI2xfJHtjb2RlX3ZhcmlhYmxlfWApLnJlbW92ZSgpO1xuXG4gICAgLy8gQW5kIHVzZSBpdCBpbW1lZGlhdGx5OlxuICAgIHRoaXMudXBkYXRlVGFibGVTdGF0KCk7XG4gICAgdGhpcy51cGRhdGVNYXBSZWdpbygpO1xuICAgIC8vIFRvIHVzZSBhIG5ldyBzZWxlY3Rpb24gYWNjb3JkaW5nIHRvICduYl9zZWxlY3QnIHZhbHVlOlxuICAgIHRoaXMuYXBwbHlTZWxlY3Rpb24oK2QzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJykuc2VsZWN0KCcubmJfc2VsZWN0JykucHJvcGVydHkoJ3ZhbHVlJykpO1xuICB9XG5cbiAgYmluZE1lbnUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgbWVudSA9IGQzLnNlbGVjdCgnI21lbnVfc2VsZWN0aW9uJyk7XG4gICAgY29uc3QgYXBwbHljaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzZWxmLm1hcF9lbGVtLnJlbW92ZVJlY3RCcnVzaCgpO1xuICAgICAgY29uc3QgdmFsdWUgPSArdGhpcy52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuYXBwbHlTZWxlY3Rpb24odmFsdWUpO1xuICAgIH07XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBhcHBseWNoYW5nZSk7XG4gICAgbWVudS5zZWxlY3QoJy5uYl9zZWxlY3QnKVxuICAgICAgLm9uKCd3aGVlbCcsIGFwcGx5Y2hhbmdlKTtcbiAgICBtZW51LnNlbGVjdCgnLm5iX3NlbGVjdCcpXG4gICAgICAub24oJ2tleXVwJywgYXBwbHljaGFuZ2UpO1xuICAgIG1lbnUuc2VsZWN0KCcjY2hlY2tfcHJvcCcpXG4gICAgICAub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgIG1lbnUuc2VsZWN0KCcuc2xpZGVyLWNoZWNrYm94ID4gLmxhYmVsJykuYXR0cignY2xhc3MnLCAnbGFiZWwgbm9zZWxlY3QnKTtcbiAgICAgICAgICBzZWxmLnByb3BvcnRpb25uYWxfc3ltYm9scyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVudS5zZWxlY3QoJy5zbGlkZXItY2hlY2tib3ggPiAubGFiZWwnKS5hdHRyKCdjbGFzcycsICdsYWJlbCBub3NlbGVjdCBub3Rfc2VsZWN0ZWQnKTtcbiAgICAgICAgICBzZWxmLnByb3BvcnRpb25uYWxfc3ltYm9scyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpbmVzKCkge1xuICAgIHRoaXMuZHJhd19ncm91cC5zZWxlY3RBbGwoJy5yZWdpb19saW5lJykucmVtb3ZlKCk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5tYXBfZWxlbS5sYXllcnMuc2VsZWN0QWxsKCcuY2xvbmVkJykucmVtb3ZlKCk7XG4gICAgdGhpcy5tYXBfZWxlbS51bmJpbmRCcnVzaENsaWNrKCk7XG4gICAgdGhpcy5tYXBfZWxlbSA9IG51bGw7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmUoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbnVsbDtcbiAgICBzdmdfYmFyLnRleHQoJycpLmh0bWwoJycpO1xuICB9XG5cbiAgYmluZE1hcChtYXBfZWxlbSkge1xuICAgIHRoaXMubWFwX2VsZW0gPSBtYXBfZWxlbTtcbiAgICB0aGlzLm1hcF9lbGVtLnJlc2V0Q29sb3JzKHRoaXMuY3VycmVudF9pZHMpO1xuICAgIHRoaXMubWFwX2VsZW0uZGlzcGxheUxlZ2VuZCgyKTtcbiAgICB0aGlzLmFwcGx5U2VsZWN0aW9uKDEpO1xuICB9XG5cbiAgcHJlcGFyZVRhYmxlU3RhdCgpIHtcbiAgICBjb25zdCByYXRpb3MgPSB0aGlzLnJhdGlvcztcbiAgICBjb25zdCBhbGxfdmFsdWVzID0gcmF0aW9zLm1hcCh2ID0+IHRoaXMuZGF0YS5tYXAoZCA9PiArZFt2XSkpO1xuICAgIGNvbnN0IG15X3JlZ2lvbiA9IHRoaXMubXlfcmVnaW9uO1xuICAgIGNvbnN0IGZlYXR1cmVzID0gYWxsX3ZhbHVlcy5tYXAoKHZhbHVlcywgaSkgPT4gKHtcbiAgICAgIE1pbjogZDMubWluKHZhbHVlcyksXG4gICAgICBNYXg6IGQzLm1heCh2YWx1ZXMpLFxuICAgICAgTW95OiBnZXRNZWFuKHZhbHVlcyksXG4gICAgICBNZWQ6IGQzLm1lZGlhbih2YWx1ZXMpLFxuICAgICAgaWQ6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgVmFyaWFibGU6IHRoaXMucmF0aW9zW2ldLFxuICAgICAgJ01hIHLDqWdpb24nOiBteV9yZWdpb25bdGhpcy5yYXRpb3NbaV1dLFxuICAgIH0pKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICB1cGRhdGVUYWJsZVN0YXQoKSB7XG4gICAgdGhpcy50YWJsZV9zdGF0cy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzLmFkZEZlYXR1cmVzKHRoaXMucHJlcGFyZVRhYmxlU3RhdCgpKTtcbiAgfVxuXG4gIG1ha2VUYWJsZVN0YXQoKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLnByZXBhcmVUYWJsZVN0YXQoKTtcbiAgICB0aGlzLnRhYmxlX3N0YXRzID0gbmV3IFRhYmxlUmVzdW1lU3RhdChmZWF0dXJlcyk7XG4gIH1cblxuICBnZXRIZWxwTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gYFxuPGgzPlJlc3NlbWJsYW5jZXM8L2gzPlxuXG48Yj5BaWRlIGfDqW7DqXJhbGU8L2I+XG5cbkxlcyBncmFwaGlxdWVzIGRlIHJlc3NlbWJsYW5jZSBwZXJtZXR0ZW50IGRlIHZpc3VhbGlzZXIgcG91ciAxIMOgIDggaW5kaWNhdGV1cnMgbGVzIHVuaXTDqXMgdGVycml0b3JpYWxlcyBsZXMgcGx1cyBwcm9jaGVzIHN0YXRpc3RpcXVlbWVudCDDoCBs4oCZdW5pdMOpIHRlcnJpdG9yaWFsZSBkZSByw6lmw6lyZW5jZS5cblxuQ2V0dGUgcHJveGltaXTDqSBlc3QgbWVzdXLDqWUgcGFyIGxhIGRpc3RhbmNlIGV1Y2xpZGllbm5lLiBDZXR0ZSBmb25jdGlvbiBwZXJtZXQgZOKAmcOpdmFsdWVyIGxhIGRpc3RhbmNlIG5vcm1hbGlzw6llIGdsb2JhbGUgKGV4cHJpbcOpZSBlbiByYW5nKSBzw6lwYXJhbnQgbOKAmXVuaXTDqSB0ZXJyaXRvcmlhbGUgZGUgcsOpZsOpcmVuY2UgYXZlYyBs4oCZZW5zZW1ibGUgZGVzIGF1dHJlcyB1bml0w6lzIHRlcnJpdG9yaWFsZXMgcG91ciB1biBlbnNlbWJsZSBk4oCZaW5kaWNhdGV1cnMuIExhIGZvcm11bGUgZGUgbGEgZm9uY3Rpb24gZXN0IGxhIHN1aXZhbnRlIDpcblxuPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6IDFlbTtcIj48Yj7Ooyh4aSAtIHlpKcKyPC9iPjwvcD5cblxuU2kgbGEgdmFsZXVyIGRlIGzigJlpbmRpY2Ugw6lxdWl2YXV0IMOgIDAsIGxhIHNpbWlsYXJpdMOpIGVzdCB0b3RhbGUgZW50cmUgZGV1eCB1bml0w6lzIHRlcnJpdG9yaWFsZXMuIFBsdXMgbGEgdmFsZXVyIGRlIGzigJlpbmRpY2UgZXN0IMOpbGV2w6llLCBwbHVzIGxhIGRpc3NpbWlsYXJpdMOpIGVzdCBpbXBvcnRhbnRlLiBBIG5vdGVyIHF1ZSBjZXR0ZSBtw6l0cmlxdWUgZXVjbGlkaWVubmUgZXN0IGFzc2V6IHNlbnNpYmxlIGF1eCBvcmRyZXMgZGUgZ3JhbmRldXIgaMOpdMOpcm9nw6huZXMgZW50cmUgcGx1c2lldXJzIGluZGljYXRldXJzICh1biBmb3J0IMOpY2FydCBwb3VyIHVuIGluZGljYXRldXIgcGV1dCBhZmZlY3RlciBzaWduaWZpY2F0aXZlbWVudCBsYSB2YWxldXIgZGUgbOKAmWluZGljZSkuXG5cblBvdXIgw6l2aXRlciBkZSBwb3RlbnRpZWxsZXMgZXJyZXVycyBk4oCZaW50ZXJwcsOpdGF0aW9uIGxpw6llcyDDoCBjZXQgaW5kaWNlIGRlIHNpbWlsYXJpdMOpIHN5bnRow6l0aXF1ZSwgUmVnaW92aXogcHJvcG9zZSBzeXN0w6ltYXRpcXVlbWVudCB1bmUgcmVwcsOpc2VudGF0aW9uIGdyYXBoaXF1ZSBwZXJtZXR0YW50IGTigJnDqXZhbHVlciB2aXN1ZWxsZW1lbnQgbGUgZGVncsOpIGRlIHNpbWlsYXJpdMOpIGluZGljYXRldXIgcGFyIGluZGljYXRldXIuXG5cblBhciBkw6lmYXV0LCBs4oCZYXBwbGljYXRpb24gcmVudm9pZSBsZXMgNSB1bml0w6lzIHRlcnJpdG9yaWFsZXMgcG91ciBs4oCZZXNwYWNlIGTigJnDqXR1ZGUgZXQgbGVzIGluZGljYXRldXJzIHPDqWxlY3Rpb25uw6llcyBxdWkgc29udCBkw6lmaW5pcyBwYXIgbGEgZGlzdGFuY2UgZXVjbGlkaWVubmUgbGEgcGx1cyBmYWlibGUuIExpYnJlIMOgIGzigJl1dGlsaXNhdGV1ciBkZSBjaG9pc2lyIHBsdXMgb3UgbW9pbnMgZOKAmXVuaXTDqXMgdGVycml0b3JpYWxlcyBkZSBjb21wYXJhaXNvbiBlbiBmb25jdGlvbiBkZSBzZXMgb2JqZWN0aWZzIGTigJlhbmFseXNlLlxuXG5TdXIgbGUgZ3JhcGhpcXVlIGFwcGFyYWlzc2VudCBsZXMgbiB1bml0w6lzIHRlcnJpdG9yaWFsZXMgbGVzIHBsdXMgcHJvY2hlcyBwb3VyIGNoYXF1ZSBpbmRpY2F0ZXVyIGRhbnMgbGV1cnMgdW5pdMOpcyBkZSBtZXN1cmUgcmVzcGVjdGl2ZXMuIEzigJl1bml0w6kgdGVycml0b3JpYWxlIGRlIHLDqWbDqXJlbmNlIGFwcGFyYcOudCBzeXN0w6ltYXRpcXVlbWVudCBhdSBjZW50cmUgZGUgY2hhY3VuIGRlcyBncmFwaGlxdWVzLiBVbiBjbGljIGdhdWNoZSBzdXIgdW5lIGRlcyB1bml0w6lzIHRlcnJpdG9yaWFsZXMgc3VyIGxlIGdyYXBoaXF1ZSBvdSBzdXIgbGEgY2FydGUgZ8OpbsOocmUgdW5lIGxpZ25lIGVudHJlIGNoYXF1ZSBpbmRpY2F0ZXVyIHBlcm1ldHRhbnQgZOKAmcOpdmFsdWVyIGxlIGRlZ3LDqSBkZSByZXNzZW1ibGFuY2UgYXZlYyBs4oCZdW5pdMOpIHRlcnJpdG9yaWFsZSBkZSByw6lmw6lyZW5jZSBldCB2aXN1YWxpc2VyIGFpbnNpIHNpIGNlbGxlLWNpIHNlIHBvc2l0aW9ubmUgYXUtZGVzc3VzIG91IGVuIGRlc3NvdXMsIGV0IHBvdXIgcXVlbCBpbmRpY2F0ZXVyLlxuXG5QYXIgZMOpZmF1dCwgbGEgdGFpbGxlIGRlcyBjZXJjbGVzIHN1ciBsZSBncmFwaGlxdWUgZXN0IGNvbnN0YW50ZS4gTWFpcyBs4oCZdXRpbGlzYXRldXIgcGV1dCBhY3RpdmVyIGzigJlvcHRpb24gwqsgY2VyY2xlcyBwcm9wb3J0aW9ubmVscyBhdSBudW3DqXJhdGV1ciDCuyBwb3VyIHZpc3VhbGlzZXIgZ3JhcGhpcXVlbWVudCBsYSBtYXNzZSBkZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzLiBQYXIgZXhlbXBsZSwgc2kgbOKAmWluZGljYXRldXIgUElCIHBhciBoYWJpdGFudCBlc3Qgc8OpbGVjdGlvbm7DqSwgbGEgdGFpbGxlIGRlcyBjZXJjbGVzIHNlcmEgcHJvcG9ydGlvbm5lbGxlIMOgIGxhIG1hc3NlIGRlIFBJQiBkZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzLiBTaSBj4oCZZXN0IGxhIHBhcnQgZGVzIDAtMjQgYW5zIGRhbnMgbGEgcG9wdWxhdGlvbiB0b3RhbGUsIGxhIHRhaWxsZSBkZXMgZmlndXLDqXMgc2VyYSBwcm9wb3J0aW9ubmVsbGUgw6AgbGEgbWFzc2UgZGUgbGEgcG9wdWxhdGlvbiDDomfDqWUgZGUgMCDDoCAyNCBhbnMuIENldHRlIG9wdGlvbiBhIMOpdMOpIGNyw6nDqWUgYWZpbiBkZSBwb3V2b2lyIHJlc3RpdHVlciBsZXMgb3JkcmVzIGRlIGdyYW5kZXVyIHBvdGVudGllbGxlbWVudCBow6l0w6lyb2fDqG5lcyBkZXMgdW5pdMOpcyB0ZXJyaXRvcmlhbGVzIHByb3Bvc8OpZXMgZGFucyBs4oCZYXBwbGljYXRpb24uYDtcbiAgfVxuXG4gIGdldFRlbXBsYXRlSGVscCgpIHtcbiAgICByZXR1cm4gYGA7XG4gIH1cbn1cbiIsImltcG9ydCB0aW5nbGUgZnJvbSAndGluZ2xlLmpzJztcbmltcG9ydCBhbGVydGlmeSBmcm9tICdhbGVydGlmeWpzJztcbmltcG9ydCAnLi4vc3R5bGVzL21haW4uY3NzJztcbmltcG9ydCAnLi4vc3R5bGVzL3RpbmdsZS5taW4uY3NzJztcbmltcG9ydCAnLi4vc3R5bGVzL3RpcHB5LmNzcyc7XG5pbXBvcnQgJy4uL3N0eWxlcy9hbGVydGlmeS5taW4uY3NzJztcbmltcG9ydCAnLi4vc3R5bGVzL3NlbWFudGljLm1pbi5jc3MnO1xuaW1wb3J0IHsgY3JlYXRlTWVudSwgaGFuZGxlSW5wdXRSZWdpb05hbWUgfSBmcm9tICcuL21vZHVsZXMvbWVudWxlZnQnO1xuaW1wb3J0IHsgbWFrZVRvcE1lbnUsIG1ha2VIZWFkZXJDaGFydCwgbWFrZUhlYWRlck1hcFNlY3Rpb24gfSBmcm9tICcuL21vZHVsZXMvbWVudXRvcCc7XG5pbXBvcnQgeyBNYXBTZWxlY3QsIG1ha2VTb3VyY2VTZWN0aW9uLCBzdmdfbWFwLCB6b29tQ2xpY2sgfSBmcm9tICcuL21vZHVsZXMvbWFwJztcbmltcG9ydCB7IGNvbG9yX2hpZ2hsaWdodCwgTUFYX1ZBUklBQkxFUywgZml4ZWRfZGltZW5zaW9uIH0gZnJvbSAnLi9tb2R1bGVzL29wdGlvbnMnO1xuaW1wb3J0IEJhckNoYXJ0MSBmcm9tICcuL21vZHVsZXMvY2hhcnRzL2JhckNoYXJ0XzF2JztcbmltcG9ydCBTY2F0dGVyUGxvdDIgZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zY2F0dGVyUGxvdF8ydic7XG5pbXBvcnQgUmFkYXJDaGFydDMgZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9yYWRhckNoYXJ0XzN2JztcbmltcG9ydCBTaW1pbGFyaXR5MXBsdXMgZnJvbSAnLi9tb2R1bGVzL2NoYXJ0cy9zaW1pbGFyaXR5MXYnO1xuaW1wb3J0IHsgdW5iaW5kVUksIHNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyLCBwcmVwYXJlR2VvbUxheWVySWQsIGdldFJhbmRvbSwgVG9vbHRpcHNpZnksIGdldFJhdGlvVG9XaWRlLCBjbGlja0RsUGRmIH0gZnJvbSAnLi9tb2R1bGVzL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgcHJlcGFyZV9kYXRhc2V0LFxuICBmaWx0ZXJMZXZlbFZhcixcbiAgYXBwbHlGaWx0ZXIsXG4gIGNoYW5nZVJlZ2lvbixcbiAgYWRkVmFyaWFibGUsXG4gIHJlbW92ZVZhcmlhYmxlLFxuICByZXNldFZhcmlhYmxlcyxcbiAgcHJlcGFyZVZhcmlhYmxlc0luZm8sXG59IGZyb20gJy4vbW9kdWxlcy9wcmVwYXJlX2RhdGEnO1xuXG5cbmV4cG9ydCBjb25zdCB2YXJpYWJsZXNfaW5mbyA9IFtdO1xuXG5leHBvcnQgY29uc3Qgc3R1ZHlfem9uZXMgPSBbXG4gIHsgaWQ6ICdub19maWx0ZXInLCBuYW1lOiAnVUUyOCcsIGRpc3BsYXlfbGV2ZWw6ICcnIH0sXG4gIHsgaWQ6ICdmaWx0ZXJfZGlzdCcsIG5hbWU6ICdSw6lnaW9uIGRhbnMgdW4gcmF5b24gZGUgJywgZGlzcGxheV9sZXZlbDogJycgfSxcbl07XG5leHBvcnQgY29uc3QgdGVycml0b3JpYWxfbWVzaCA9IFtdO1xuXG5leHBvcnQgY29uc3QgYXBwID0ge1xuICAvLyBBIG1hcHBpbmcgaWQgLT4gY29sb3IsIGNvbnRhaW5pbmcgdGhlIGNvbG9yIHRvIHVzZSBmb3IgZWFjaFxuICAvLyBmZWF0dXJlIG5vdCB1c2luZyB0aGUgZGVmYXVsdCBjb2xvciBvciB0aGUgZGlzYWJsZWQgY29sb3JcbiAgY29sb3JzOiB7fSxcbiAgLy8gVGhlIGZpbHRlcmVkIGRhdGFzZXQgKGFjY2NvcmRpbmcgdG86IHRoZSBjdXJyZW50IHRlcnJpdG9yaWFsIGxldmVsLFxuICAvLyB0aGUgZmlsdGVyIGtleSAoaWYgYW55KSBhbmQgdGhlIHJhdGlvKHMpIHNlbGVjdGVkIG9uIHRoZSBsZWZ0IG1lbnU6XG4gIGN1cnJlbnRfZGF0YTogW10sXG4gIC8vIFRoZSBmdWxsIGRhdGFzZXQgcHJvdmlkZWQgKGNvbnRhaW5pbmcgYWxsIHRoZSBmZWF0dXJlcyBhdCBhbnkgbGV2ZWwgaW4gb25lIHRhYmxlKVxuICAvLyBSb3cgd2l0aG91dCBkYXRhIGFyZSBleHBlY3RlZCB0byBiZSBlbXB0eSBvciB0byBjb250YWluIHRoZSBcIk5BXCIgc3RyaW5nLlxuICBmdWxsX2RhdGFzZXQ6IFtdLFxuICAvLyBUaGUgaWRzIG9mIHRoZSBjdXJyZW50IGZlYXR1cmUgaW4gdXNlIChhY2Njb3JkaW5nIHRvOiB0aGUgY3VycmVudCB0ZXJyaXRvcmlhbCBsZXZlbCxcbiAgLy8gdGhlIGZpbHRlciBrZXkgKGlmIGFueSkgYW5kIHRoZSByYXRpbyhzKSB1c2VkIGluIHRoZSBjdXJyZW50IGNoYXJ0OyBmaWx0ZXJlZFxuICAvLyB0byBub3QgY29udGFpbiBmZWF0dXJlIHdpdGggZW1wdHkgcmF0aW8gdmFsdWVzIHdpdGhpbiB0aGUgcmF0aW9zIGluIHVzZSkuXG4gIGN1cnJlbnRfaWRzOiBbXSxcbiAgLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiBudW1iZXIgKG5vdCB1c2VkIGZvciBub3csIGV4Y2VwdCBmb3IgZGlzcGxheWluZyBpdCk6XG4gIHZlcnNpb246ICcwLjAuMCcsXG59O1xuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnKGNvZGUgPSAnRlJFJywgdmFyaWFibGUgPSAnUkVWTUVOJykgeyAvLyB9LCBsZXZlbCA9ICdOVVRTMScpIHtcbiAgY29uc3QgdmFyX2luZm8gPSB2YXJpYWJsZXNfaW5mby5maW5kKGZ0ID0+IGZ0LmlkID09PSB2YXJpYWJsZSk7XG4gIGFwcC5jdXJyZW50X2NvbmZpZyA9IHtcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgZmllbGQgb2YgdGhlIGRhdGFzZXQgY29udGFpbmluZyB0aGUgSUQgb2YgZWFjaCBmZWF0dXJlOlxuICAgIGlkX2ZpZWxkOiAnaWQnLFxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBvZiB0aGUgZGF0YXNldCBjb250YWluaW5nIHRoZSBuYW1lIG9mIGVhY2ggZmVhdHVyZTpcbiAgICBuYW1lX2ZpZWxkOiAnbmFtZScsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBkYXRhc2V0IGNvbnRhaW5pbmcgdGhlIHBvcHVsYXRpb24gb2YgZWFjaCBmZWF0dXJlOlxuICAgIHBvcF9maWVsZDogJ1BPUF9BR0VfVCcsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIG9mIHRoZSBnZW9qc29uIGxheWVyIGNvbnRhaW5pbmcgdGhlIElEIG9mIGVhY2ggZmVhdHVyZVxuICAgIC8vICh0aGVzZSB2YWx1ZXMgc2hvdWxkIG1hdGNoIHdpdGggdGhlIHZhbHVlcyBvZiB0aGUgXCJpZF9maWVsZFwiIGluIHRoZVxuICAgIC8vIHRhYnVsYXIgZGF0YXNldClcbiAgICBpZF9maWVsZF9nZW9tOiAnaWQnLFxuICAgIG51bTogW3Zhcl9pbmZvLmlkMV0sXG4gICAgZGVudW06IFt2YXJfaW5mby5pZDJdLFxuICAgIHJhdGlvOiBbdmFyaWFibGVdLFxuICAgIHJhdGlvX3ByZXR0eV9uYW1lOiBbdmFyX2luZm8ubmFtZV0sXG4gICAgcmF0aW9fdW5pdDogW3Zhcl9pbmZvLnVuaXRdLFxuICAgIC8vIFRoZSBsZXZlbCBjdXJyZW50bHkgaW4gdXNlOlxuICAgIGN1cnJlbnRfbGV2ZWw6ICdOMScsXG4gICAgLy8gVGhlIElEIG9mIHRoZSByZWdpb24gY3VycmVudGx5IGluIHVzZTpcbiAgICBteV9yZWdpb246IGNvZGUsXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIHJlZ2lvbiBjdXJyZW50bHkgaW4gdXNlOlxuICAgIG15X3JlZ2lvbl9wcmV0dHlfbmFtZTogYXBwLmZlYXR1cmVfbmFtZXNbY29kZV0sXG4gICAgLy8gSG93IG1hbnkgcmF0aW8gb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgbmJfdmFyOiAxLFxuICB9O1xuICBhcHAuY29sb3JzW2FwcC5jdXJyZW50X2NvbmZpZy5teV9yZWdpb25dID0gY29sb3JfaGlnaGxpZ2h0O1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBhdmFpbGFibGVzIHJhdGlvcyBpbiB0aGUgbGVmdCBtZW51IChhZnRlciBjaGFuZ2luZyByZWdpb24pXG4qIElmIGEgc2VsZWN0ZWQgdmFyaWFibGUgaXMgbm90IGF2YWlsYWJsZSBhbnltb3JlIGl0IHdpbGwgYmUgZGVzZWxlY3RlZC5cbiogSWYgdGhlcmUgc2VsZWN0ZWQgdmFyaWFibGUgKGFsbCB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCB2YXJpYWJsZXMgYXJlIHVuYXZhaWxhYmxlIGZvciB0aGlzIHJlZ2lvbilcbiogdGhlIGZpcnN0IHZhcmlhYmxlIG9uIHRoZSBtZW51IHdpbGwgYmUgc2VsZWN0ZWQuXG4qIElmIHRoZSBuZXcgbnVtYmVyIG9mIHNlbGVjdGVkIGZlYXR1cmUgaXMgaW5mZXJpb3IgdG8gdGhlIG51bWJlciBvZiB2YXJpYWJsZXMgb24gdGhlIGN1cnJlbnRcbiogY2hhcnQsIGEgbmV3IGNoYXJ0IChzdWl0YWJsZSBmb3Igb25seSAxIHZhcmlhYmxlKSB3aWxsIGJlIHNlbGVjdGVkLlxuKlxuKlxuKiBAcGFyYW0ge1N0cmluZ30gbXlfcmVnaW9uIC0gVGhlIElEIG9mIHRoZSBuZXdseSBzZWxlY3RlZCByZWdpb24uXG4qIEByZXR1cm4ge051bWJlcn0gLSBUaGUgbmV3IG51bWJlciBvZiBzZWxlY3RlZCByYXRpb3MuXG4qXG4qL1xuZnVuY3Rpb24gdXBkYXRlQXZhaWxhYmxlUmF0aW9zKG15X3JlZ2lvbikge1xuICBjb25zdCBkYXRhX215X2ZlYXR1cmUgPSBhcHAuZnVsbF9kYXRhc2V0LmZpbHRlcihcbiAgICBmdCA9PiBmdFthcHAuY3VycmVudF9jb25maWcuaWRfZmllbGRdID09PSBteV9yZWdpb24pWzBdO1xuICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnUnKTtcbiAgY29uc3QgbGluZXMgPSBtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXJnZXRfdmFyaWFibGUnKTtcbiAgZm9yIChsZXQgaSA9IDAsIG5iX2xpbmVzID0gbGluZXMubGVuZ3RoOyBpIDwgbmJfbGluZXM7IGkrKykge1xuICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSBsaW5lc1tpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgaWYgKGRhdGFfbXlfZmVhdHVyZVtjb2RlX3ZhcmlhYmxlXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIGRhdGFfbXlfZmVhdHVyZVtjb2RlX3ZhcmlhYmxlXSAhPT0gJ05BJykge1xuICAgICAgbGluZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGxpbmVzW2ldLm5leHRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgIGxpbmVzW2ldLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICBsaW5lc1tpXS5uZXh0U2libGluZy5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuICBjb25zdCBuZXdfdmFyID0gbWVudS5xdWVyeVNlbGVjdG9yQWxsKCcudGFyZ2V0X3ZhcmlhYmxlLmNoZWNrZWQnKTtcbiAgaWYgKG5ld192YXIubGVuZ3RoICE9PSBhcHAuY3VycmVudF9jb25maWcucmF0aW8ubGVuZ3RoKSB7XG4gICAgbGV0IG5ld192YXJfbmFtZXM7XG4gICAgaWYgKG5ld192YXIubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0Rmlyc3RBdmFpbGFibGVWYXIoKTtcbiAgICAgIG5ld192YXJfbmFtZXMgPSBbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld192YXJfbmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgbmV3X3ZhcikubWFwKGVsZW0gPT4gZWxlbS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgIH1cbiAgICByZXNldFZhcmlhYmxlcyhhcHAsIG5ld192YXJfbmFtZXMpO1xuICB9XG4gIHJldHVybiBuZXdfdmFyLmxlbmd0aDtcbn1cblxuXG5mdW5jdGlvbiBzZXREZWZhdWx0Q29uZmlnTWVudShjb2RlID0gJ0ZSRScsIHZhcmlhYmxlID0gJ1JFVk1FTicsIGxldmVsID0gJ04xJykge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3JlZ2lvbi5zcXVhcmVbdmFsdWU9XCIke2NvZGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFyZ2V0X3ZhcmlhYmxlLnNtYWxsX3NxdWFyZVt2YWx1ZT1cIiR7dmFyaWFibGV9XCJdYCkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX3Yuc3F1YXJlW2ZpbHRlci12YWx1ZT1cIm5vX2ZpbHRlclwiXScpLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRlcnJpdF9sZXZlbC5zcXVhcmVbdmFsdWU9XCIke2xldmVsfVwiXWApLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZ2lvX25hbWUgPiAjc2VhcmNoJykudmFsdWUgPSBhcHAuZmVhdHVyZV9uYW1lc1tjb2RlXTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZ2lvX25hbWUgPiAjYXV0b2NvbXBsZXRlJykudmFsdWUgPSBhcHAuZmVhdHVyZV9uYW1lc1tjb2RlXTtcbiAgdXBkYXRlQXZhaWxhYmxlUmF0aW9zKGNvZGUpO1xufVxuXG5cbmZ1bmN0aW9uIHVwZGF0ZU1lbnVTdHVkeVpvbmVzKCkge1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtZW51X3N0dWR5em9uZSA+IHAnKSxcbiAgICAoZWxlbSkgPT4ge1xuICAgICAgY29uc3QgdmFsID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX3Yuc3F1YXJlJykuZ2V0QXR0cmlidXRlKCdkaXNwbGF5X2xldmVsJyk7XG4gICAgICBpZiAodmFsID09PSAnJyB8fCB2YWwgPT09IGFwcC5jdXJyZW50X2NvbmZpZy5jdXJyZW50X2xldmVsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDb2xvcnMoKSB7XG4gIGFwcC5jb2xvcnMgPSB7fTtcbiAgLy8gZm9yIChsZXQgaSA9IDAsIGxlbl9pID0gY3VycmVudF9pZHMubGVuZ3RoOyBpIDwgbGVuX2k7IGkrKykge1xuICAvLyAgIGFwcC5jb2xvcnNbY3VycmVudF9pZHNbaV1dID0gY29sb3JfY291bnRyaWVzO1xuICAvLyB9XG4gIGFwcC5jb2xvcnNbYXBwLmN1cnJlbnRfY29uZmlnLm15X3JlZ2lvbl0gPSBjb2xvcl9oaWdobGlnaHQ7XG59XG5cbi8qKlxuKiBVcGRhdGUgdGhlIG1lbnUgbG9jYXRlZCBvbiB0aGUgdG9wIG9mIHRoZSB3aW5kb3cgdGhlIGRpc3BsYXkgdGhlIGF2YWlsYWJsZVxuKiBjaGFydHMsIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBudW1iZXIgb2Ygc2VsZWN0ZWQgdmFyaWFibGVzLlxuKlxuKiBAcGFyYW0ge051bWJlcn0gbmJfdmFyIC0gSG93IG1hbnkgdmFyaWFibGVzIGFyZSBjdXJyZW50bHkgc2VsZWN0ZWQuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZnVuY3Rpb24gdXBkYXRlQXZhaWxhYmxlQ2hhcnRzKG5iX3Zhcikge1xuICBpZiAobmJfdmFyID09PSAxKSB7IC8vIEFsbG93IGFsbCBraW5kIG9mIHZpenUgd2l0aCAxIHZhcmlhYmxlOlxuICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QxJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsgfSk7XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDIsIC5jaGFydF90MycpLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7IH0pO1xuICB9IGVsc2UgaWYgKG5iX3ZhciA9PT0gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMiB2YXJpYWJsZXM6XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEsIC5jaGFydF90MicpLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7IH0pO1xuICAgIGQzLnNlbGVjdEFsbCgnLmNoYXJ0X3QzJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTsgfSk7XG4gIH0gZWxzZSBpZiAobmJfdmFyID4gMikgeyAvLyBBbGxvdyBhbGwga2luZCBvZiB2aXp1IHdpdGggMyB2YXJpYWJsZXM6XG4gICAgZDMuc2VsZWN0QWxsKCcuY2hhcnRfdDEsIC5jaGFydF90MiwgLmNoYXJ0X3QzJykuZWFjaChmdW5jdGlvbiAoKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTsgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTXlDYXRlZ29yeVNlY3Rpb24oKSB7XG4gIGlmIChhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnkpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyX2luZm8nKS5pbm5lckhUTUwgPSBhcHAuY3VycmVudF9jb25maWcubXlfY2F0ZWdvcnk7XG4gIH0gZWxzZSBpZiAoYXBwLmN1cnJlbnRfY29uZmlnLmZpbHRlcl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJfaW5mbycpLmlubmVySFRNTCA9IGBSw6lnaW9ucyBkYW5zIHVuIHZvaXNpbmFnZSBkZSAkeytkMy5zZWxlY3QoJyNkaXN0X2ZpbHRlcicpLnByb3BlcnR5KCd2YWx1ZScpfSBrbWA7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbHRlcl9pbmZvJykuaW5uZXJIVE1MID0gJ0Vuc2VtYmxlIGRlcyByw6lnaW9ucyc7XG4gIH1cbn1cblxuLyoqXG4qIENyZWF0ZSBoYW5kbGVycyBmb3IgdXNlciBldmVudCBvbiB0aGUgbGVmdCBtZW51IGFuZCBvbiB0aGUgbWFwIGZvciBjaGFydHMgb25seVxuKiBhbGxvd2luZyB0byB1c2UgMSB2YXJpYWJsZS5cbipcbiogQHBhcmFtIHtPYmplY3R9IGNoYXJ0IC0gVGhlIGNoYXJ0IG9iamVjdC5cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC0gVGhlIG1hcCBvYmplY3QuXG4qIEByZXR1cm4ge3ZvaWR9XG4qXG4qL1xuZnVuY3Rpb24gYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSkge1xuICAvLyBVc2VyIGNsaWNrIG9uIHRoZSBhcnJvdyBuZXh0IHRvIHRoZSBpbnB1dCBlbGVtZW50IGluIHRoZSBmaXJzdCBzZWN0aW9uXG4gIC8vIG9mIHRoZSBsZWZ0IG1lbnU6XG4gIGQzLnNlbGVjdCgnc3Bhbi5kb3duX2Fycm93JylcbiAgICAub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGlzdF9yZWdpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0X3JlZ2lvJyk7XG4gICAgICBpZiAobGlzdF9yZWdpby5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGxpc3RfcmVnaW8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0X3JlZ2lvLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICAvLyBVc2VyIGNoYW5nZSB0aGUgc3R1ZHkgem9uZTpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmZpbHRlcl92JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi5maWx0ZXJfdicpLmF0dHIoJ2NsYXNzJywgJ2ZpbHRlcl92IHNxdWFyZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcbiAgICAgICAgY29uc3QgZmlsdGVyX3R5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZmlsdGVyLXZhbHVlJyk7XG4gICAgICAgIGlmIChmaWx0ZXJfdHlwZSA9PT0gJ2ZpbHRlcl9kaXN0Jykge1xuICAgICAgICAgIGNvbnN0IGlucHV0X2VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzdF9maWx0ZXInKTtcbiAgICAgICAgICBpbnB1dF9lbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gK2lucHV0X2VsZW0udmFsdWU7XG4gICAgICAgICAgY29uc3QgaWRzID0gbWFwX2VsZW0uZ2V0VW5pdHNXaXRoaW4oZGlzdCk7XG4gICAgICAgICAgYXBwbHlGaWx0ZXIoYXBwLCBpZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXN0X2ZpbHRlcicpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICBhcHBseUZpbHRlcihhcHAsIGZpbHRlcl90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVNeUNhdGVnb3J5U2VjdGlvbigpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgICAgY2hhcnQudXBkYXRlQ29tcGxldHVkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGQzLnNlbGVjdCgnI2Rpc3RfZmlsdGVyJylcbiAgICAub24oJ2NoYW5nZSwga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBpZHMgPSBtYXBfZWxlbS5nZXRVbml0c1dpdGhpbigrdGhpcy52YWx1ZSk7XG4gICAgICBhcHBseUZpbHRlcihhcHAsIGlkcyk7XG4gICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIGNoYXJ0LnVwZGF0ZUNvbXBsZXR1ZGUoKTtcbiAgICB9KTtcblxuICAvLyBVc2VyIGNoYW5nZSB0aGUgdGFyZ2V0ZWQgcmVnaW9uOlxuICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJ3NwYW4udGFyZ2V0X3JlZ2lvbicpLmF0dHIoJ2NsYXNzJywgJ3RhcmdldF9yZWdpb24gc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuXG4gICAgICAgIGNvbnN0IGlkX3JlZ2lvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBjb25zdCBvbGRfbmJfdmFyID0gYXBwLmN1cnJlbnRfY29uZmlnLnJhdGlvLmxlbmd0aDtcbiAgICAgICAgY2hhbmdlUmVnaW9uKGFwcCwgaWRfcmVnaW9uLCBtYXBfZWxlbSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3RfcmVnaW8nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZ2lvX25hbWUgPiAjc2VhcmNoJykudmFsdWUgPSBhcHAuZmVhdHVyZV9uYW1lc1tpZF9yZWdpb25dO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVnaW9fbmFtZSA+ICNhdXRvY29tcGxldGUnKS52YWx1ZSA9IGFwcC5mZWF0dXJlX25hbWVzW2lkX3JlZ2lvbl07XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYXZhaWxhYmxlcyByYXRpbyBvbiB0aGUgbGVmdCBtZW51XG4gICAgICAgIC8vICh0aGlzIG1heSBjaGFuZ2UgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgcmF0aW8ocykgYXMgc29tZSB2YXJpYWJsZXMgYXJlXG4gICAgICAgIC8vIG5vdCBhdmFpbGFibGUgZm9yIHNvbWUgZmVhdHVyZXMpIGFuZCBmZXRjaCB0aGUgbnVtYmVyIG9mIHNlbGVjdGVkXG4gICAgICAgIC8vIHZhcmlhYmxlcyBhZnRlciB0aGF0OlxuICAgICAgICBjb25zdCBuZXdfbmJfdmFyID0gdXBkYXRlQXZhaWxhYmxlUmF0aW9zKGlkX3JlZ2lvbik7XG4gICAgICAgIHVwZGF0ZUF2YWlsYWJsZUNoYXJ0cyhuZXdfbmJfdmFyKTtcbiAgICAgICAgdXBkYXRlTXlDYXRlZ29yeVNlY3Rpb24oKTtcbiAgICAgICAgaWYgKG5ld19uYl92YXIgPj0gYXBwLmN1cnJlbnRfY29uZmlnLm5iX3Zhcikge1xuICAgICAgICAgIGlmIChvbGRfbmJfdmFyID09PSBuZXdfbmJfdmFyKSB7XG4gICAgICAgICAgICBjaGFydC51cGRhdGVDaGFuZ2VSZWdpb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZDMuc2VsZWN0KCdzcGFuLnR5cGVfY2hhcnQuc2VsZWN0ZWQnKS5kaXNwYXRjaCgnY2xpY2snKTtcbiAgICAgICAgICAgIGFsZXJ0aWZ5Lndhcm5pbmcoJ1VuZSB2YXJpYWJsZSBwcsOpY8OpZGVtbWVudCBzw6lsZWN0aW9ubsOpZSBuXFwnZXN0IHBhcyBkaXNwb25pYmxlIHBvdXIgY2V0dGUgcsOpZ2lvbi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgZmV3ZXIgc2VsZWN0ZWQgdmFyaWFibGVzIHRoYW4gcmVxdWVzdGVkIGJ5IHRoZSBjdXJyZW50IGNoYXJ0LFxuICAgICAgICAgIC8vIHJlZHJhdyB0aGUgZmlyc3QgKGRlZmF1bHQpIGtpbmQgb2YgY2hhcnQ6XG4gICAgICAgICAgZDMuc2VsZWN0KCdzcGFuLmNoYXJ0X3QxW3ZhbHVlPVwiQmFyQ2hhcnQxXCJdJykuZGlzcGF0Y2goJ2NsaWNrJyk7XG4gICAgICAgICAgYWxlcnRpZnkud2FybmluZygnRGVzIHZhcmlhYmxlcyBzw6lsZWN0aW9ubsOpZXMgc29udCBpbmRpc3BvbmlibGVzIHBvdXIgY2V0dGUgcsOpZ2lvbi4gVW4gY2hhbmdlbWVudCBkZSByZXByw6lzZW50YXRpb24gZXN0IG7DqWNlc3NhaXJlLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gVXNlciBjbGljayBvbiB0aGUgbmFtZSBvZiBhIGdyb3VwIG9mIHZhcmlhYmxlc1xuICAvLyB0byBleHBhbmQgb3IgY29sbGFwc2UgaXRzIGNvbnRlbnQ6XG4gIGQzLnNlbGVjdEFsbCgnLm5hbWVfZ3JvdXBfdmFyJylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZ3JvdXBfdmFyID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgIGNvbnN0IHRpdGxlX2Fycm93ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdzcGFuLmFycm93Jyk7XG4gICAgICBpZiAoZ3JvdXBfdmFyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICB0aXRsZV9hcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvd19kb3duJyk7XG4gICAgICAgIHRpdGxlX2Fycm93LmNsYXNzTGlzdC5hZGQoJ2Fycm93X3JpZ2h0Jyk7XG4gICAgICAgIGdyb3VwX3Zhci5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpdGxlX2Fycm93LmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93X3JpZ2h0Jyk7XG4gICAgICAgIHRpdGxlX2Fycm93LmNsYXNzTGlzdC5hZGQoJ2Fycm93X2Rvd24nKTtcbiAgICAgICAgZ3JvdXBfdmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gVXNlciBjbGljayB0byBhZGQvcmVtb3ZlIGEgdmFyaWFibGUgZnJvbSB0aGUgY29tcGFyaXNvbjpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLnRhcmdldF92YXJpYWJsZScpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkgcmV0dXJuO1xuICAgICAgbGV0IG5iX3ZhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnRhcmdldF92YXJpYWJsZScpKVxuICAgICAgICAuZmlsdGVyKGVsZW0gPT4gISFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpKS5sZW5ndGg7XG4gICAgICAvLyBTZWxlY3QgYSBuZXcgdmFyaWFibGUgYW5kIHRyaWdnZXIgdGhlIGFwcHJvcHJpYXRlIGNoYW5nZXMgb24gdGhlIGN1cnJlbnQgY2hhcnQ6XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0aGUgdXNlciB0byBiZSBhYmxlIHRvIHNlbGVjdCBtb3JlIHRoYW5cbiAgICAgICAgLy8gTUFYX1ZBUklBQkxFUyAoZGVmYXVsdCA9IDcpIHZhcmlhYmxlcyBzaW11bHRhbmVvdXNseTpcbiAgICAgICAgaWYgKG5iX3ZhciA+PSBNQVhfVkFSSUFCTEVTKSB7XG4gICAgICAgICAgYWxlcnRpZnkud2FybmluZygnTGUgbm9tYnJlIG1heGltYWwgZGUgdmFyaWFibGVzIHPDqWxlY3Rpb25uw6llcyBlc3QgYXR0ZWludC4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIGNvbnN0IGNvZGVfdmFyaWFibGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgLy8gY29uc3QgbmFtZV92YXJpYWJsZSA9IHZhcmlhYmxlc19pbmZvLmZpbmQoZCA9PiBkLmlkID09PSBjb2RlX3ZhcmlhYmxlKS5uYW1lO1xuICAgICAgICBhZGRWYXJpYWJsZShhcHAsIGNvZGVfdmFyaWFibGUpO1xuXG4gICAgICAgIGNoYXJ0LmFkZFZhcmlhYmxlKGNvZGVfdmFyaWFibGUpO1xuICAgICAgICBuYl92YXIgKz0gMTtcbiAgICAgIH0gZWxzZSB7IC8vIFJlbW92ZSBhIHZhcmlhYmxlIGZyb20gdGhlIHNlbGVjdGlvbjpcbiAgICAgICAgbmJfdmFyIC09IDE7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gbGV0IHRoZSB1c2VyIHJlbW92ZSB0aGUgdmFyaWFibGUgaWZcbiAgICAgICAgLy8gaXQncyB0aGUgb25seSBvbmUgc2VsZWN0ZWQgb3IgaWYgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWRcbiAgICAgICAgLy8gY2hhcnQgbmVlZCBhIG1pbmltdW0gbnVtYmVyIG9mIHZhcmlhYmxlczpcbiAgICAgICAgaWYgKG5iX3ZhciA8IGFwcC5jdXJyZW50X2NvbmZpZy5uYl92YXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICAgICAgcmVtb3ZlVmFyaWFibGUoYXBwLCBjb2RlX3ZhcmlhYmxlKTtcbiAgICAgICAgY2hhcnQucmVtb3ZlVmFyaWFibGUoY29kZV92YXJpYWJsZSk7XG4gICAgICAgIC8vIG1ha2VUYWJsZShhcHAuY3VycmVudF9kYXRhLCBhcHAuY3VycmVudF9jb25maWcpO1xuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIHRoZSB0b3AgbWVudSB0byBkaXNwbGF5IGF2YWlsYWJsZSBjaGFydHMgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50XG4gICAgICAvLyBudW1iZXIgb2YgYXZhaWxhYmxlIHZhcmlhYmxlczpcbiAgICAgIHVwZGF0ZUF2YWlsYWJsZUNoYXJ0cyhuYl92YXIpO1xuICAgIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnc3Bhbi50ZXJyaXRfbGV2ZWwnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGVja2VkJykpIHtcbiAgICAgICAgLy8gUmVzZXQgdGhlIHN0dWR5IHpvbmUgOlxuICAgICAgICBkMy5zZWxlY3QoJ3NwYW4uZmlsdGVyX3ZbZmlsdGVyLXZhbHVlPVwibm9fZmlsdGVyXCJdJykuZGlzcGF0Y2goJ2NsaWNrJyk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnc3Bhbi50ZXJyaXRfbGV2ZWwnKS5hdHRyKCdjbGFzcycsICd0ZXJyaXRfbGV2ZWwgc3F1YXJlJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuICAgICAgICBjb25zdCBsZXZlbF92YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICBhcHAuY3VycmVudF9jb25maWcuY3VycmVudF9sZXZlbCA9IGxldmVsX3ZhbHVlO1xuICAgICAgICB1cGRhdGVNZW51U3R1ZHlab25lcygpO1xuICAgICAgICBmaWx0ZXJMZXZlbFZhcihhcHApO1xuICAgICAgICByZXNldENvbG9ycygpO1xuICAgICAgICBtYXBfZWxlbS51cGRhdGVMZXZlbFJlZ2lvbihsZXZlbF92YWx1ZSk7XG4gICAgICAgIG1hcF9lbGVtLnVuYmluZEJydXNoQ2xpY2soKTtcbiAgICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgICBjaGFydC5jaGFuZ2VTdHVkeVpvbmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBEaXNwYXRjaCBhIGNsaWNrIGV2ZW50IG9uIHRoZSBhc3NvY2lhdGVkIGNoZWNrYm94IHdoZW4gdGhlIHRleHQgaXMgY2xpY2tlZDpcbiAgZDMuc2VsZWN0QWxsKCdzcGFuLmxhYmVsX2NoaycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJldmlvdXNTaWJsaW5nLmNsaWNrKCk7XG4gICAgfSk7XG5cbiAgY29uc3QgaGVhZGVyX21hcF9zZWN0aW9uID0gZDMuc2VsZWN0KCcjbWFwX3NlY3Rpb24gPiAjaGVhZGVyX21hcCcpO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfcmVjdF9zZWxlYycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdfbWFwX3pvb20nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAub24oJy56b29tJywgbnVsbCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwX2VsZW0udGFyZ2V0X2xheWVyLnNlbGVjdEFsbCgncGF0aCcpLm9uKCdjbGljaycsIG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyNpbWdfbWFwX3pvb20nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHN2Z19tYXAuY2FsbChtYXBfZWxlbS56b29tX21hcCk7XG4gICAgICAgIGlmIChtYXBfZWxlbS5icnVzaF9tYXApIHtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLmNhbGwobWFwX2VsZW0uYnJ1c2hfbWFwLm1vdmUsIG51bGwpO1xuICAgICAgICAgIHN2Z19tYXAuc2VsZWN0KCcuYnJ1c2hfbWFwJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIG1hcF9lbGVtLnRhcmdldF9sYXllci5zZWxlY3RBbGwoJ3BhdGgnKS5vbignY2xpY2snLCBudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjaW1nX21hcF9zZWxlY3QnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nX3JlY3Rfc2VsZWMnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZ19tYXBfem9vbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBzdmdfbWFwLm9uKCcuem9vbScsIG51bGwpO1xuICAgICAgICBpZiAobWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgICAgICAgc3ZnX21hcC5zZWxlY3QoJy5icnVzaF9tYXAnKS5jYWxsKG1hcF9lbGVtLmJydXNoX21hcC5tb3ZlLCBudWxsKTtcbiAgICAgICAgICBzdmdfbWFwLnNlbGVjdCgnLmJydXNoX21hcCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGNoYXJ0LmhhbmRsZUNsaWNrTWFwKGQsIHRoaXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGhlYWRlcl9tYXBfc2VjdGlvbi5zZWxlY3QoJyN6b29tX2luJylcbiAgICAub24oJ2NsaWNrJywgem9vbUNsaWNrKTtcblxuICBoZWFkZXJfbWFwX3NlY3Rpb24uc2VsZWN0KCcjem9vbV9vdXQnKVxuICAgIC5vbignY2xpY2snLCB6b29tQ2xpY2spO1xuXG4gIGlmICghbWFwX2VsZW0uYnJ1c2hfbWFwKSB7XG4gICAgaWYgKGNoYXJ0LmhhbmRsZUNsaWNrTWFwKSB7XG4gICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgY2hhcnQuaGFuZGxlQ2xpY2tNYXAoZCwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBfZWxlbS50YXJnZXRfbGF5ZXIuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgLm9uKCdjbGljaycsIG51bGwpO1xuICAgIH1cbiAgfVxuICBiaW5kVG9wQnV0dG9ucyhjaGFydCwgbWFwX2VsZW0pO1xufVxuXG4vKipcbiogRnVuY3Rpb24gdG8gaGFuZGxlIGNsaWNrIG9uIHRoZSB0b3AgbWVudSwgaW4gb3JkZXIgdG8gY2hvb3NlXG4qIGJldHdlZW4gYXZhaWxhYmxlIHJlcHJlc2VudGF0aW9ucy5cbipcbiogQHBhcmFtIHtPYmplY3R9IGNoYXJ0IC1cbiogQHBhcmFtIHtPYmplY3R9IG1hcF9lbGVtIC1cbiogQHJldHVybiB7dm9pZH1cbiovXG5leHBvcnQgZnVuY3Rpb24gYmluZFRvcEJ1dHRvbnMoY2hhcnQsIG1hcF9lbGVtKSB7XG4gIGQzLnNlbGVjdEFsbCgnLnR5cGVfY2hhcnQnKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHJldHVybjtcbiAgICAgIC8vIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkgcmV0dXJuO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGVfY2hhcnQuc2VsZWN0ZWQnKS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgY2hhcnQucmVtb3ZlKCk7XG4gICAgICBjaGFydCA9IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHVuYmluZFVJKCk7XG4gICAgICBtYXBfZWxlbS5yZXNldFpvb20oKTtcbiAgICAgIGFwcC5jb2xvcnMgPSB7fTtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBpZiAodmFsdWUgPT09ICdCYXJDaGFydDEnKSB7XG4gICAgICAgIGNoYXJ0ID0gbmV3IEJhckNoYXJ0MShhcHAuY3VycmVudF9kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1NjYXR0ZXJQbG90MicpIHtcbiAgICAgICAgY2hhcnQgPSBuZXcgU2NhdHRlclBsb3QyKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUmFkYXJDaGFydDMnKSB7XG4gICAgICAgIGNoYXJ0ID0gbmV3IFJhZGFyQ2hhcnQzKGFwcC5jdXJyZW50X2RhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnU2ltaWxhcml0eTFwbHVzJykge1xuICAgICAgICBjaGFydCA9IG5ldyBTaW1pbGFyaXR5MXBsdXMoYXBwLmN1cnJlbnRfZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIH1cbiAgICAgIGJpbmRVSV9jaGFydChjaGFydCwgbWFwX2VsZW0pO1xuICAgICAgbWFwX2VsZW0uYmluZEJydXNoQ2xpY2soY2hhcnQpO1xuICAgICAgY2hhcnQuYmluZE1hcChtYXBfZWxlbSk7XG4gICAgICBhcHAuY2hhcnQgPSBjaGFydDtcbiAgICAgIGFwcC5tYXAgPSBtYXBfZWxlbTtcbiAgICAgIFRvb2x0aXBzaWZ5KCdbdGl0bGUtdG9vbHRpcF0nKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYmluZEhlbHBNZW51KCkge1xuICBjb25zdCBoZWxwX2J1dHRvbnNfdmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfdmFyaWFibGVzJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscF9idXR0b25zX3ZhcikuZm9yRWFjaCgoYnRuX2kpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBidG5faS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgY29kZV92YXJpYWJsZSA9IHRoaXMucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICBjb25zdCBvID0gdmFyaWFibGVzX2luZm8uZmluZChkID0+IGQuaWQgPT09IGNvZGVfdmFyaWFibGUpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IHRpbmdsZS5tb2RhbCh7XG4gICAgICAgIHN0aWNreUZvb3RlcjogZmFsc2UsXG4gICAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgICAgY2xvc2VMYWJlbDogJ0Nsb3NlJyxcbiAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbW9kYWwuc2V0Q29udGVudChcbiAgICAgICAgYDxwIHN0eWxlPVwiY29sb3I6ICM0ZjgxYmQ7Zm9udC1zaXplOiAxLjJyZW07XCI+RGVzY3JpcHRpb24gZGUgbCdpbmRpY2F0ZXVyPC9wPlxuICAgICAgICA8cCBzdHlsZT1cInRleHQtYWxpZ246IGp1c3RpZnk7XCI+JHtvLm1ldGhvZG8uc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKX08L3A+XG4gICAgICAgIDxwPiR7by5zb3VyY2V9PC9wPlxuICAgICAgICA8cD5EYXRlIGRlIHTDqWzDqWNoYXJnZW1lbnQgZGUgbGEgZG9ubsOpZSA6ICR7by5sYXN0X3VwZGF0ZX08L3A+YCk7XG4gICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgaGVscHNfYnV0dG9uc19zdHVkeV96b25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lbnVfc3R1ZHl6b25lJykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5pX2luZm8nKTtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaGVscHNfYnV0dG9uc19zdHVkeV96b25lKS5mb3JFYWNoKChidG5faSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgZnVuYy1uYW1lc1xuICAgIGJ0bl9pLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBmaWx0ZXJfaWQgPSB0aGlzLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCdmaWx0ZXItdmFsdWUnKTtcbiAgICAgIGNvbnN0IG8gPSBzdHVkeV96b25lcy5maW5kKGQgPT4gZC5pZCA9PT0gZmlsdGVyX2lkKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgICBzdGlja3lGb290ZXI6IGZhbHNlLFxuICAgICAgICBjbG9zZU1ldGhvZHM6IFsnb3ZlcmxheScsICdidXR0b24nLCAnZXNjYXBlJ10sXG4gICAgICAgIGNsb3NlTGFiZWw6ICdDbG9zZScsXG4gICAgICAgIG9uT3BlbigpIHtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYudGluZ2xlLW1vZGFsLnRpbmdsZS1tb2RhbC0tdmlzaWJsZScpLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLjQpJztcbiAgICAgICAgfSxcbiAgICAgICAgb25DbG9zZSgpIHtcbiAgICAgICAgICBtb2RhbC5kZXN0cm95KCk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGxldCBjb250ZW50ID0gYDxwIHN0eWxlPVwiY29sb3I6ICM0ZjgxYmQ7Zm9udC1zaXplOiAxLjJyZW07XCI+PGI+JHtvLm5hbWV9PC9iPjwvcD5cbjxwIHN0eWxlPVwidGV4dC1hbGlnbjoganVzdGlmeTtcIj4ke28ubWV0aG9kb2xvZ3kuc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKX08L3A+YDtcblxuICAgICAgaWYgKFsnU1BBVCcsICdVTklUX1NVUCddLmluZGV4T2YoZmlsdGVyX2lkKSA8IDApIHtcbiAgICAgICAgY29udGVudCArPSBgPHA+PGEgY2xhc3M9XCJidXR0b25Eb3dubG9hZFwiIGhyZWY9XCJkYXRhLyR7by51cmx9XCI+TcOpdGhvZG9sb2dpZSBkw6l0YWlsbMOpZSAoLnBkZik8L2E+PC9wPmA7XG4gICAgICB9XG4gICAgICBtb2RhbC5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYS5idXR0b25Eb3dubG9hZCcpLm9uY2xpY2sgPSBjbGlja0RsUGRmO1xuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IGhlbHBzX2J1dHRvbnNfdGVycml0X3VuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudV90ZXJyaXRfbGV2ZWwnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLmlfaW5mbycpO1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChoZWxwc19idXR0b25zX3RlcnJpdF91bml0KS5mb3JFYWNoKChidG5faSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgZnVuYy1uYW1lc1xuICAgIGJ0bl9pLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB0ZXJyaXRfbGV2ZWxfaWQgPSB0aGlzLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgY29uc3QgbyA9IHRlcnJpdG9yaWFsX21lc2guZmluZChkID0+IGQuaWQgPT09IHRlcnJpdF9sZXZlbF9pZCk7XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgICBzdGlja3lGb290ZXI6IGZhbHNlLFxuICAgICAgICBjbG9zZU1ldGhvZHM6IFsnb3ZlcmxheScsICdidXR0b24nLCAnZXNjYXBlJ10sXG4gICAgICAgIGNsb3NlTGFiZWw6ICdDbG9zZScsXG4gICAgICAgIG9uT3BlbigpIHtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYudGluZ2xlLW1vZGFsLnRpbmdsZS1tb2RhbC0tdmlzaWJsZScpLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLDAuNCknO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlKCkge1xuICAgICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbGV0IGNvbnRlbnQgPSBgPHAgc3R5bGU9XCJjb2xvcjogIzRmODFiZDtmb250LXNpemU6IDEuMnJlbTtcIj48Yj4ke28ubmFtZX08L2I+PC9wPlxuPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBqdXN0aWZ5O1wiPiR7by5tZXRob2RvbG9neS5zcGxpdCgnXFxuJykuam9pbignPGJyPicpfTwvcD5gO1xuICAgICAgaWYgKG8uaWQgPT09ICdOMTJfUE9MJykge1xuICAgICAgICBjb250ZW50ICs9ICc8cD48YSBjbGFzcz1cImJ1dHRvbkRvd25sb2FkXCIgaHJlZj1cImRhdGEvRG9jX01haWxsZV9pbmZyYW5hdGlvbmFsZV9kZWNpc2lvbi5wZGZcIj5Nw6l0aG9kb2xvZ2llIGTDqXRhaWxsw6llICgucGRmKTwvYT48L3A+JztcbiAgICAgIH1cbiAgICAgIG1vZGFsLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJpbmRDcmVkaXRzU291cmNlKCkge1xuICBjb25zdCBjcmVkaXRzX2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaW5rX2NyZWRpdHNfc291cmNlJyk7XG4gIGNyZWRpdHNfYnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICBjb25zdCBtb2RhbCA9IG5ldyB0aW5nbGUubW9kYWwoe1xuICAgICAgc3RpY2t5Rm9vdGVyOiBmYWxzZSxcbiAgICAgIGNsb3NlTWV0aG9kczogWydvdmVybGF5JywgJ2J1dHRvbicsICdlc2NhcGUnXSxcbiAgICAgIGNsb3NlTGFiZWw6ICdDbG9zZScsXG4gICAgICBvbk9wZW4oKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi50aW5nbGUtbW9kYWwudGluZ2xlLW1vZGFsLS12aXNpYmxlJykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNCknO1xuICAgICAgfSxcbiAgICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIG1vZGFsLmRlc3Ryb3koKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgbW9kYWwuc2V0Q29udGVudChcbiAgICAgIGA8cCBzdHlsZT1cImNvbG9yOiAjNGY4MWJkO2ZvbnQtc2l6ZTogMS4ycmVtO1wiPjxiPlJlZ2lvdml6PC9iPiAtIMOAIHByb3BvczwvcD5cbiAgICAgIDxicj48YnI+PGJyPlxuICAgICAgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBqdXN0aWZ5O1wiPkNvZGUgc291cmNlIDogPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9yaWF0ZWxhYi9yZWdpb3Zpei9cIj5odHRwczovL2dpdGh1Yi5jb20vcmlhdGVsYWIvcmVnaW92aXovPC9hPjwvcD5cbiAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjoganVzdGlmeTtcIj5WZXJzaW9uIDxiPiR7YXBwLnZlcnNpb259PC9iPjwvcD5cbiAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjoganVzdGlmeTtcIj5Ew6l2ZWxvcHBlbWVudCA6IC4uLjwvcD5cbiAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjoganVzdGlmeTtcIj5GaW5hbmNlbWVudCA6IC4uLjwvcD5gKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xuICBkMy5xdWV1ZSg0KVxuICAgIC5kZWZlcihkMy5jc3YsICdkYXRhL1JFR0lPVklaX0RBVEEuY3N2JylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvQ0dFVF9udXRzX2FsbDMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2JvcmRlcnMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMtcmVtb3RlMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY29hc3RzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvY29hc3RzLXJlbW90ZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2N5cHJ1c19ub25fZXNwb25fc3BhY2UzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9jb3VudHJpZXMtcmVtb3RlLWJvdW5kYXJpZXMzMDM1Lmdlb2pzb24nKVxuICAgIC5kZWZlcihkMy5qc29uLCAnZGF0YS9mcmFtZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL2JveGVzMzAzNS5nZW9qc29uJylcbiAgICAuZGVmZXIoZDMuanNvbiwgJ2RhdGEvbGluZTMwMzUuZ2VvanNvbicpXG4gICAgLmRlZmVyKGQzLmpzb24sICdkYXRhL3N0eWxlcy5qc29uJylcbiAgICAuZGVmZXIoZDMuY3N2LCAnZGF0YS9pbmRpY2F0ZXVyc19tZXRhLmNzdicpXG4gICAgLmF3YWl0QWxsKChlcnJvciwgcmVzdWx0cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwaW5uZXInKS5yZW1vdmUoKTtcbiAgICAgIGFwcC5yYXRpb1RvV2lkZSA9IGdldFJhdGlvVG9XaWRlKCk7XG4gICAgICBjb25zdCBbXG4gICAgICAgIGZ1bGxfZGF0YXNldCwgbnV0cywgYm9yZGVycywgY291bnRyaWVzLCBjb3VudHJpZXNfcmVtb3RlLFxuICAgICAgICBjb2FzdHMsIGNvYXN0c19yZW1vdGUsIGN5cHJ1c19ub25fZXNwb25fc3BhY2UsXG4gICAgICAgIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllcywgZnJhbWUsIGJveGVzLCBsaW5lLCBzdHlsZXNfbWFwLFxuICAgICAgICBtZXRhZGF0YV9pbmRpY2F0ZXVycyxcbiAgICAgIF0gPSByZXN1bHRzO1xuICAgICAgYWxlcnRpZnkuc2V0KCdub3RpZmllcicsICdwb3NpdGlvbicsICdib3R0b20tbGVmdCcpO1xuICAgICAgcHJlcGFyZVZhcmlhYmxlc0luZm8obWV0YWRhdGFfaW5kaWNhdGV1cnMpO1xuICAgICAgLy8gVE9ETyA6IFJlb3JkZXIgaXQgaW4gdGhlIGRhdGFzZXQgOlxuICAgICAgbGV0IGZlYXR1cmVzX21lbnUgPSBmdWxsX2RhdGFzZXQuZmlsdGVyKGZ0ID0+IGZ0LlJFR0lPVklaID09PSAnMScpO1xuICAgICAgZmVhdHVyZXNfbWVudSA9IGZlYXR1cmVzX21lbnUuc2xpY2UoMCwgMSkuY29uY2F0KFxuICAgICAgICBmZWF0dXJlc19tZW51LnNsaWNlKDYpKS5jb25jYXQoZmVhdHVyZXNfbWVudS5zbGljZSgxLCA2KSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIGZlYXR1cmVzX21lbnUuZm9yRWFjaCgoZnQpID0+IHsgZnQubmFtZSA9IGZ0Lm5hbWUucmVwbGFjZSgnIOKAlCAnLCAnIC0gJyk7IH0pO1xuICAgICAgY29uc3Qgc3RhcnRfcmVnaW9uID0gZ2V0UmFuZG9tKGZlYXR1cmVzX21lbnUubWFwKGQgPT4gZC5pZCksIDEyKTtcbiAgICAgIGNvbnN0IHN0YXJ0X3ZhcmlhYmxlID0gZ2V0UmFuZG9tKFxuICAgICAgICBbJ1JFVk1FTicsICdDSE9NMTU3NCcsICdDSE9NMTUyNCddKTtcbiAgICAgIHByZXBhcmVfZGF0YXNldChmdWxsX2RhdGFzZXQsIGFwcCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnKHN0YXJ0X3JlZ2lvbiwgc3RhcnRfdmFyaWFibGUsICdOMScpO1xuICAgICAgcHJlcGFyZUdlb21MYXllcklkKG51dHMsIGFwcC5jdXJyZW50X2NvbmZpZy5pZF9maWVsZF9nZW9tKTtcbiAgICAgIGNyZWF0ZU1lbnUoZmVhdHVyZXNfbWVudSwgdmFyaWFibGVzX2luZm8uZmlsdGVyKGQgPT4gZC5ncm91cCksIHN0dWR5X3pvbmVzLCB0ZXJyaXRvcmlhbF9tZXNoKTtcbiAgICAgIGJpbmRDcmVkaXRzU291cmNlKCk7XG4gICAgICB1cGRhdGVNZW51U3R1ZHlab25lcygpO1xuICAgICAgYmluZEhlbHBNZW51KCk7XG4gICAgICBtYWtlVG9wTWVudSgpO1xuICAgICAgaGFuZGxlSW5wdXRSZWdpb05hbWUoZmVhdHVyZXNfbWVudSk7XG4gICAgICBtYWtlSGVhZGVyQ2hhcnQoKTtcbiAgICAgIG1ha2VIZWFkZXJNYXBTZWN0aW9uKCk7XG4gICAgICBzZXREZWZhdWx0Q29uZmlnTWVudShzdGFydF9yZWdpb24sIHN0YXJ0X3ZhcmlhYmxlLCAnTjEnKTtcbiAgICAgIGZpbHRlckxldmVsVmFyKGFwcCk7XG4gICAgICBjb25zdCBvdGhlcl9sYXllcnMgPSBuZXcgTWFwKFtcbiAgICAgICAgWydib3JkZXJzJywgYm9yZGVyc10sIFsnYm94ZXMnLCBib3hlc10sXG4gICAgICAgIFsnY291bnRyaWVzJywgY291bnRyaWVzXSwgWydjb3VudHJpZXNfcmVtb3RlJywgY291bnRyaWVzX3JlbW90ZV0sXG4gICAgICAgIFsnY29hc3RzJywgY29hc3RzXSwgWydjb2FzdHNfcmVtb3RlJywgY29hc3RzX3JlbW90ZV0sXG4gICAgICAgIFsnY3lwcnVzX25vbl9lc3Bvbl9zcGFjZScsIGN5cHJ1c19ub25fZXNwb25fc3BhY2VdLFxuICAgICAgICBbJ2NvdW50cmllc19yZW1vdGVfYm91bmRhcmllcycsIGNvdW50cmllc19yZW1vdGVfYm91bmRhcmllc10sXG4gICAgICAgIFsnZnJhbWUnLCBmcmFtZV0sIFsnbGluZScsIGxpbmVdLCBbJ2JveGVzMicsIGJveGVzXSxcbiAgICAgIF0pO1xuICAgICAgY29uc3QgbWFwX2VsZW0gPSBuZXcgTWFwU2VsZWN0KG51dHMsIG90aGVyX2xheWVycywgc3R5bGVzX21hcCk7XG4gICAgICBjb25zdCBjaGFydCA9IG5ldyBCYXJDaGFydDEoYXBwLmN1cnJlbnRfZGF0YSk7XG4gICAgICBtYWtlU291cmNlU2VjdGlvbigpO1xuICAgICAgYmluZFVJX2NoYXJ0KGNoYXJ0LCBtYXBfZWxlbSk7XG4gICAgICBtYXBfZWxlbS5iaW5kQnJ1c2hDbGljayhjaGFydCk7XG4gICAgICBjaGFydC5iaW5kTWFwKG1hcF9lbGVtKTtcbiAgICAgIGFwcC5jaGFydCA9IGNoYXJ0O1xuICAgICAgYXBwLm1hcCA9IG1hcF9lbGVtO1xuICAgICAgVG9vbHRpcHNpZnkoJ1t0aXRsZS10b29sdGlwXScpO1xuICAgIH0pO1xufVxuXG5sb2FkRGF0YSgpO1xuXG53aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHdpZHRoX3ZhbHVlX21hcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfc2VjdGlvbicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICogMC45ODtcbiAgY29uc3Qgd2lkdGhfdmFsdWVfY2hhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFyX3NlY3Rpb24nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAqIDAuOTg7XG4gIGQzLnNlbGVjdCgnLmNvbnRfc3ZnLmNtYXAnKS5zdHlsZSgncGFkZGluZy10b3AnLCBgJHsoZml4ZWRfZGltZW5zaW9uLm1hcC5oZWlnaHQgLyBmaXhlZF9kaW1lbnNpb24ubWFwLndpZHRoKSAqIHdpZHRoX3ZhbHVlX21hcH1weGApO1xuICBkMy5zZWxlY3QoJy5jb250X3N2Zy5jY2hhcnQnKS5zdHlsZSgncGFkZGluZy10b3AnLCBgJHsoZml4ZWRfZGltZW5zaW9uLmNoYXJ0LmhlaWdodCAvIGZpeGVkX2RpbWVuc2lvbi5jaGFydC53aWR0aCkgKiB3aWR0aF92YWx1ZV9jaGFydH1weGApO1xuICBkMy5zZWxlY3QoJy5jb250X3N2Zy5jbGdkJykuc3R5bGUoJ3BhZGRpbmctdG9wJywgYCR7KGZpeGVkX2RpbWVuc2lvbi5sZWdlbmQuaGVpZ2h0IC8gZml4ZWRfZGltZW5zaW9uLmxlZ2VuZC53aWR0aCkgKiB3aWR0aF92YWx1ZV9tYXB9cHhgKTtcbn07XG4iXSwibmFtZXMiOlsiZGVmaW5lIiwidGhpcyIsImNvbG9yX2NvdW50cmllcyIsImNvbG9yX2Rpc2FibGVkIiwiY29sb3Jfc3VwIiwiY29sb3JfaW5mIiwiY29sb3JfaGlnaGxpZ2h0IiwiY29sb3JfZGVmYXVsdF9kaXNzaW0iLCJmb3JtYXRuYl9kZWNpbWFsX3NlcCIsImZvcm1hdG5iX3Rob3VzYW5kc19zZXAiLCJNQVhfVkFSSUFCTEVTIiwiZml4ZWRfZGltZW5zaW9uIiwid2lkdGgiLCJoZWlnaHQiLCJhcnIiLCJmb3JFYWNoIiwiaXRlbSIsImhhc093blByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJyZW1vdmUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJFbGVtZW50IiwicHJvdG90eXBlIiwiQ2hhcmFjdGVyRGF0YSIsIkRvY3VtZW50VHlwZSIsIkFycmF5IiwiZmluZCIsInByZWRpY2F0ZSIsIlR5cGVFcnJvciIsImsiLCJrVmFsdWUiLCJvIiwiT2JqZWN0IiwibGVuIiwibGVuZ3RoIiwidGhpc0FyZyIsImFyZ3VtZW50cyIsImNhbGwiLCJ1bmRlZmluZWQiLCJhc3NpZ24iLCJ0YXJnZXQiLCJ2YXJBcmdzIiwidG8iLCJpbmRleCIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiZmlsbCIsInZhbHVlIiwiTyIsInN0YXJ0IiwicmVsYXRpdmVTdGFydCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJlbmQiLCJyZWxhdGl2ZUVuZCIsImZpbmFsIiwibWF0aF9wb3ciLCJwb3ciLCJtYXRoX2FicyIsImFicyIsIm1hdGhfcm91bmQiLCJyb3VuZCIsIm1hdGhfbWF4IiwibWF0aF9taW4iLCJtYXRoX3NpbiIsInNpbiIsIm1hdGhfY29zIiwiY29zIiwibWF0aF9zcXJ0Iiwic3FydCIsIkhBTEZfUEkiLCJQSSIsImdldEVsZW1lbnRzRnJvbVBvaW50IiwieCIsInkiLCJjb250ZXh0IiwiZG9jdW1lbnQiLCJib2R5IiwiZWxlbWVudHNGcm9tUG9pbnQiLCJzbGljZSIsIm1zRWxlbWVudHNGcm9tUG9pbnQiLCJlbGVtZW50cyIsImNoaWxkcmVuIiwiaSIsImwiLCJwb3MiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJwdXNoIiwicHJlcGFyZVRvb2x0aXAyIiwicGFyZW50IiwiYmVmb3JlIiwiY2xhc3NuYW1lIiwidCIsInNlbGVjdCIsIm5vZGUiLCJ0b29sdGlwIiwiaW5zZXJ0IiwiYXR0ciIsInN0eWxlIiwiYXBwZW5kIiwiVG9vbHRpcHNpZnkiLCJzZWxlY3RvciIsIm9wdGlvbnMiLCJvcHRzIiwiY2xhc3NOYW1lIiwiZGF0YUF0dHIiLCJ0aW1lb3V0IiwiZWxlbXMiLCJkMyIsInNlbGVjdEFsbCIsIl9ncm91cHMiLCJ0b29sdGlwX3BhcmVudCIsIm9uIiwic2V0VGltZW91dCIsImh0bWwiLCJnZXRBdHRyaWJ1dGUiLCJiIiwic3R5bGVzIiwiZXZlbnQiLCJwYWdlWCIsInBhZ2VZIiwidW5iaW5kVUkiLCJvbmtleXVwIiwib25rZXlkb3duIiwiY29tcCIsInRlc3RfdmFsdWUiLCJyZWZfdmFsdWUiLCJzZXJpZV9pbnZlcnNlZCIsImNvbXAyIiwidmFsMSIsInZhbDIiLCJyZWZfdmFsMSIsInJlZl92YWwyIiwieEludmVyc2VkIiwieUludmVyc2VkIiwiUmVjdCIsInRvcGxlZnQiLCJib3R0b21yaWdodCIsInhtaW4iLCJ4bWF4IiwieW1pbiIsInltYXgiLCJwdCIsIlByb3BTaXplciIsImZpeGVkX3ZhbHVlIiwiZml4ZWRfc2l6ZSIsInNtYXgiLCJzY2FsZSIsInZhbCIsImdldF92YWx1ZSIsInNpemUiLCJyZW1vdmVEdXBsaWNhdGVzIiwidG1wIiwibGVuX2FyciIsImluZGV4T2YiLCJnZXRTdmdQYXRoVHlwZSIsInBhdGgiLCJzdmdQYXRoVG9Db29yZHMiLCJ0eXBlX3BhdGgiLCJzcGxpdCIsIm1hcCIsImEiLCJjb21wdXRlUGVyY2VudGlsZVJhbmsiLCJvYmoiLCJmaWVsZF9uYW1lIiwicmVzdWx0X2ZpZWxkX25hbWUiLCJ2YWx1ZXMiLCJkIiwibGVuX3ZhbHVlcyIsImdldFBSIiwidiIsImNvdW50IiwiaXgiLCJnZXRNZWFuIiwic2VyaWUiLCJuYl92YWx1ZXMiLCJzdW0iLCJnZXRTdGREZXYiLCJtZWFuX3ZhbHVlIiwiZXVjbGlkaWFuX2Rpc3RhbmNlIiwiZmVhdHVyZTEiLCJmZWF0dXJlMiIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInNlbGVjdEZpcnN0QXZhaWxhYmxlVmFyIiwibWVudSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJwcmVwYXJlR2VvbUxheWVySWQiLCJsYXllciIsImlkX2ZpZWxkIiwiZmVhdHVyZXMiLCJmdCIsImlkIiwicHJvcGVydGllcyIsImdldFJhbmRvbSIsImZhbHNlX2xlbmd0aCIsInJhbmRvbSIsImdldFJhdGlvVG9XaWRlIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJhZGRUaG91c2FuZHNTZXBhcmF0b3IiLCJyZWciLCJ0ZXN0IiwicmVwbGFjZSIsImZvcm1hdE51bWJlciIsInByZWNpc2lvbiIsIm1hdGNoIiwibXVsdCIsImNvbmNhdCIsImpvaW4iLCJ2YWx1ZXNfbGlzdCIsIm5vQ29udGV4dE1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrRGxQZGYiLCJocmVmIiwib3BlbiIsInJldHVyblZhbHVlIiwiZXhwb3J0SHRtbFJhcHBvcnQiLCJzZWN0aW9ucyIsIm5hbWVfbXlfcmVnaW9uIiwic2VjdGlvbl9zZWxlY3Rpb24iLCJzZWN0aW9uX2hlbHAiLCJzZWN0aW9uX3NvdXJjZSIsInRhcmdldFN2Z01hcCIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0U3ZnQ2hhcnQiLCJzZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsInN2Z19zb3VyY2VzIiwic2VyaWFsaXplVG9TdHJpbmciLCJzb3VyY2UiLCJuZXdfaHRtbF9kb2MiLCJjcmVhdGVNZW51IiwibmFtZXMiLCJ2YXJpYWJsZXMiLCJzdHVkeV96b25lcyIsInRlcnJpdG9yaWFsX21lc2giLCJ0aXRsZV9zZWN0aW9uMSIsImNyZWF0ZUVsZW1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsIm92ZXJmbG93IiwiaW5uZXJIVE1MIiwic2VjdGlvbjEiLCJsZW5faSIsIm5hbWUiLCJlbnRyeSIsImFwcGVuZENoaWxkIiwidGl0bGVfc2VjdGlvbjIiLCJzZWN0aW9uMiIsIm1heEhlaWdodCIsImdyb3Vwc192YXIiLCJncm91cCIsImZpbHRlciIsImdwX25hbWUiLCJjdXJzb3IiLCJkaXZfZ3JwIiwiZGlzcGxheSIsInZhcl9uYW1lcyIsImoiLCJsZW5faiIsIm5hbWVfdmFyIiwiY29kZV92YXIiLCJzdWJfZW50cnkiLCJ0aXRsZV9zZWN0aW9uMyIsInNlY3Rpb24zIiwiem9uZSIsImRpc3BsYXlfbGV2ZWwiLCJ0aXRsZV9zZWN0aW9uNCIsInNlY3Rpb240IiwidGVycml0X2xldmVsIiwic2VjdGlvbjUiLCJpbWcyIiwic3JjIiwibWFyZ2luIiwiZmxvYXQiLCJsb2dvX3JlZ2lvdml6IiwiaW1nMSIsImJsYWJsYSIsImZvbnRTaXplIiwiaGFuZGxlSW5wdXRSZWdpb05hbWUiLCJhbGxvd2VkX25hbWVzIiwiaWRzX25hbWVzIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsIm5hbWVzMiIsIm9uYmx1ciIsImFwcCIsImN1cnJlbnRfY29uZmlnIiwibXlfcmVnaW9uX3ByZXR0eV9uYW1lIiwiZXYiLCJuZXdfdmFsdWUiLCJsYXN0SW5kZXhPZiIsImtleSIsInN1YnN0ciIsInN0cl9hZnRlciIsIm5ld19zdHIiLCJjb2RlIiwiY2xpY2siLCJtYWtlVG9wTWVudSIsInRvcF9tZW51IiwiYXR0cnMiLCJjbGFzcyIsInR5cGVfY2hhcnQiLCJwb3NpdGlvbiIsInJlc3NlbWJsYW5jZSIsIm1ha2VIZWFkZXJNYXBTZWN0aW9uIiwiaGVhZGVyX21hcF9zZWN0aW9uIiwidGl0bGUiLCJjb21wbGV0dWRlX3NlY3Rpb24iLCJ0ZXh0IiwibWFrZUhlYWRlckNoYXJ0IiwiaGVhZGVyX2Jhcl9zZWN0aW9uIiwiY29udGVudCIsIm1vZGFsIiwidGluZ2xlIiwiYmFja2dyb3VuZCIsImRlc3Ryb3kiLCJzZXRDb250ZW50Iiwib25jbGljayIsInJhdGlvcyIsInJhdGlvIiwibnVtcyIsIm51bSIsImRlbnVtcyIsImRlbnVtIiwiY29sdW1ucyIsInRhYmxlX2NvbnRlbnQiLCJjaGFydCIsImN1cnJlbnRfaWRzIiwiaWR4IiwibDEiLCJjdXJyZW50X2RhdGEiLCJsMiIsImRhdGEiLCJsb2ciLCJjIiwiZWxlbSIsInNldEF0dHJpYnV0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcXVlc3QiLCJlcnJvciIsInJlc3VsdCIsInJlc3BvbnNlIiwicmVtb3ZlQXR0cmlidXRlIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0VGVtcGxhdGVIZWxwIiwiaHRtbF9kb2MiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwidHlwZSIsImhlbHBfbWVzc2FnZSIsImdldEhlbHBNZXNzYWdlIiwicHJlcGFyZV9kYXRhc2V0IiwiZnVsbF9kYXRhc2V0IiwiZmVhdHVyZV9uYW1lcyIsImZpbHRlckxldmVsVmFyIiwiY3VycmVudF9sZXZlbCIsImZpbHRlcl9rZXkiLCJuYW1lX2ZpZWxkIiwibXlfcmVnaW9uIiwiYWxsX3ZhcmlhYmxlcyIsInRlbXAiLCJteV9jYXRlZ29yeSIsInByb3BzX2ZlYXR1cmUiLCJmaWx0ZXJMZXZlbEdlb20iLCJudXRzX2ZlYXR1cmVzIiwicHJlcGFyZVZhcmlhYmxlc0luZm8iLCJtZXRhZGF0YV9pbmRpY2F0ZXVycyIsIlJlZ2lvdml6X2l0ZW0iLCJpZDEiLCJpZDIiLCJOYW1lIiwicGFyc2VJbnQiLCJZZWFyIiwiVW5pdCIsIlRoZW1lIiwiTWV0aG9kb2xvZ3kiLCJEYXRhX3NvdXJjZSIsIkxhc3RfdXBkYXRlIiwiRm9ybXVsYSIsIm1ldGhvZG9sb2d5IiwiYXBwbHlGaWx0ZXIiLCJmaWx0ZXJfdHlwZSIsImNvbG9ycyIsImNoYW5nZVJlZ2lvbiIsImlkX3JlZ2lvbiIsIm1hcF9lbGVtIiwiY29tcHV0ZURpc3RNYXQiLCJnZXRVbml0c1dpdGhpbiIsImFkZFZhcmlhYmxlIiwiY29kZV9yYXRpbyIsInZhcmlhYmxlX2luZm8iLCJ2YXJpYWJsZXNfaW5mbyIsInJhdGlvX3ByZXR0eV9uYW1lIiwicmF0aW9fdW5pdCIsInVuaXQiLCJyZW1vdmVWYXJpYWJsZSIsInNwbGljZSIsInJlc2V0VmFyaWFibGVzIiwiY29kZXNfcmF0aW8iLCJjYWxjQ29tcGxldHVkZVN1YnNldCIsInZhcnMiLCJvdXRwdXQiLCJ0b3RhbF9sZW5ndGgiLCJyYXRpb19uYW1lIiwiZXZlcnkiLCJmaWx0ZXJlZF9sZW5ndGgiLCJjYWxjUG9wQ29tcGxldHVkZVN1YnNldCIsInBvcF9maWVsZCIsInRvdGFsX3BvcCIsIk51bWJlciIsImlzTmFOIiwic3Vic2V0X3BvcCIsInBvcCIsInN2Z19tYXAiLCJ3aWR0aF9tYXAiLCJoZWlnaHRfbWFwIiwicHJvamVjdGlvbiIsImdldF9iYm94X2xheWVyX3BhdGgiLCJiYm94X2xheWVyIiwiSW5maW5pdHkiLCJlYWNoIiwiYmJveF9wYXRoIiwiYm91bmRzIiwiZml0TGF5ZXIiLCJ0cmFuc2xhdGUiLCJzIiwibWFwX3pvb21lZCIsInRyYW5zZm9ybSIsIl9fem9vbSIsImxheWVycyIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImludGVycG9sYXRlWm9vbSIsIm5vZGVfc3ZnX21hcCIsInpvb21UcmFuc2Zvcm0iLCJ0d2VlbiIsImlUcmFuc2xhdGUiLCJpbnRlcnBvbGF0ZSIsImlTY2FsZSIsInRfdmFsdWUiLCJfdCIsInpvb21DbGljayIsImRpcmVjdGlvbiIsImZhY3RvciIsImNlbnRlciIsInZpZXciLCJ0YXJnZXRfem9vbSIsInRyYW5zbGF0ZTAiLCJtYWtlTWFwTGVnZW5kIiwibGVnZW5kX2VsZW1zIiwidHJhbnNsYXRlWSIsInJlY3Rfc2l6ZSIsInNwYWNpbmciLCJsZ2RfaGVpZ2h0Iiwib2Zmc2V0Iiwid2lkdGhfdmFsdWVfbWFwIiwibGVnZW5kIiwiZ3JwX2xnZCIsImxlZ2VuZHMiLCJlbnRlciIsInN0cm9rZSIsImxhc3RfZWxlbSIsIl9fZGF0YV9fIiwiZ2V0TGVnZW5kRWxlbXMiLCJNYXBTZWxlY3QiLCJudXRzIiwib3RoZXJfbGF5ZXJzIiwidXNlcl9zdHlsZXMiLCJ3aWR0aF92YWx1ZSIsImdlb0lkZW50aXR5IiwiZml0RXh0ZW50IiwiZ2V0IiwicmVmbGVjdFkiLCJnZW9QYXRoIiwiem9vbV9tYXAiLCJ6b29tIiwic2NhbGVFeHRlbnQiLCJ0cmFuc2xhdGVFeHRlbnQiLCJmbl9hdHRyc19sYXllcnMiLCJsYXllcl9saXN0Iiwia2V5cyIsIm5fbGF5ZXIiLCJuYW1lX2x5ciIsInN0eWxlX2xheWVyIiwidGFyZ2V0X2xheWVyIiwiX3B0cyIsInBhcmVudEVsZW1lbnQiLCJiaW5kVG9vbHRpcHMiLCJuZXdfc2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiZXhpdCIsInJlc2V0Q29sb3JzIiwic2VsZiIsImNsaWVudFgiLCJpbm5lcldpZHRoIiwiY2xpZW50WSIsInpvb21JZGVudGl0eSIsImJydXNoX21hcCIsIm1vdmUiLCJyZXNldFpvb20iLCJoYW5kbGVDbGlja01hcCIsImhhbmRsZV9icnVzaF9tYXAiLCJicnVzaCIsImV4dGVudCIsImUiLCJiYXNlVmFsIiwibmV3X2NsaWNrX2V2ZW50IiwiTW91c2VFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJkaXN0X2ttIiwiZGlzdCIsImRpc3RfdG9fbXlfcmVnaW9uIiwibmJfZnQiLCJteV9yZWdpb25fZ2VvbSIsIm15X3JlZ2lvbl9jZW50cm9pZCIsImNlbnRyb2lkIiwicmVzdWx0X2Rpc3QiLCJ0eSIsIm1ha2VTb3VyY2VTZWN0aW9uIiwic3JjX2dyb3VwIiwicmVxdWlyZSQkMCIsIm1zIiwiVGFibGVSZXN1bWVTdGF0Iiwic3VtbWFyeV9mZWF0dXJlcyIsImRvYyIsIm5iX2ZlYXR1cmVzIiwiY29sdW1uX25hbWVzIiwibmJfY29sdW1ucyIsImNvbnRhaW5lcl9kaXYiLCJteVRhYmxlIiwiaGVhZGVycyIsInRhYmxlX2JvZHkiLCJoZWFkZXJzX3JvdyIsImNlbGwiLCJyb3ciLCJjb2xfbmFtZSIsImFkZEZlYXR1cmUiLCJzdW1tYXJ5IiwiaWRfdmFyaWFibGUiLCJyb3dzIiwiQ29tcGxldHVkZVNlY3Rpb24iLCJjb21wbGV0dWRlX3BvcHVsYXRpb24iLCJjb21wbGV0dWRlX2ZlYXR1cmVzIiwidmFsdWVfZmVhdHVyZXMiLCJ2YWx1ZV9wb3AiLCJjb250ZXh0TWVudSIsIml0ZW1zIiwic2V0SXRlbXMiLCJhY3Rpb24iLCJuYl9pdGVtcyIsImFkZEl0ZW0iLCJzdG9wUHJvcGFnYXRpb24iLCJET01vYmoiLCJoaWRlTWVudSIsImluaXRNZW51Iiwic2Nyb2xsVG9wIiwiZGlzcGxheWVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsaXN0IiwibmJfaXRlbSIsInN2Z19iYXIiLCJtYXJnaW4yIiwiaGVpZ2h0MiIsInN2Z19jb250YWluZXIiLCJuYkZ0IiwiY3VycmVudF9yYW5nZV9icnVzaCIsImN1cnJlbnRfcmFuZ2UiLCJ1cGRhdGVEaW1lbnNpb25zIiwiZ2V0TWVhblJhbmsiLCJyYXRpb190b191c2UiLCJtZWFuX3JhbmsiLCJzb3J0IiwiQmFyQ2hhcnQxIiwicmVmX2RhdGEiLCJicnVzaGVkIiwic291cmNlRXZlbnQiLCJyYW5nZSIsImRvbWFpbiIsInVwZGF0ZSIsInVwZGF0ZUNvbnRleHQiLCJicnVzaF90b3AiLCJicnVzaGVkX3RvcCIsIl9mb2N1cyIsImQzX2V2ZW50IiwicmVtb3ZlUmVjdEJydXNoIiwicmVzZXRfc3RhdGVfYnV0dG9uIiwidXBkYXRlTWFwUmVnaW8iLCJkZXRhaWwiLCJuYl92YXIiLCJzY2FsZUJhbmQiLCJwYWRkaW5nIiwic2NhbGVMaW5lYXIiLCJ4QXhpcyIsImF4aXNCb3R0b20iLCJ4QXhpczIiLCJ5QXhpcyIsImF4aXNMZWZ0IiwiYXZhaWxhYmxlX3JhdGlvcyIsImN1cnJlbnRfcmFua3MiLCJmb2N1cyIsImJydXNoX2JvdHRvbSIsImJydXNoWCIsImR4IiwiZHkiLCJ0aWNrRm9ybWF0IiwiZ19iYXIiLCJnX2JydXNoX3RvcCIsImdyb3VwZV9saW5lX21lYW4iLCJfaCIsInNjcm9sbFgiLCJzY3JvbGxZIiwidXBkYXRlTWluaUJhcnMiLCJnX2JydXNoX2JvdHRvbSIsImNvbnRleHRfbGVmdF9oYW5kbGUiLCJjb250ZXh0X3JpZ2h0X2hhbmRsZSIsImNvbXBsZXR1ZGUiLCJzZXRBdHRyaWJ1dGVOUyIsIm5hbWVzcGFjZXMiLCJ4bGluayIsInRpdGxlX3ZhcmlhYmxlIiwiY2xhc3NlZCIsIm1lbnVfdmFyIiwiQ29udGV4dE1lbnUiLCJpdGVtc19tZW51IiwiY29kZV92YXJpYWJsZSIsIm5hbWVfdmFyaWFibGUiLCJ5ZWFyIiwidW5pdF95ZWFyIiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2VTdHVkeVpvbmUiLCJ1cGRhdGVDb21wbGV0dWRlIiwiYmJveCIsImVsIiwic2hvd01lbnUiLCJtZW51X3NlbGVjdGlvbiIsInNlbGVjdEJlbG93TWVhbiIsInNlbGVjdEJlbG93TXlSZWdpb24iLCJzZWxlY3RBYm92ZU1lYW4iLCJzZWxlY3RBYm92ZU15UmVnaW9uIiwibWFrZVRhYmxlU3RhdCIsIl8iLCJiYXIiLCJiYW5kd2lkdGgiLCJ0b19kaXNwbGF5IiwiYXhpc194IiwibWluaV9iYXJzIiwibXlfcmFuayIsImxhc3RfbWFwX3NlbGVjdGlvbiIsInJlY3QiLCJwdHMiLCJuYl9wdHMiLCJpZHMiLCJyYW5rcyIsImMxIiwiYzIiLCJ1cGRhdGVUYWJsZVN0YXRzIiwidXBkYXRlTGVnZW5kIiwiZ3JwX21lYW4iLCJtaW5fc2VyaWUiLCJtYXhfc2VyaWUiLCJ1cGRhdGVNZWFuVmFsdWUiLCJjb250ZW50X3Rvb2x0aXAiLCJ0YWJsZV9zdGF0cyIsInVuYmluZEJydXNoQ2xpY2siLCJkaXNwbGF5TGVnZW5kIiwicmVtb3ZlQWxsIiwicHJlcGFyZVRhYmxlU3RhdCIsIm1lZGlhbiIsImZlYXR1cmUiLCJpbmZvX3ZhciIsImluZiIsInN1cCIsIm15X3ZhbHVlIiwibmFtZV9zdHVkeV96b25lIiwiaGVscDEiLCJoZWxwMiIsImxhc3RfdXBkYXRlIiwiU2NhdHRlclBsb3QyIiwidXBkYXRlTGlnaHQiLCJyYW5nZV94IiwiaW52ZXJ0IiwicmFuZ2VfeSIsInJldmVyc2UiLCJ0MSIsInQyIiwidmFyaWFibGUxIiwidmFyaWFibGUyIiwicmFua192YXJpYWJsZTEiLCJyYW5rX3ZhcmlhYmxlMiIsInJlZl92YWx1ZTEiLCJyZWZfdmFsdWUyIiwidW5pdDEiLCJ1bml0MiIsInByZXR0eV9uYW1lMSIsInByZXR0eV9uYW1lMiIsInJlcyIsInRtcF9teV9yZWdpb24iLCJmaW5kSW5kZXgiLCJuaWNlIiwidGlja3MiLCJtZWFuX3ZhcmlhYmxlMSIsInlBeGlzMiIsInBsb3QiLCJzY2F0dGVyIiwibWFrZUdyaWQiLCJtZWFuX3ZhcmlhYmxlMiIsIm9wYWNpdHkiLCJwcmVwYXJlVGl0bGVBeGlzIiwiY2FsbEJydXNoIiwiY2hhcnRfdHlwZSIsImJpbmRNZW51IiwidGlja1NpemUiLCJtZW51WCIsIm1lbnVZIiwiaXRlbXNYIiwiY2hhbmdlVmFyaWFibGVYIiwiaXRlbXNZIiwiY2hhbmdlVmFyaWFibGVZIiwiZGVmYXVsdF9jb2xvciIsImRvdHMiLCJfdHJhbnMiLCJvcmRlciIsInNlcmllX3giLCJzZXJpZV95IiwidXBkYXRlTWVhbk1lZGlhblZhbHVlIiwidXBkYXRlQXhpc0dyaWQiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ3aXRoX3JhbmsiLCJ5b2Zmc2V0IiwidXBkYXRlSXRlbXNDdHhNZW51IiwidXBkYXRlVGFibGVTdGF0IiwidmFyX2luZm8iLCJ0aXRsZV9heGlzIiwibmV3X3Zhcl94IiwibmV3X3Zhcl95IiwibWVhbjEiLCJtZWFuMiIsInYxIiwidjIiLCJ2YWx1ZXMxIiwidmFsdWVzMiIsImFkZEZlYXR1cmVzIiwiaW5mb192YXIxIiwiaW5mb192YXIyIiwibXlfcmFuazEiLCJteV9yYW5rMiIsInN1cF9ib3RoIiwiaW5mX2JvdGgiLCJjb250cmFkIiwidG0iLCJhcnJheSIsImZyb20iLCJzd2FwIiwiaXgxIiwiaXgyIiwicHJlcGFyZV9kYXRhX3JhZGFyX2RlZmF1bHQiLCJ2X215X3JlZ2lvbiIsIm9qYl9teV9yZWdpb24iLCJfdiIsImF4ZXMiLCJyYXdfdmFsdWUiLCJyYXdfdmFsdWVfdW5pdCIsInByZXBhcmVfZGF0YV9yYWRhcl9mdCIsImZ0X3ZhbHVlcyIsIlJhZGFyQ2hhcnQzIiwiY2ZnIiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkxMCIsIm9wdHNfa2V5IiwiaW52ZXJzZWRBeGlzIiwiU2V0IiwiZyIsInciLCJoIiwicHJlcGFyZURhdGEiLCJkcmF3QXhpc0dyaWQiLCJkcmF3QXJlYSIsImFsbG93SW52ZXJzZURhdGEiLCJpbnZlcnNlX2RhdGEiLCJmaWVsZCIsImRhdGFfbGVuZ3RoIiwiYXgiLCJheGlzIiwiX3RleHQiLCJfd2lkdGgiLCJzd2FwQXhpcyIsImFsbEF4aXMiLCJuZXdfaXgiLCJyZXZlcnNlQXhpcyIsImxhYmVsIiwiaWRfYXhpcyIsImhhcyIsImRlbGV0ZSIsIndvcmRzIiwibGluZUhlaWdodCIsInBhcnNlRmxvYXQiLCJsaW5lIiwibGluZU51bWJlciIsInRzcGFuIiwid29yZCIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsIl93IiwiYXhlc19yZW9yZGVyZWQiLCJuIiwiY29sb3JzX2luX3VzZSIsIm9uX2F4ZXMiLCJpZF9teV9yZWdpb24iLCJpaSIsImRpc3BsYXllZF9pZHMiLCJibG9iV3JhcHBlciIsInJhZGFyTGluZSIsIm9wYWNpdHlBcmVhIiwiZnRfaWQiLCJjbG9uZWQiLCJjbG9uZU5vZGUiLCJzdHJva2VXaWR0aCIsImRvdFJhZGl1cyIsInJTY2FsZSIsImFuZ2xlU2xpY2UiLCJibG9iQ2lyY2xlV3JhcHBlciIsIm1ha2VUb29sdGlwcyIsInJhbmtfdmFyaWFibGVzIiwibWF4VmFsdWUiLCJ0b3RhbCIsInJhZGl1cyIsIkZvcm1hdCIsImZvcm1hdCIsInJhZGlhbExpbmUiLCJjdXJ2ZSIsInJvdW5kU3Ryb2tlcyIsImN1cnZlQ2FyZGluYWxDbG9zZWQiLCJjdXJ2ZUxpbmVhckNsb3NlZCIsImFuZ2xlIiwiYXhpc0dyaWQiLCJsZXZlbHMiLCJvcGFjaXR5Q2lyY2xlcyIsImdwX2F4aXNfbGFiZWwiLCJ0ZXh0cyIsImxhYmVsRmFjdG9yIiwid3JhcCIsIndyYXBXaWR0aCIsImZlTWVyZ2UiLCJpZF9mZWF0dXJlIiwiX2QiLCJ1cGRhdGVfYXhpcyIsInRuIiwiX2ciLCJ1cGRhdGVfYmxvYldyYXBwZXIiLCJjaXJjbGUiLCJ1cGRhdGVfYmxvYkNpcmNsZVdyYXBwZXIiLCJpbnZpc2libGVDaXJjbGUiLCJvbGRfbXlfcmVnaW9uIiwib3RoZXJfZmVhdHVyZXMiLCJhZGRfZWxlbWVudCIsImFsbF92YWx1ZXMiLCJ3YXJuaW5nIiwiU2ltaWxhcml0eTFwbHVzIiwiaGlnaGxpZ2h0X3NlbGVjdGlvbiIsInByb3BvcnRpb25uYWxfc3ltYm9scyIsImRyYXdfZ3JvdXAiLCJzZWxlY3Rpb25fY2xvc2UiLCJwcm9wZXJ0eSIsInNlY3Rpb24iLCJmb3IiLCJuYiIsInJlZHVjZSIsImdsb2JhbHJhbmsiLCJyZW1vdmVMaW5lcyIsIm5iX3ZhcmlhYmxlcyIsImhlaWdodF90b191c2UiLCJzZWxlY3Rvcl9yYXRpb19uYW1lIiwibnVtX25hbWUiLCJteV9yZWdpb25fdmFsdWUiLCJsYXllcl9vdGhlciIsImxheWVyX2hpZ2hsaWdodGVkIiwibGF5ZXJfdG9wIiwidGl0bGVfYXgiLCJwcmV2aW91c1NpYmxpbmciLCJ0aGF0X3JhdGlvIiwiY3VycmVudF9wb3NpdGlvbiIsIl9taW4iLCJfbWF4IiwiX2l4IiwiZGlzdF9heGlzIiwibWFyZ2luX21pbl9tYXgiLCJfZGlzdF9heGlzIiwicmF0aW9fdmFsdWVzIiwic2l6ZV9mdW5jIiwieFNjYWxlIiwiYnViYmxlczEiLCJ4X3ZhbHVlIiwiYnViYmxlczIiLCJidWJibGVzMyIsIl9pZCIsImlkX3RvX3JlbW92ZSIsImRpc3BsYXlMaW5lIiwicmF0aW9fbiIsInVuaXRfcmF0aW8iLCJpbmRpY19yYW5rIiwibnVtX24iLCJ1bml0X251bSIsImNvZWYiLCJmb3JtdWxhIiwiY29vcmRzIiwidHJpbSIsImJ1YmJsZSIsImN4IiwiY3kiLCJkYXR1bSIsImFwcGx5U2VsZWN0aW9uIiwibWVhbnMiLCJzdGRkZXZzIiwibWVhbiIsImFwcGx5Y2hhbmdlIiwiY2hlY2tlZCIsInNldERlZmF1bHRDb25maWciLCJ2YXJpYWJsZSIsInVwZGF0ZUF2YWlsYWJsZVJhdGlvcyIsImRhdGFfbXlfZmVhdHVyZSIsImxpbmVzIiwibmJfbGluZXMiLCJuZXh0U2libGluZyIsIm5ld192YXIiLCJuZXdfdmFyX25hbWVzIiwic2V0RGVmYXVsdENvbmZpZ01lbnUiLCJsZXZlbCIsInVwZGF0ZU1lbnVTdHVkeVpvbmVzIiwidXBkYXRlQXZhaWxhYmxlQ2hhcnRzIiwidXBkYXRlTXlDYXRlZ29yeVNlY3Rpb24iLCJiaW5kVUlfY2hhcnQiLCJsaXN0X3JlZ2lvIiwiaW5wdXRfZWxlbSIsIm9sZF9uYl92YXIiLCJuZXdfbmJfdmFyIiwidXBkYXRlQ2hhbmdlUmVnaW9uIiwiZGlzcGF0Y2giLCJncm91cF92YXIiLCJ0aXRsZV9hcnJvdyIsImxldmVsX3ZhbHVlIiwidXBkYXRlTGV2ZWxSZWdpb24iLCJiaW5kQnJ1c2hDbGljayIsImJpbmRUb3BCdXR0b25zIiwiYmluZE1hcCIsImJpbmRIZWxwTWVudSIsImhlbHBfYnV0dG9uc192YXIiLCJidG5faSIsIm1ldGhvZG8iLCJoZWxwc19idXR0b25zX3N0dWR5X3pvbmUiLCJmaWx0ZXJfaWQiLCJ1cmwiLCJoZWxwc19idXR0b25zX3RlcnJpdF91bml0IiwidGVycml0X2xldmVsX2lkIiwiYmluZENyZWRpdHNTb3VyY2UiLCJjcmVkaXRzX2J0biIsInZlcnNpb24iLCJsb2FkRGF0YSIsInF1ZXVlIiwiZGVmZXIiLCJjc3YiLCJqc29uIiwiYXdhaXRBbGwiLCJyZXN1bHRzIiwicmF0aW9Ub1dpZGUiLCJib3JkZXJzIiwiY291bnRyaWVzIiwiY291bnRyaWVzX3JlbW90ZSIsImNvYXN0cyIsImNvYXN0c19yZW1vdGUiLCJjeXBydXNfbm9uX2VzcG9uX3NwYWNlIiwiY291bnRyaWVzX3JlbW90ZV9ib3VuZGFyaWVzIiwiZnJhbWUiLCJib3hlcyIsInN0eWxlc19tYXAiLCJzZXQiLCJmZWF0dXJlc19tZW51IiwiUkVHSU9WSVoiLCJzdGFydF9yZWdpb24iLCJzdGFydF92YXJpYWJsZSIsImlkX2ZpZWxkX2dlb20iLCJNYXAiLCJvbnJlc2l6ZSIsIndpZHRoX3ZhbHVlX2NoYXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLE9BQU9BLFNBQU0sRUFBRUEsU0FBTSxDQUFDLEdBQUcsQ0FBQ0EsU0FBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBQXlCLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBYSxDQUFDLENBQUNDLGNBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxJQUFJLEdBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEVBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLEVBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUMsRUFBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxFQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEVBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEVBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxFQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxhQUFhLEdBQUUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGtDQUFrQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMseURBQXlELEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsU0FBUyxDQUFD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
